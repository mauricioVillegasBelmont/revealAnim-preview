/*! For license information please see trivia.bundle.js.LICENSE.txt */
(()=>{var t={955:function(t,e,n){var i;t.exports=(i=n(21),n(754),n(636),n(506),n(165),function(){var t=i,e=t.lib.BlockCipher,n=t.algo,r=[],s=[],a=[],o=[],u=[],h=[],l=[],c=[],d=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,i=0;for(e=0;e<256;e++){var p=i^i<<1^i<<2^i<<3^i<<4;p=p>>>8^255&p^99,r[n]=p,s[p]=n;var m=t[n],v=t[m],g=t[v],y=257*t[p]^16843008*p;a[n]=y<<24|y>>>8,o[n]=y<<16|y>>>16,u[n]=y<<8|y>>>24,h[n]=y,y=16843009*g^65537*v^257*m^16843008*n,l[p]=y<<24|y>>>8,c[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,f[p]=y,n?(n=m^t[t[t[g^m]]],i^=t[t[i]]):n=i=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=4*((this._nRounds=n+6)+1),s=this._keySchedule=[],a=0;a<i;a++)a<n?s[a]=e[a]:(h=s[a-1],a%n?n>6&&a%n==4&&(h=r[h>>>24]<<24|r[h>>>16&255]<<16|r[h>>>8&255]<<8|r[255&h]):(h=r[(h=h<<8|h>>>24)>>>24]<<24|r[h>>>16&255]<<16|r[h>>>8&255]<<8|r[255&h],h^=p[a/n|0]<<24),s[a]=s[a-n]^h);for(var o=this._invKeySchedule=[],u=0;u<i;u++){if(a=i-u,u%4)var h=s[a];else h=s[a-4];o[u]=u<4||a<=4?h:l[r[h>>>24]]^c[r[h>>>16&255]]^d[r[h>>>8&255]]^f[r[255&h]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,o,u,h,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,c,d,f,s),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,r,s,a,o){for(var u=this._nRounds,h=t[e]^n[0],l=t[e+1]^n[1],c=t[e+2]^n[2],d=t[e+3]^n[3],f=4,p=1;p<u;p++){var m=i[h>>>24]^r[l>>>16&255]^s[c>>>8&255]^a[255&d]^n[f++],v=i[l>>>24]^r[c>>>16&255]^s[d>>>8&255]^a[255&h]^n[f++],g=i[c>>>24]^r[d>>>16&255]^s[h>>>8&255]^a[255&l]^n[f++],y=i[d>>>24]^r[h>>>16&255]^s[l>>>8&255]^a[255&c]^n[f++];h=m,l=v,c=g,d=y}m=(o[h>>>24]<<24|o[l>>>16&255]<<16|o[c>>>8&255]<<8|o[255&d])^n[f++],v=(o[l>>>24]<<24|o[c>>>16&255]<<16|o[d>>>8&255]<<8|o[255&h])^n[f++],g=(o[c>>>24]<<24|o[d>>>16&255]<<16|o[h>>>8&255]<<8|o[255&l])^n[f++],y=(o[d>>>24]<<24|o[h>>>16&255]<<16|o[l>>>8&255]<<8|o[255&c])^n[f++],t[e]=m,t[e+1]=v,t[e+2]=g,t[e+3]=y},keySize:8});t.AES=e._createHelper(m)}(),i.AES)},128:function(t,e,n){var i;t.exports=(i=n(21),n(754),n(636),n(506),n(165),function(){var t=i,e=t.lib.BlockCipher,n=t.algo;const r=16,s=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var o={pbox:[],sbox:[]};function u(t,e){let n=e>>24&255,i=e>>16&255,r=e>>8&255,s=255&e,a=t.sbox[0][n]+t.sbox[1][i];return a^=t.sbox[2][r],a+=t.sbox[3][s],a}function h(t,e,n){let i,s=e,a=n;for(let e=0;e<r;++e)s^=t.pbox[e],a=u(t,s)^a,i=s,s=a,a=i;return i=s,s=a,a=i,a^=t.pbox[r],s^=t.pbox[r+1],{left:s,right:a}}var l=n.Blowfish=e.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4;!function(t,e,n){for(let e=0;e<4;e++){t.sbox[e]=[];for(let n=0;n<256;n++)t.sbox[e][n]=a[e][n]}let i=0;for(let a=0;a<r+2;a++)t.pbox[a]=s[a]^e[i],i++,i>=n&&(i=0);let o=0,u=0,l=0;for(let e=0;e<r+2;e+=2)l=h(t,o,u),o=l.left,u=l.right,t.pbox[e]=o,t.pbox[e+1]=u;for(let e=0;e<4;e++)for(let n=0;n<256;n+=2)l=h(t,o,u),o=l.left,u=l.right,t.sbox[e][n]=o,t.sbox[e][n+1]=u}(o,e,n)}},encryptBlock:function(t,e){var n=h(o,t[e],t[e+1]);t[e]=n.left,t[e+1]=n.right},decryptBlock:function(t,e){var n=function(t,e,n){let i,s=e,a=n;for(let e=r+1;e>1;--e)s^=t.pbox[e],a=u(t,s)^a,i=s,s=a,a=i;return i=s,s=a,a=i,a^=t.pbox[1],s^=t.pbox[0],{left:s,right:a}}(o,t[e],t[e+1]);t[e]=n.left,t[e+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=e._createHelper(l)}(),i.Blowfish)},165:function(t,e,n){var i,r,s,a,o,u,h,l,c,d,f,p,m,v,g,y,b,_,w;t.exports=(i=n(21),n(506),void(i.lib.Cipher||(r=i,s=r.lib,a=s.Base,o=s.WordArray,u=s.BufferedBlockAlgorithm,h=r.enc,h.Utf8,l=h.Base64,c=r.algo.EvpKDF,d=s.Cipher=u.extend({cfg:a.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?w:b}return function(e){return{encrypt:function(n,i,r){return t(i).encrypt(e,n,i,r)},decrypt:function(n,i,r){return t(i).decrypt(e,n,i,r)}}}}()}),s.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=r.mode={},p=s.BlockCipherMode=a.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),m=f.CBC=function(){var t=p.extend();function e(t,e,n){var i,r=this._iv;r?(i=r,this._iv=void 0):i=this._prevBlock;for(var s=0;s<n;s++)t[e+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize;e.call(this,t,n,r),i.encryptBlock(t,n),this._prevBlock=t.slice(n,n+r)}}),t.Decryptor=t.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize,s=t.slice(n,n+r);i.decryptBlock(t,n),e.call(this,t,n,r),this._prevBlock=s}}),t}(),v=(r.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,i=n-t.sigBytes%n,r=i<<24|i<<16|i<<8|i,s=[],a=0;a<i;a+=4)s.push(r);var u=o.create(s,i);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},s.BlockCipher=d.extend({cfg:d.cfg.extend({mode:m,padding:v}),reset:function(){var t;d.reset.call(this);var e=this.cfg,n=e.iv,i=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=i.createEncryptor:(t=i.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,n&&n.words):(this._mode=t.call(i,this,n&&n.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),g=s.CipherParams=a.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),y=(r.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;return(n?o.create([1398893684,1701076831]).concat(n).concat(e):e).toString(l)},parse:function(t){var e,n=l.parse(t),i=n.words;return 1398893684==i[0]&&1701076831==i[1]&&(e=o.create(i.slice(2,4)),i.splice(0,4),n.sigBytes-=16),g.create({ciphertext:n,salt:e})}},b=s.SerializableCipher=a.extend({cfg:a.extend({format:y}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var r=t.createEncryptor(n,i),s=r.finalize(e),a=r.cfg;return g.create({ciphertext:s,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),_=(r.kdf={}).OpenSSL={execute:function(t,e,n,i,r){if(i||(i=o.random(8)),r)s=c.create({keySize:e+n,hasher:r}).compute(t,i);else var s=c.create({keySize:e+n}).compute(t,i);var a=o.create(s.words.slice(e),4*n);return s.sigBytes=4*e,g.create({key:s,iv:a,salt:i})}},w=s.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:_}),encrypt:function(t,e,n,i){var r=(i=this.cfg.extend(i)).kdf.execute(n,t.keySize,t.ivSize,i.salt,i.hasher);i.iv=r.iv;var s=b.encrypt.call(this,t,e,r.key,i);return s.mixIn(r),s},decrypt:function(t,e,n,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var r=i.kdf.execute(n,t.keySize,t.ivSize,e.salt,i.hasher);return i.iv=r.iv,b.decrypt.call(this,t,e,r.key,i)}}))))},21:function(t,e,n){var i;t.exports=(i=i||function(t){var e;if("undefined"!=typeof window&&window.crypto&&(e=window.crypto),"undefined"!=typeof self&&self.crypto&&(e=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(e=globalThis.crypto),!e&&"undefined"!=typeof window&&window.msCrypto&&(e=window.msCrypto),!e&&void 0!==n.g&&n.g.crypto&&(e=n.g.crypto),!e)try{e=n(477)}catch(t){}var i=function(){if(e){if("function"==typeof e.getRandomValues)try{return e.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof e.randomBytes)try{return e.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),s={},a=s.lib={},o=a.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=a.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var s=0;s<r;s++){var a=n[s>>>2]>>>24-s%4*8&255;e[i+s>>>2]|=a<<24-(i+s)%4*8}else for(var o=0;o<r;o+=4)e[i+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(i());return new u.init(e,t)}}),h=s.enc={},l=h.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var s=e[r>>>2]>>>24-r%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new u.init(n,e/2)}},c=h.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var s=e[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(s))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new u.init(n,e)}},d=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},f=a.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,i=this._data,r=i.words,s=i.sigBytes,a=this.blockSize,o=s/(4*a),h=(o=e?t.ceil(o):t.max((0|o)-this._minBufferSize,0))*a,l=t.min(4*h,s);if(h){for(var c=0;c<h;c+=a)this._doProcessBlock(r,c);n=r.splice(0,h),i.sigBytes-=l}return new u.init(n,l)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(a.Hasher=f.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}}),s.algo={});return s}(Math),i)},754:function(t,e,n){var i,r,s;t.exports=(i=n(21),s=(r=i).lib.WordArray,r.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var r=[],s=0;s<n;s+=3)for(var a=(e[s>>>2]>>>24-s%4*8&255)<<16|(e[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|e[s+2>>>2]>>>24-(s+2)%4*8&255,o=0;o<4&&s+.75*o<n;o++)r.push(i.charAt(a>>>6*(3-o)&63));var u=i.charAt(64);if(u)for(;r.length%4;)r.push(u);return r.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var r=0;r<n.length;r++)i[n.charCodeAt(r)]=r}var a=n.charAt(64);if(a){var o=t.indexOf(a);-1!==o&&(e=o)}return function(t,e,n){for(var i=[],r=0,a=0;a<e;a++)if(a%4){var o=n[t.charCodeAt(a-1)]<<a%4*2|n[t.charCodeAt(a)]>>>6-a%4*2;i[r>>>2]|=o<<24-r%4*8,r++}return s.create(i,r)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},725:function(t,e,n){var i,r,s;t.exports=(i=n(21),s=(r=i).lib.WordArray,r.enc.Base64url={stringify:function(t,e){void 0===e&&(e=!0);var n=t.words,i=t.sigBytes,r=e?this._safe_map:this._map;t.clamp();for(var s=[],a=0;a<i;a+=3)for(var o=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,u=0;u<4&&a+.75*u<i;u++)s.push(r.charAt(o>>>6*(3-u)&63));var h=r.charAt(64);if(h)for(;s.length%4;)s.push(h);return s.join("")},parse:function(t,e){void 0===e&&(e=!0);var n=t.length,i=e?this._safe_map:this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var a=0;a<i.length;a++)r[i.charCodeAt(a)]=a}var o=i.charAt(64);if(o){var u=t.indexOf(o);-1!==u&&(n=u)}return function(t,e,n){for(var i=[],r=0,a=0;a<e;a++)if(a%4){var o=n[t.charCodeAt(a-1)]<<a%4*2|n[t.charCodeAt(a)]>>>6-a%4*2;i[r>>>2]|=o<<24-r%4*8,r++}return s.create(i,r)}(t,n,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},i.enc.Base64url)},503:function(t,e,n){var i;t.exports=(i=n(21),function(){var t=i,e=t.lib.WordArray,n=t.enc;function r(t){return t<<8&4278255360|t>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r+=2){var s=e[r>>>2]>>>16-r%4*8&65535;i.push(String.fromCharCode(s))}return i.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r++)i[r>>>1]|=t.charCodeAt(r)<<16-r%2*16;return e.create(i,2*n)}},n.Utf16LE={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],s=0;s<n;s+=2){var a=r(e[s>>>2]>>>16-s%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var n=t.length,i=[],s=0;s<n;s++)i[s>>>1]|=r(t.charCodeAt(s)<<16-s%2*16);return e.create(i,2*n)}}}(),i.enc.Utf16)},506:function(t,e,n){var i,r,s,a,o,u,h,l;t.exports=(l=n(21),n(471),n(25),s=(r=(i=l).lib).Base,a=r.WordArray,u=(o=i.algo).MD5,h=o.EvpKDF=s.extend({cfg:s.extend({keySize:4,hasher:u,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n,i=this.cfg,r=i.hasher.create(),s=a.create(),o=s.words,u=i.keySize,h=i.iterations;o.length<u;){n&&r.update(n),n=r.update(t).finalize(e),r.reset();for(var l=1;l<h;l++)n=r.finalize(n),r.reset();s.concat(n)}return s.sigBytes=4*u,s}}),i.EvpKDF=function(t,e,n){return h.create(n).compute(t,e)},l.EvpKDF)},406:function(t,e,n){var i,r,s,a;t.exports=(a=n(21),n(165),r=(i=a).lib.CipherParams,s=i.enc.Hex,i.format.Hex={stringify:function(t){return t.ciphertext.toString(s)},parse:function(t){var e=s.parse(t);return r.create({ciphertext:e})}},a.format.Hex)},25:function(t,e,n){var i,r,s;t.exports=(r=(i=n(21)).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=r.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=s.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),a=this._iKey=e.clone(),o=r.words,u=a.words,h=0;h<n;h++)o[h]^=1549556828,u[h]^=909522486;r.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},396:function(t,e,n){var i;t.exports=(i=n(21),n(240),n(440),n(503),n(754),n(725),n(636),n(471),n(9),n(308),n(380),n(557),n(953),n(56),n(25),n(19),n(506),n(165),n(169),n(939),n(372),n(797),n(454),n(73),n(905),n(482),n(155),n(124),n(406),n(955),n(628),n(193),n(298),n(696),n(128),i)},440:function(t,e,n){var i;t.exports=(i=n(21),function(){if("function"==typeof ArrayBuffer){var t=i.lib.WordArray,e=t.init,n=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,i=[],r=0;r<n;r++)i[r>>>2]|=t[r]<<24-r%4*8;e.call(this,i,n)}else e.apply(this,arguments)};n.prototype=t}}(),i.lib.WordArray)},636:function(t,e,n){var i;t.exports=(i=n(21),function(t){var e=i,n=e.lib,r=n.WordArray,s=n.Hasher,a=e.algo,o=[];!function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=a.MD5=s.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,r=t[i];t[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var s=this._hash.words,a=t[e+0],u=t[e+1],f=t[e+2],p=t[e+3],m=t[e+4],v=t[e+5],g=t[e+6],y=t[e+7],b=t[e+8],_=t[e+9],w=t[e+10],k=t[e+11],x=t[e+12],S=t[e+13],M=t[e+14],E=t[e+15],C=s[0],A=s[1],O=s[2],D=s[3];C=h(C,A,O,D,a,7,o[0]),D=h(D,C,A,O,u,12,o[1]),O=h(O,D,C,A,f,17,o[2]),A=h(A,O,D,C,p,22,o[3]),C=h(C,A,O,D,m,7,o[4]),D=h(D,C,A,O,v,12,o[5]),O=h(O,D,C,A,g,17,o[6]),A=h(A,O,D,C,y,22,o[7]),C=h(C,A,O,D,b,7,o[8]),D=h(D,C,A,O,_,12,o[9]),O=h(O,D,C,A,w,17,o[10]),A=h(A,O,D,C,k,22,o[11]),C=h(C,A,O,D,x,7,o[12]),D=h(D,C,A,O,S,12,o[13]),O=h(O,D,C,A,M,17,o[14]),C=l(C,A=h(A,O,D,C,E,22,o[15]),O,D,u,5,o[16]),D=l(D,C,A,O,g,9,o[17]),O=l(O,D,C,A,k,14,o[18]),A=l(A,O,D,C,a,20,o[19]),C=l(C,A,O,D,v,5,o[20]),D=l(D,C,A,O,w,9,o[21]),O=l(O,D,C,A,E,14,o[22]),A=l(A,O,D,C,m,20,o[23]),C=l(C,A,O,D,_,5,o[24]),D=l(D,C,A,O,M,9,o[25]),O=l(O,D,C,A,p,14,o[26]),A=l(A,O,D,C,b,20,o[27]),C=l(C,A,O,D,S,5,o[28]),D=l(D,C,A,O,f,9,o[29]),O=l(O,D,C,A,y,14,o[30]),C=c(C,A=l(A,O,D,C,x,20,o[31]),O,D,v,4,o[32]),D=c(D,C,A,O,b,11,o[33]),O=c(O,D,C,A,k,16,o[34]),A=c(A,O,D,C,M,23,o[35]),C=c(C,A,O,D,u,4,o[36]),D=c(D,C,A,O,m,11,o[37]),O=c(O,D,C,A,y,16,o[38]),A=c(A,O,D,C,w,23,o[39]),C=c(C,A,O,D,S,4,o[40]),D=c(D,C,A,O,a,11,o[41]),O=c(O,D,C,A,p,16,o[42]),A=c(A,O,D,C,g,23,o[43]),C=c(C,A,O,D,_,4,o[44]),D=c(D,C,A,O,x,11,o[45]),O=c(O,D,C,A,E,16,o[46]),C=d(C,A=c(A,O,D,C,f,23,o[47]),O,D,a,6,o[48]),D=d(D,C,A,O,y,10,o[49]),O=d(O,D,C,A,M,15,o[50]),A=d(A,O,D,C,v,21,o[51]),C=d(C,A,O,D,x,6,o[52]),D=d(D,C,A,O,p,10,o[53]),O=d(O,D,C,A,w,15,o[54]),A=d(A,O,D,C,u,21,o[55]),C=d(C,A,O,D,b,6,o[56]),D=d(D,C,A,O,E,10,o[57]),O=d(O,D,C,A,g,15,o[58]),A=d(A,O,D,C,S,21,o[59]),C=d(C,A,O,D,m,6,o[60]),D=d(D,C,A,O,k,10,o[61]),O=d(O,D,C,A,f,15,o[62]),A=d(A,O,D,C,_,21,o[63]),s[0]=s[0]+C|0,s[1]=s[1]+A|0,s[2]=s[2]+O|0,s[3]=s[3]+D|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var s=t.floor(i/4294967296),a=i;n[15+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[14+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var o=this._hash,u=o.words,h=0;h<4;h++){var l=u[h];u[h]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}});function h(t,e,n,i,r,s,a){var o=t+(e&n|~e&i)+r+a;return(o<<s|o>>>32-s)+e}function l(t,e,n,i,r,s,a){var o=t+(e&i|n&~i)+r+a;return(o<<s|o>>>32-s)+e}function c(t,e,n,i,r,s,a){var o=t+(e^n^i)+r+a;return(o<<s|o>>>32-s)+e}function d(t,e,n,i,r,s,a){var o=t+(n^(e|~i))+r+a;return(o<<s|o>>>32-s)+e}e.MD5=s._createHelper(u),e.HmacMD5=s._createHmacHelper(u)}(Math),i.MD5)},169:function(t,e,n){var i;t.exports=(i=n(21),n(165),i.mode.CFB=function(){var t=i.lib.BlockCipherMode.extend();function e(t,e,n,i){var r,s=this._iv;s?(r=s.slice(0),this._iv=void 0):r=this._prevBlock,i.encryptBlock(r,0);for(var a=0;a<n;a++)t[e+a]^=r[a]}return t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize;e.call(this,t,n,r,i),this._prevBlock=t.slice(n,n+r)}}),t.Decryptor=t.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize,s=t.slice(n,n+r);e.call(this,t,n,r,i),this._prevBlock=s}}),t}(),i.mode.CFB)},372:function(t,e,n){var i;t.exports=(i=n(21),n(165),i.mode.CTRGladman=function(){var t=i.lib.BlockCipherMode.extend();function e(t){if(255&~(t>>24))t+=1<<24;else{var e=t>>16&255,n=t>>8&255,i=255&t;255===e?(e=0,255===n?(n=0,255===i?i=0:++i):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=i}return t}var n=t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize,s=this._iv,a=this._counter;s&&(a=this._counter=s.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var o=a.slice(0);i.encryptBlock(o,0);for(var u=0;u<r;u++)t[n+u]^=o[u]}});return t.Decryptor=n,t}(),i.mode.CTRGladman)},939:function(t,e,n){var i,r,s;t.exports=(s=n(21),n(165),s.mode.CTR=(r=(i=s.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,r=this._iv,s=this._counter;r&&(s=this._counter=r.slice(0),this._iv=void 0);var a=s.slice(0);n.encryptBlock(a,0),s[i-1]=s[i-1]+1|0;for(var o=0;o<i;o++)t[e+o]^=a[o]}}),i.Decryptor=r,i),s.mode.CTR)},454:function(t,e,n){var i,r;t.exports=(r=n(21),n(165),r.mode.ECB=((i=r.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),i.Decryptor=i.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),i),r.mode.ECB)},797:function(t,e,n){var i,r,s;t.exports=(s=n(21),n(165),s.mode.OFB=(r=(i=s.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,r=this._iv,s=this._keystream;r&&(s=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(s,0);for(var a=0;a<i;a++)t[e+a]^=s[a]}}),i.Decryptor=r,i),s.mode.OFB)},73:function(t,e,n){var i;t.exports=(i=n(21),n(165),i.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,i=4*e,r=i-n%i,s=n+r-1;t.clamp(),t.words[s>>>2]|=r<<24-s%4*8,t.sigBytes+=r},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},i.pad.Ansix923)},905:function(t,e,n){var i;t.exports=(i=n(21),n(165),i.pad.Iso10126={pad:function(t,e){var n=4*e,r=n-t.sigBytes%n;t.concat(i.lib.WordArray.random(r-1)).concat(i.lib.WordArray.create([r<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},i.pad.Iso10126)},482:function(t,e,n){var i;t.exports=(i=n(21),n(165),i.pad.Iso97971={pad:function(t,e){t.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(t,e)},unpad:function(t){i.pad.ZeroPadding.unpad(t),t.sigBytes--}},i.pad.Iso97971)},124:function(t,e,n){var i;t.exports=(i=n(21),n(165),i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding)},155:function(t,e,n){var i;t.exports=(i=n(21),n(165),i.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){var e=t.words,n=t.sigBytes-1;for(n=t.sigBytes-1;n>=0;n--)if(e[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},i.pad.ZeroPadding)},19:function(t,e,n){var i,r,s,a,o,u,h,l,c;t.exports=(c=n(21),n(9),n(25),s=(r=(i=c).lib).Base,a=r.WordArray,u=(o=i.algo).SHA256,h=o.HMAC,l=o.PBKDF2=s.extend({cfg:s.extend({keySize:4,hasher:u,iterations:25e4}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=h.create(n.hasher,t),r=a.create(),s=a.create([1]),o=r.words,u=s.words,l=n.keySize,c=n.iterations;o.length<l;){var d=i.update(e).finalize(s);i.reset();for(var f=d.words,p=f.length,m=d,v=1;v<c;v++){m=i.finalize(m),i.reset();for(var g=m.words,y=0;y<p;y++)f[y]^=g[y]}r.concat(d),u[0]++}return r.sigBytes=4*l,r}}),i.PBKDF2=function(t,e,n){return l.create(n).compute(t,e)},c.PBKDF2)},696:function(t,e,n){var i;t.exports=(i=n(21),n(754),n(636),n(506),n(165),function(){var t=i,e=t.lib.StreamCipher,n=t.algo,r=[],s=[],a=[],o=n.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var r=0;r<4;r++)u.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(e){var s=e.words,a=s[0],o=s[1],h=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=h>>>16|4294901760&l,d=l<<16|65535&h;for(i[0]^=h,i[1]^=c,i[2]^=l,i[3]^=d,i[4]^=h,i[5]^=c,i[6]^=l,i[7]^=d,r=0;r<4;r++)u.call(this)}},_doProcessBlock:function(t,e){var n=this._X;u.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),t[e+i]^=r[i]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,n=0;n<8;n++)s[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<s[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<s[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<s[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<s[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<s[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<s[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<s[6]>>>0?1:0)|0,this._b=e[7]>>>0<s[7]>>>0?1:0,n=0;n<8;n++){var i=t[n]+e[n],r=65535&i,o=i>>>16,u=((r*r>>>17)+r*o>>>15)+o*o,h=((4294901760&i)*i|0)+((65535&i)*i|0);a[n]=u^h}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(o)}(),i.RabbitLegacy)},298:function(t,e,n){var i;t.exports=(i=n(21),n(754),n(636),n(506),n(165),function(){var t=i,e=t.lib.StreamCipher,n=t.algo,r=[],s=[],a=[],o=n.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)u.call(this);for(n=0;n<8;n++)r[n]^=i[n+4&7];if(e){var s=e.words,a=s[0],o=s[1],h=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=h>>>16|4294901760&l,d=l<<16|65535&h;for(r[0]^=h,r[1]^=c,r[2]^=l,r[3]^=d,r[4]^=h,r[5]^=c,r[6]^=l,r[7]^=d,n=0;n<4;n++)u.call(this)}},_doProcessBlock:function(t,e){var n=this._X;u.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),t[e+i]^=r[i]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,n=0;n<8;n++)s[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<s[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<s[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<s[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<s[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<s[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<s[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<s[6]>>>0?1:0)|0,this._b=e[7]>>>0<s[7]>>>0?1:0,n=0;n<8;n++){var i=t[n]+e[n],r=65535&i,o=i>>>16,u=((r*r>>>17)+r*o>>>15)+o*o,h=((4294901760&i)*i|0)+((65535&i)*i|0);a[n]=u^h}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(o)}(),i.Rabbit)},193:function(t,e,n){var i;t.exports=(i=n(21),n(754),n(636),n(506),n(165),function(){var t=i,e=t.lib.StreamCipher,n=t.algo,r=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,i=this._S=[],r=0;r<256;r++)i[r]=r;r=0;for(var s=0;r<256;r++){var a=r%n,o=e[a>>>2]>>>24-a%4*8&255;s=(s+i[r]+o)%256;var u=i[r];i[r]=i[s],i[s]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=s.call(this)},keySize:8,ivSize:0});function s(){for(var t=this._S,e=this._i,n=this._j,i=0,r=0;r<4;r++){n=(n+t[e=(e+1)%256])%256;var s=t[e];t[e]=t[n],t[n]=s,i|=t[(t[e]+t[n])%256]<<24-8*r}return this._i=e,this._j=n,i}t.RC4=e._createHelper(r);var a=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)s.call(this)}});t.RC4Drop=e._createHelper(a)}(),i.RC4)},56:function(t,e,n){var i;t.exports=(i=n(21),function(){var t=i,e=t.lib,n=e.WordArray,r=e.Hasher,s=t.algo,a=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=n.create([0,1518500249,1859775393,2400959708,2840853838]),c=n.create([1352829926,1548603684,1836072691,2053994217,0]),d=s.RIPEMD160=r.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,r=t[i];t[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var s,d,b,_,w,k,x,S,M,E,C,A=this._hash.words,O=l.words,D=c.words,T=a.words,N=o.words,P=u.words,B=h.words;for(k=s=A[0],x=d=A[1],S=b=A[2],M=_=A[3],E=w=A[4],n=0;n<80;n+=1)C=s+t[e+T[n]]|0,C+=n<16?f(d,b,_)+O[0]:n<32?p(d,b,_)+O[1]:n<48?m(d,b,_)+O[2]:n<64?v(d,b,_)+O[3]:g(d,b,_)+O[4],C=(C=y(C|=0,P[n]))+w|0,s=w,w=_,_=y(b,10),b=d,d=C,C=k+t[e+N[n]]|0,C+=n<16?g(x,S,M)+D[0]:n<32?v(x,S,M)+D[1]:n<48?m(x,S,M)+D[2]:n<64?p(x,S,M)+D[3]:f(x,S,M)+D[4],C=(C=y(C|=0,B[n]))+E|0,k=E,E=M,M=y(S,10),S=x,x=C;C=A[1]+b+M|0,A[1]=A[2]+_+E|0,A[2]=A[3]+w+k|0,A[3]=A[4]+s+x|0,A[4]=A[0]+d+S|0,A[0]=C},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var r=this._hash,s=r.words,a=0;a<5;a++){var o=s[a];s[a]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return r},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function f(t,e,n){return t^e^n}function p(t,e,n){return t&e|~t&n}function m(t,e,n){return(t|~e)^n}function v(t,e,n){return t&n|e&~n}function g(t,e,n){return t^(e|~n)}function y(t,e){return t<<e|t>>>32-e}t.RIPEMD160=r._createHelper(d),t.HmacRIPEMD160=r._createHmacHelper(d)}(Math),i.RIPEMD160)},471:function(t,e,n){var i,r,s,a,o,u,h,l;t.exports=(r=(i=l=n(21)).lib,s=r.WordArray,a=r.Hasher,o=i.algo,u=[],h=o.SHA1=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],s=n[2],a=n[3],o=n[4],h=0;h<80;h++){if(h<16)u[h]=0|t[e+h];else{var l=u[h-3]^u[h-8]^u[h-14]^u[h-16];u[h]=l<<1|l>>>31}var c=(i<<5|i>>>27)+o+u[h];c+=h<20?1518500249+(r&s|~r&a):h<40?1859775393+(r^s^a):h<60?(r&s|r&a|s&a)-1894007588:(r^s^a)-899497514,o=a,a=s,s=r<<30|r>>>2,r=i,i=c}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+o|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),i.SHA1=a._createHelper(h),i.HmacSHA1=a._createHmacHelper(h),l.SHA1)},308:function(t,e,n){var i,r,s,a,o,u;t.exports=(u=n(21),n(9),r=(i=u).lib.WordArray,s=i.algo,a=s.SHA256,o=s.SHA224=a.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),i.SHA224=a._createHelper(o),i.HmacSHA224=a._createHmacHelper(o),u.SHA224)},9:function(t,e,n){var i;t.exports=(i=n(21),function(t){var e=i,n=e.lib,r=n.WordArray,s=n.Hasher,a=e.algo,o=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var i=2,r=0;r<64;)e(i)&&(r<8&&(o[r]=n(t.pow(i,.5))),u[r]=n(t.pow(i,1/3)),r++),i++}();var h=[],l=a.SHA256=s.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],s=n[2],a=n[3],o=n[4],l=n[5],c=n[6],d=n[7],f=0;f<64;f++){if(f<16)h[f]=0|t[e+f];else{var p=h[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=h[f-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;h[f]=m+h[f-7]+g+h[f-16]}var y=i&r^i&s^r&s,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),_=d+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&l^~o&c)+u[f]+h[f];d=c,c=l,l=o,o=a+_|0,a=s,s=r,r=i,i=_+(b+y)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+o|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=s._createHelper(l),e.HmacSHA256=s._createHmacHelper(l)}(Math),i.SHA256)},953:function(t,e,n){var i;t.exports=(i=n(21),n(240),function(t){var e=i,n=e.lib,r=n.WordArray,s=n.Hasher,a=e.x64.Word,o=e.algo,u=[],h=[],l=[];!function(){for(var t=1,e=0,n=0;n<24;n++){u[t+5*e]=(n+1)*(n+2)/2%64;var i=(2*t+3*e)%5;t=e%5,e=i}for(t=0;t<5;t++)for(e=0;e<5;e++)h[t+5*e]=e+(2*t+3*e)%5*5;for(var r=1,s=0;s<24;s++){for(var o=0,c=0,d=0;d<7;d++){if(1&r){var f=(1<<d)-1;f<32?c^=1<<f:o^=1<<f-32}128&r?r=r<<1^113:r<<=1}l[s]=a.create(o,c)}}();var c=[];!function(){for(var t=0;t<25;t++)c[t]=a.create()}();var d=o.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,i=this.blockSize/2,r=0;r<i;r++){var s=t[e+2*r],a=t[e+2*r+1];s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(A=n[r]).high^=a,A.low^=s}for(var o=0;o<24;o++){for(var d=0;d<5;d++){for(var f=0,p=0,m=0;m<5;m++)f^=(A=n[d+5*m]).high,p^=A.low;var v=c[d];v.high=f,v.low=p}for(d=0;d<5;d++){var g=c[(d+4)%5],y=c[(d+1)%5],b=y.high,_=y.low;for(f=g.high^(b<<1|_>>>31),p=g.low^(_<<1|b>>>31),m=0;m<5;m++)(A=n[d+5*m]).high^=f,A.low^=p}for(var w=1;w<25;w++){var k=(A=n[w]).high,x=A.low,S=u[w];S<32?(f=k<<S|x>>>32-S,p=x<<S|k>>>32-S):(f=x<<S-32|k>>>64-S,p=k<<S-32|x>>>64-S);var M=c[h[w]];M.high=f,M.low=p}var E=c[0],C=n[0];for(E.high=C.high,E.low=C.low,d=0;d<5;d++)for(m=0;m<5;m++){var A=n[w=d+5*m],O=c[w],D=c[(d+1)%5+5*m],T=c[(d+2)%5+5*m];A.high=O.high^~D.high&T.high,A.low=O.low^~D.low&T.low}A=n[0];var N=l[o];A.high^=N.high,A.low^=N.low}},_doFinalize:function(){var e=this._data,n=e.words,i=(this._nDataBytes,8*e.sigBytes),s=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(t.ceil((i+1)/s)*s>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,o=this.cfg.outputLength/8,u=o/8,h=[],l=0;l<u;l++){var c=a[l],d=c.high,f=c.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h.push(f),h.push(d)}return new r.init(h,o)},clone:function(){for(var t=s.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});e.SHA3=s._createHelper(d),e.HmacSHA3=s._createHmacHelper(d)}(Math),i.SHA3)},557:function(t,e,n){var i,r,s,a,o,u,h,l;t.exports=(l=n(21),n(240),n(380),r=(i=l).x64,s=r.Word,a=r.WordArray,o=i.algo,u=o.SHA512,h=o.SHA384=u.extend({_doReset:function(){this._hash=new a.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var t=u._doFinalize.call(this);return t.sigBytes-=16,t}}),i.SHA384=u._createHelper(h),i.HmacSHA384=u._createHmacHelper(h),l.SHA384)},380:function(t,e,n){var i;t.exports=(i=n(21),n(240),function(){var t=i,e=t.lib.Hasher,n=t.x64,r=n.Word,s=n.WordArray,a=t.algo;function o(){return r.create.apply(r,arguments)}var u=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],h=[];!function(){for(var t=0;t<80;t++)h[t]=o()}();var l=a.SHA512=e.extend({_doReset:function(){this._hash=new s.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],s=n[2],a=n[3],o=n[4],l=n[5],c=n[6],d=n[7],f=i.high,p=i.low,m=r.high,v=r.low,g=s.high,y=s.low,b=a.high,_=a.low,w=o.high,k=o.low,x=l.high,S=l.low,M=c.high,E=c.low,C=d.high,A=d.low,O=f,D=p,T=m,N=v,P=g,B=y,R=b,j=_,Y=w,V=k,I=x,L=S,F=M,H=E,z=C,U=A,W=0;W<80;W++){var K,G,$=h[W];if(W<16)G=$.high=0|t[e+2*W],K=$.low=0|t[e+2*W+1];else{var Z=h[W-15],q=Z.high,J=Z.low,Q=(q>>>1|J<<31)^(q>>>8|J<<24)^q>>>7,X=(J>>>1|q<<31)^(J>>>8|q<<24)^(J>>>7|q<<25),tt=h[W-2],et=tt.high,nt=tt.low,it=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,rt=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),st=h[W-7],at=st.high,ot=st.low,ut=h[W-16],ht=ut.high,lt=ut.low;G=(G=(G=Q+at+((K=X+ot)>>>0<X>>>0?1:0))+it+((K+=rt)>>>0<rt>>>0?1:0))+ht+((K+=lt)>>>0<lt>>>0?1:0),$.high=G,$.low=K}var ct,dt=Y&I^~Y&F,ft=V&L^~V&H,pt=O&T^O&P^T&P,mt=D&N^D&B^N&B,vt=(O>>>28|D<<4)^(O<<30|D>>>2)^(O<<25|D>>>7),gt=(D>>>28|O<<4)^(D<<30|O>>>2)^(D<<25|O>>>7),yt=(Y>>>14|V<<18)^(Y>>>18|V<<14)^(Y<<23|V>>>9),bt=(V>>>14|Y<<18)^(V>>>18|Y<<14)^(V<<23|Y>>>9),_t=u[W],wt=_t.high,kt=_t.low,xt=z+yt+((ct=U+bt)>>>0<U>>>0?1:0),St=gt+mt;z=F,U=H,F=I,H=L,I=Y,L=V,Y=R+(xt=(xt=(xt=xt+dt+((ct+=ft)>>>0<ft>>>0?1:0))+wt+((ct+=kt)>>>0<kt>>>0?1:0))+G+((ct+=K)>>>0<K>>>0?1:0))+((V=j+ct|0)>>>0<j>>>0?1:0)|0,R=P,j=B,P=T,B=N,T=O,N=D,O=xt+(vt+pt+(St>>>0<gt>>>0?1:0))+((D=ct+St|0)>>>0<ct>>>0?1:0)|0}p=i.low=p+D,i.high=f+O+(p>>>0<D>>>0?1:0),v=r.low=v+N,r.high=m+T+(v>>>0<N>>>0?1:0),y=s.low=y+B,s.high=g+P+(y>>>0<B>>>0?1:0),_=a.low=_+j,a.high=b+R+(_>>>0<j>>>0?1:0),k=o.low=k+V,o.high=w+Y+(k>>>0<V>>>0?1:0),S=l.low=S+L,l.high=x+I+(S>>>0<L>>>0?1:0),E=c.low=E+H,c.high=M+F+(E>>>0<H>>>0?1:0),A=d.low=A+U,d.high=C+z+(A>>>0<U>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(i+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(l),t.HmacSHA512=e._createHmacHelper(l)}(),i.SHA512)},628:function(t,e,n){var i;t.exports=(i=n(21),n(754),n(636),n(506),n(165),function(){var t=i,e=t.lib,n=e.WordArray,r=e.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],c=s.DES=r.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var i=a[n]-1;e[n]=t[i>>>5]>>>31-i%32&1}for(var r=this._subKeys=[],s=0;s<16;s++){var h=r[s]=[],l=u[s];for(n=0;n<24;n++)h[n/6|0]|=e[(o[n]-1+l)%28]<<31-n%6,h[4+(n/6|0)]|=e[28+(o[n+24]-1+l)%28]<<31-n%6;for(h[0]=h[0]<<1|h[0]>>>31,n=1;n<7;n++)h[n]=h[n]>>>4*(n-1)+3;h[7]=h[7]<<5|h[7]>>>27}var c=this._invSubKeys=[];for(n=0;n<16;n++)c[n]=r[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),d.call(this,1,1431655765);for(var i=0;i<16;i++){for(var r=n[i],s=this._lBlock,a=this._rBlock,o=0,u=0;u<8;u++)o|=h[u][((a^r[u])&l[u])>>>0];this._lBlock=a,this._rBlock=s^o}var c=this._lBlock;this._lBlock=this._rBlock,this._rBlock=c,d.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function f(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}t.DES=r._createHelper(c);var p=s.TripleDES=r.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),i=t.length<4?t.slice(0,2):t.slice(2,4),r=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=c.createEncryptor(n.create(e)),this._des2=c.createEncryptor(n.create(i)),this._des3=c.createEncryptor(n.create(r))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=r._createHelper(p)}(),i.TripleDES)},240:function(t,e,n){var i,r,s,a,o,u;t.exports=(i=n(21),s=(r=i).lib,a=s.Base,o=s.WordArray,(u=r.x64={}).Word=a.extend({init:function(t,e){this.high=t,this.low=e}}),u.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],i=0;i<e;i++){var r=t[i];n.push(r.high),n.push(r.low)}return o.create(n,this.sigBytes)},clone:function(){for(var t=a.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}}),i)},575:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})}(n(93))},115:(t,e,n)=>{var i={"./es-us":575,"./es-us.js":575};function r(t){var e=s(t);return n(e)}function s(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=s,t.exports=r,r.id=115},93:function(t,e,n){(t=n.nmd(t)).exports=function(){"use strict";var e,i;function r(){return e.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(o(t,e))return!1;return!0}function h(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(t,e){var n,i=[],r=t.length;for(n=0;n<r;++n)i.push(e(t[n],n));return i}function f(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,n,i){return Be(t,e,n,i,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function v(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());return r&&(e=m(t),n=i.call(e.parsedDateParts,(function(t){return null!=t})),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)),null!=Object.isFrozen&&Object.isFrozen(t)?r:(t._isValid=r,t._isValid)}function g(t){var e=p(NaN);return null!=t?f(m(e),t):m(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),i=n.length>>>0;for(e=0;e<i;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var y=r.momentProperties=[],b=!1;function _(t,e){var n,i,r,s=y.length;if(h(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),h(e._i)||(t._i=e._i),h(e._f)||(t._f=e._f),h(e._l)||(t._l=e._l),h(e._strict)||(t._strict=e._strict),h(e._tzm)||(t._tzm=e._tzm),h(e._isUTC)||(t._isUTC=e._isUTC),h(e._offset)||(t._offset=e._offset),h(e._pf)||(t._pf=m(e)),h(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)h(r=e[i=y[n]])||(t[i]=r);return t}function w(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function k(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function x(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var i,s,a,u=[],h=arguments.length;for(s=0;s<h;s++){if(i="","object"==typeof arguments[s]){for(a in i+="\n["+s+"] ",arguments[0])o(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[s];u.push(i)}x(t+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var M,E={};function C(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),E[t]||(x(e),E[t]=!0)}function A(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t,e){var n,i=f({},t);for(n in e)o(e,n)&&(a(t[n])&&a(e[n])?(i[n]={},f(i[n],t[n]),f(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)o(t,n)&&!o(e,n)&&a(t[n])&&(i[n]=f({},i[n]));return i}function D(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,M=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)o(t,e)&&n.push(e);return n};function T(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,P=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},R={};function j(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(R[t]=r),e&&(R[e[0]]=function(){return T(r.apply(this,arguments),e[1],e[2])}),n&&(R[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function Y(t,e){return t.isValid()?(e=V(e,t.localeData()),B[e]=B[e]||function(t){var e,n,i,r=t.match(N);for(e=0,n=r.length;e<n;e++)R[r[e]]?r[e]=R[r[e]]:r[e]=(i=r[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,s="";for(i=0;i<n;i++)s+=A(r[i])?r[i].call(e,t):r[i];return s}}(e),B[e](t)):t.localeData().invalidDate()}function V(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(P.lastIndex=0;n>=0&&P.test(t);)t=t.replace(P,i),P.lastIndex=0,n-=1;return t}var I={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function L(t){return"string"==typeof t?I[t]||I[t.toLowerCase()]:void 0}function F(t){var e,n,i={};for(n in t)o(t,n)&&(e=L(n))&&(i[e]=t[n]);return i}var H={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var z,U=/\d/,W=/\d\d/,K=/\d{3}/,G=/\d{4}/,$=/[+-]?\d{6}/,Z=/\d\d?/,q=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,Q=/\d{1,3}/,X=/\d{1,4}/,tt=/[+-]?\d{1,6}/,et=/\d+/,nt=/[+-]?\d+/,it=/Z|[+-]\d\d:?\d\d/gi,rt=/Z|[+-]\d\d(?::?\d\d)?/gi,st=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,at=/^[1-9]\d?/,ot=/^([1-9]\d|\d)/;function ut(t,e,n){z[t]=A(e)?e:function(t,i){return t&&n?n:e}}function ht(t,e){return o(z,t)?z[t](e._strict,e._locale):new RegExp(lt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,r){return e||n||i||r}))))}function lt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ct(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function dt(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=ct(e)),n}z={};var ft={};function pt(t,e){var n,i,r=e;for("string"==typeof t&&(t=[t]),l(e)&&(r=function(t,n){n[e]=dt(t)}),i=t.length,n=0;n<i;n++)ft[t[n]]=r}function mt(t,e){pt(t,(function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)}))}function vt(t,e,n){null!=e&&o(ft,t)&&ft[t](e,n._a,n,t)}function gt(t){return t%4==0&&t%100!=0||t%400==0}var yt=0,bt=1,_t=2,wt=3,kt=4,xt=5,St=6,Mt=7,Et=8;function Ct(t){return gt(t)?366:365}j("Y",0,0,(function(){var t=this.year();return t<=9999?T(t,4):"+"+t})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),ut("Y",nt),ut("YY",Z,W),ut("YYYY",X,G),ut("YYYYY",tt,$),ut("YYYYYY",tt,$),pt(["YYYYY","YYYYYY"],yt),pt("YYYY",(function(t,e){e[yt]=2===t.length?r.parseTwoDigitYear(t):dt(t)})),pt("YY",(function(t,e){e[yt]=r.parseTwoDigitYear(t)})),pt("Y",(function(t,e){e[yt]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return dt(t)+(dt(t)>68?1900:2e3)};var At,Ot=Dt("FullYear",!0);function Dt(t,e){return function(n){return null!=n?(Nt(this,t,n),r.updateOffset(this,e),this):Tt(this,t)}}function Tt(t,e){if(!t.isValid())return NaN;var n=t._d,i=t._isUTC;switch(e){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Nt(t,e,n){var i,r,s,a,o;if(t.isValid()&&!isNaN(n)){switch(i=t._d,r=t._isUTC,e){case"Milliseconds":return void(r?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(r?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(r?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(r?i.setUTCHours(n):i.setHours(n));case"Date":return void(r?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}s=n,a=t.month(),o=29!==(o=t.date())||1!==a||gt(s)?o:28,r?i.setUTCFullYear(s,a,o):i.setFullYear(s,a,o)}}function Pt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,i=(e%(n=12)+n)%n;return t+=(e-i)/12,1===i?gt(t)?29:28:31-i%7%2}At=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),j("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),ut("M",Z,at),ut("MM",Z,W),ut("MMM",(function(t,e){return e.monthsShortRegex(t)})),ut("MMMM",(function(t,e){return e.monthsRegex(t)})),pt(["M","MM"],(function(t,e){e[bt]=dt(t)-1})),pt(["MMM","MMMM"],(function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[bt]=r:m(n).invalidMonth=t}));var Bt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),jt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Yt=st,Vt=st;function It(t,e,n){var i,r,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=At.call(this._shortMonthsParse,a))?r:null:-1!==(r=At.call(this._longMonthsParse,a))?r:null:"MMM"===e?-1!==(r=At.call(this._shortMonthsParse,a))||-1!==(r=At.call(this._longMonthsParse,a))?r:null:-1!==(r=At.call(this._longMonthsParse,a))||-1!==(r=At.call(this._shortMonthsParse,a))?r:null}function Lt(t,e){if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=dt(e);else if(!l(e=t.localeData().monthsParse(e)))return t;var n=e,i=t.date();return i=i<29?i:Math.min(i,Pt(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,i):t._d.setMonth(n,i),t}function Ft(t){return null!=t?(Lt(this,t),r.updateOffset(this,!0),this):Tt(this,"Month")}function Ht(){function t(t,e){return e.length-t.length}var e,n,i,r,s=[],a=[],o=[];for(e=0;e<12;e++)n=p([2e3,e]),i=lt(this.monthsShort(n,"")),r=lt(this.months(n,"")),s.push(i),a.push(r),o.push(r),o.push(i);s.sort(t),a.sort(t),o.sort(t),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function zt(t,e,n,i,r,s,a){var o;return t<100&&t>=0?(o=new Date(t+400,e,n,i,r,s,a),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,n,i,r,s,a),o}function Ut(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Wt(t,e,n){var i=7+e-n;return-(7+Ut(t,0,i).getUTCDay()-e)%7+i-1}function Kt(t,e,n,i,r){var s,a,o=1+7*(e-1)+(7+n-i)%7+Wt(t,i,r);return o<=0?a=Ct(s=t-1)+o:o>Ct(t)?(s=t+1,a=o-Ct(t)):(s=t,a=o),{year:s,dayOfYear:a}}function Gt(t,e,n){var i,r,s=Wt(t.year(),e,n),a=Math.floor((t.dayOfYear()-s-1)/7)+1;return a<1?i=a+$t(r=t.year()-1,e,n):a>$t(t.year(),e,n)?(i=a-$t(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function $t(t,e,n){var i=Wt(t,e,n),r=Wt(t+1,e,n);return(Ct(t)-i+r)/7}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),ut("w",Z,at),ut("ww",Z,W),ut("W",Z,at),ut("WW",Z,W),mt(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=dt(t)}));function Zt(t,e){return t.slice(e,7).concat(t.slice(0,e))}j("d",0,"do","day"),j("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),j("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),j("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),ut("d",Z),ut("e",Z),ut("E",Z),ut("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ut("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ut("dddd",(function(t,e){return e.weekdaysRegex(t)})),mt(["dd","ddd","dddd"],(function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:m(n).invalidWeekday=t})),mt(["d","e","E"],(function(t,e,n,i){e[i]=dt(t)}));var qt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Xt=st,te=st,ee=st;function ne(t,e,n){var i,r,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=At.call(this._weekdaysParse,a))?r:null:"ddd"===e?-1!==(r=At.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=At.call(this._minWeekdaysParse,a))?r:null:"dddd"===e?-1!==(r=At.call(this._weekdaysParse,a))||-1!==(r=At.call(this._shortWeekdaysParse,a))||-1!==(r=At.call(this._minWeekdaysParse,a))?r:null:"ddd"===e?-1!==(r=At.call(this._shortWeekdaysParse,a))||-1!==(r=At.call(this._weekdaysParse,a))||-1!==(r=At.call(this._minWeekdaysParse,a))?r:null:-1!==(r=At.call(this._minWeekdaysParse,a))||-1!==(r=At.call(this._weekdaysParse,a))||-1!==(r=At.call(this._shortWeekdaysParse,a))?r:null}function ie(){function t(t,e){return e.length-t.length}var e,n,i,r,s,a=[],o=[],u=[],h=[];for(e=0;e<7;e++)n=p([2e3,1]).day(e),i=lt(this.weekdaysMin(n,"")),r=lt(this.weekdaysShort(n,"")),s=lt(this.weekdays(n,"")),a.push(i),o.push(r),u.push(s),h.push(i),h.push(r),h.push(s);a.sort(t),o.sort(t),u.sort(t),h.sort(t),this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function re(){return this.hours()%12||12}function se(t,e){j(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function ae(t,e){return e._meridiemParse}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,re),j("k",["kk",2],0,(function(){return this.hours()||24})),j("hmm",0,0,(function(){return""+re.apply(this)+T(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+re.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+T(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)})),se("a",!0),se("A",!1),ut("a",ae),ut("A",ae),ut("H",Z,ot),ut("h",Z,at),ut("k",Z,at),ut("HH",Z,W),ut("hh",Z,W),ut("kk",Z,W),ut("hmm",q),ut("hmmss",J),ut("Hmm",q),ut("Hmmss",J),pt(["H","HH"],wt),pt(["k","kk"],(function(t,e,n){var i=dt(t);e[wt]=24===i?0:i})),pt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),pt(["h","hh"],(function(t,e,n){e[wt]=dt(t),m(n).bigHour=!0})),pt("hmm",(function(t,e,n){var i=t.length-2;e[wt]=dt(t.substr(0,i)),e[kt]=dt(t.substr(i)),m(n).bigHour=!0})),pt("hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[wt]=dt(t.substr(0,i)),e[kt]=dt(t.substr(i,2)),e[xt]=dt(t.substr(r)),m(n).bigHour=!0})),pt("Hmm",(function(t,e,n){var i=t.length-2;e[wt]=dt(t.substr(0,i)),e[kt]=dt(t.substr(i))})),pt("Hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[wt]=dt(t.substr(0,i)),e[kt]=dt(t.substr(i,2)),e[xt]=dt(t.substr(r))}));var oe=Dt("Hours",!0);var ue,he={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Bt,monthsShort:Rt,week:{dow:0,doy:6},weekdays:qt,weekdaysMin:Qt,weekdaysShort:Jt,meridiemParse:/[ap]\.?m?\.?/i},le={},ce={};function de(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function fe(t){return t?t.toLowerCase().replace("_","-"):t}function pe(e){var i=null;if(void 0===le[e]&&t&&t.exports&&function(t){return!(!t||!t.match("^[^/\\\\]*$"))}(e))try{i=ue._abbr,n(115)("./"+e),me(i)}catch(t){le[e]=null}return le[e]}function me(t,e){var n;return t&&((n=h(e)?ge(t):ve(t,e))?ue=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ue._abbr}function ve(t,e){if(null!==e){var n,i=he;if(e.abbr=t,null!=le[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=le[t]._config;else if(null!=e.parentLocale)if(null!=le[e.parentLocale])i=le[e.parentLocale]._config;else{if(null==(n=pe(e.parentLocale)))return ce[e.parentLocale]||(ce[e.parentLocale]=[]),ce[e.parentLocale].push({name:t,config:e}),null;i=n._config}return le[t]=new D(O(i,e)),ce[t]&&ce[t].forEach((function(t){ve(t.name,t.config)})),me(t),le[t]}return delete le[t],null}function ge(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ue;if(!s(t)){if(e=pe(t))return e;t=[t]}return function(t){for(var e,n,i,r,s=0;s<t.length;){for(e=(r=fe(t[s]).split("-")).length,n=(n=fe(t[s+1]))?n.split("-"):null;e>0;){if(i=pe(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&de(r,n)>=e-1)break;e--}s++}return ue}(t)}function ye(t){var e,n=t._a;return n&&-2===m(t).overflow&&(e=n[bt]<0||n[bt]>11?bt:n[_t]<1||n[_t]>Pt(n[yt],n[bt])?_t:n[wt]<0||n[wt]>24||24===n[wt]&&(0!==n[kt]||0!==n[xt]||0!==n[St])?wt:n[kt]<0||n[kt]>59?kt:n[xt]<0||n[xt]>59?xt:n[St]<0||n[St]>999?St:-1,m(t)._overflowDayOfYear&&(e<yt||e>_t)&&(e=_t),m(t)._overflowWeeks&&-1===e&&(e=Mt),m(t)._overflowWeekday&&-1===e&&(e=Et),m(t).overflow=e),t}var be=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,we=/Z|[+-]\d\d(?::?\d\d)?/,ke=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],xe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Se=/^\/?Date\((-?\d+)/i,Me=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ee={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ce(t){var e,n,i,r,s,a,o=t._i,u=be.exec(o)||_e.exec(o),h=ke.length,l=xe.length;if(u){for(m(t).iso=!0,e=0,n=h;e<n;e++)if(ke[e][1].exec(u[1])){r=ke[e][0],i=!1!==ke[e][2];break}if(null==r)return void(t._isValid=!1);if(u[3]){for(e=0,n=l;e<n;e++)if(xe[e][1].exec(u[3])){s=(u[2]||" ")+xe[e][0];break}if(null==s)return void(t._isValid=!1)}if(!i&&null!=s)return void(t._isValid=!1);if(u[4]){if(!we.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=r+(s||"")+(a||""),Ne(t)}else t._isValid=!1}function Ae(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Oe(t){var e,n,i,r,s,a,o,u,h=Me.exec(t._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(h){if(n=h[4],i=h[3],r=h[2],s=h[5],a=h[6],o=h[7],u=[Ae(n),Rt.indexOf(i),parseInt(r,10),parseInt(s,10),parseInt(a,10)],o&&u.push(parseInt(o,10)),e=u,!function(t,e,n){return!t||Jt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}(h[1],e,t))return;t._a=e,t._tzm=function(t,e,n){if(t)return Ee[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(h[8],h[9],h[10]),t._d=Ut.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function De(t,e,n){return null!=t?t:null!=e?e:n}function Te(t){var e,n,i,s,a,o=[];if(!t._d){for(i=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[_t]&&null==t._a[bt]&&function(t){var e,n,i,r,s,a,o,u,h;null!=(e=t._w).GG||null!=e.W||null!=e.E?(s=1,a=4,n=De(e.GG,t._a[yt],Gt(Re(),1,4).year),i=De(e.W,1),((r=De(e.E,1))<1||r>7)&&(u=!0)):(s=t._locale._week.dow,a=t._locale._week.doy,h=Gt(Re(),s,a),n=De(e.gg,t._a[yt],h.year),i=De(e.w,h.week),null!=e.d?((r=e.d)<0||r>6)&&(u=!0):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(u=!0)):r=s),i<1||i>$t(n,s,a)?m(t)._overflowWeeks=!0:null!=u?m(t)._overflowWeekday=!0:(o=Kt(n,i,r,s,a),t._a[yt]=o.year,t._dayOfYear=o.dayOfYear)}(t),null!=t._dayOfYear&&(a=De(t._a[yt],i[yt]),(t._dayOfYear>Ct(a)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),n=Ut(a,0,t._dayOfYear),t._a[bt]=n.getUTCMonth(),t._a[_t]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[wt]&&0===t._a[kt]&&0===t._a[xt]&&0===t._a[St]&&(t._nextDay=!0,t._a[wt]=0),t._d=(t._useUTC?Ut:zt).apply(null,o),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[wt]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(m(t).weekdayMismatch=!0)}}function Ne(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],m(t).empty=!0;var e,n,i,s,a,o,u,h=""+t._i,l=h.length,c=0;for(u=(i=V(t._f,t._locale).match(N)||[]).length,e=0;e<u;e++)s=i[e],(n=(h.match(ht(s,t))||[])[0])&&((a=h.substr(0,h.indexOf(n))).length>0&&m(t).unusedInput.push(a),h=h.slice(h.indexOf(n)+n.length),c+=n.length),R[s]?(n?m(t).empty=!1:m(t).unusedTokens.push(s),vt(s,n,t)):t._strict&&!n&&m(t).unusedTokens.push(s);m(t).charsLeftOver=l-c,h.length>0&&m(t).unusedInput.push(h),t._a[wt]<=12&&!0===m(t).bigHour&&t._a[wt]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[wt]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}(t._locale,t._a[wt],t._meridiem),null!==(o=m(t).era)&&(t._a[yt]=t._locale.erasConvertYear(o,t._a[yt])),Te(t),ye(t)}else Oe(t);else Ce(t)}function Pe(t){var e=t._i,n=t._f;return t._locale=t._locale||ge(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),k(e)?new w(ye(e)):(c(e)?t._d=e:s(n)?function(t){var e,n,i,r,s,a,o=!1,u=t._f.length;if(0===u)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<u;r++)s=0,a=!1,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Ne(e),v(e)&&(a=!0),s+=m(e).charsLeftOver,s+=10*m(e).unusedTokens.length,m(e).score=s,o?s<i&&(i=s,n=e):(null==i||s<i||a)&&(i=s,n=e,a&&(o=!0));f(t,n||e)}(t):n?Ne(t):function(t){var e=t._i;h(e)?t._d=new Date(r.now()):c(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=Se.exec(t._i);null===e?(Ce(t),!1===t._isValid&&(delete t._isValid,Oe(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):s(e)?(t._a=d(e.slice(0),(function(t){return parseInt(t,10)})),Te(t)):a(e)?function(t){if(!t._d){var e=F(t._i),n=void 0===e.day?e.date:e.day;t._a=d([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Te(t)}}(t):l(e)?t._d=new Date(e):r.createFromInputFallback(t)}(t),v(t)||(t._d=null),t))}function Be(t,e,n,i,r){var o,h={};return!0!==e&&!1!==e||(i=e,e=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(a(t)&&u(t)||s(t)&&0===t.length)&&(t=void 0),h._isAMomentObject=!0,h._useUTC=h._isUTC=r,h._l=n,h._i=t,h._f=e,h._strict=i,(o=new w(ye(Pe(h))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Re(t,e,n,i){return Be(t,e,n,i,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var je=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Re.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()})),Ye=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Re.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()}));function Ve(t,e){var n,i;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return Re();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}var Ie=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Le(t){var e=F(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,u=e.hour||0,h=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=function(t){var e,n,i=!1,r=Ie.length;for(e in t)if(o(t,e)&&(-1===At.call(Ie,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<r;++n)if(t[Ie[n]]){if(i)return!1;parseFloat(t[Ie[n]])!==dt(t[Ie[n]])&&(i=!0)}return!0}(e),this._milliseconds=+c+1e3*l+6e4*h+1e3*u*60*60,this._days=+a+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=ge(),this._bubble()}function Fe(t){return t instanceof Le}function He(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ze(t,e){j(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+T(~~(t/60),2)+e+T(~~t%60,2)}))}ze("Z",":"),ze("ZZ",""),ut("Z",rt),ut("ZZ",rt),pt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=We(rt,t)}));var Ue=/([\+\-]|\d\d)/gi;function We(t,e){var n,i,r=(e||"").match(t);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(Ue)||["-",0,0])[1]+dt(n[2]))?0:"+"===n[0]?i:-i}function Ke(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(k(t)||c(t)?t.valueOf():Re(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Re(t).local()}function Ge(t){return-Math.round(t._d.getTimezoneOffset())}function $e(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ze=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,qe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Je(t,e){var n,i,r,s,a,u,h=t,c=null;return Fe(t)?h={ms:t._milliseconds,d:t._days,M:t._months}:l(t)||!isNaN(+t)?(h={},e?h[e]=+t:h.milliseconds=+t):(c=Ze.exec(t))?(n="-"===c[1]?-1:1,h={y:0,d:dt(c[_t])*n,h:dt(c[wt])*n,m:dt(c[kt])*n,s:dt(c[xt])*n,ms:dt(He(1e3*c[St]))*n}):(c=qe.exec(t))?(n="-"===c[1]?-1:1,h={y:Qe(c[2],n),M:Qe(c[3],n),w:Qe(c[4],n),d:Qe(c[5],n),h:Qe(c[6],n),m:Qe(c[7],n),s:Qe(c[8],n)}):null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(s=Re(h.from),a=Re(h.to),r=s.isValid()&&a.isValid()?(a=Ke(a,s),s.isBefore(a)?u=Xe(s,a):((u=Xe(a,s)).milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0},(h={}).ms=r.milliseconds,h.M=r.months),i=new Le(h),Fe(t)&&o(t,"_locale")&&(i._locale=t._locale),Fe(t)&&o(t,"_isValid")&&(i._isValid=t._isValid),i}function Qe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Xe(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function tn(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),en(this,Je(n,i),t),this}}function en(t,e,n,i){var s=e._milliseconds,a=He(e._days),o=He(e._months);t.isValid()&&(i=null==i||i,o&&Lt(t,Tt(t,"Month")+o*n),a&&Nt(t,"Date",Tt(t,"Date")+a*n),s&&t._d.setTime(t._d.valueOf()+s*n),i&&r.updateOffset(t,a||o))}Je.fn=Le.prototype,Je.invalid=function(){return Je(NaN)};var nn=tn(1,"add"),rn=tn(-1,"subtract");function sn(t){return"string"==typeof t||t instanceof String}function an(t){return k(t)||c(t)||sn(t)||l(t)||function(t){var e=s(t),n=!1;return e&&(n=0===t.filter((function(e){return!l(e)&&sn(t)})).length),e&&n}(t)||function(t){var e,n,i=a(t)&&!u(t),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],h=s.length;for(e=0;e<h;e+=1)n=s[e],r=r||o(t,n);return i&&r}(t)||null==t}function on(t,e){if(t.date()<e.date())return-on(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function un(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ge(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var hn=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function ln(){return this._locale}var cn=1e3,dn=6e4,fn=36e5,pn=126227808e5;function mn(t,e){return(t%e+e)%e}function vn(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-pn:new Date(t,e,n).valueOf()}function gn(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-pn:Date.UTC(t,e,n)}function yn(t,e){return e.erasAbbrRegex(t)}function bn(){var t,e,n,i,r,s=[],a=[],o=[],u=[],h=this.eras();for(t=0,e=h.length;t<e;++t)n=lt(h[t].name),i=lt(h[t].abbr),r=lt(h[t].narrow),a.push(n),s.push(i),o.push(r),u.push(n),u.push(i),u.push(r);this._erasRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function _n(t,e){j(0,[t,t.length],0,e)}function wn(t,e,n,i,r){var s;return null==t?Gt(this,i,r).year:(e>(s=$t(t,i,r))&&(e=s),kn.call(this,t,e,n,i,r))}function kn(t,e,n,i,r){var s=Kt(t,e,n,i,r),a=Ut(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}j("N",0,0,"eraAbbr"),j("NN",0,0,"eraAbbr"),j("NNN",0,0,"eraAbbr"),j("NNNN",0,0,"eraName"),j("NNNNN",0,0,"eraNarrow"),j("y",["y",1],"yo","eraYear"),j("y",["yy",2],0,"eraYear"),j("y",["yyy",3],0,"eraYear"),j("y",["yyyy",4],0,"eraYear"),ut("N",yn),ut("NN",yn),ut("NNN",yn),ut("NNNN",(function(t,e){return e.erasNameRegex(t)})),ut("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),pt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,i){var r=n._locale.erasParse(t,i,n._strict);r?m(n).era=r:m(n).invalidEra=t})),ut("y",et),ut("yy",et),ut("yyy",et),ut("yyyy",et),ut("yo",(function(t,e){return e._eraYearOrdinalRegex||et})),pt(["y","yy","yyy","yyyy"],yt),pt(["yo"],(function(t,e,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[yt]=n._locale.eraYearOrdinalParse(t,r):e[yt]=parseInt(t,10)})),j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),_n("gggg","weekYear"),_n("ggggg","weekYear"),_n("GGGG","isoWeekYear"),_n("GGGGG","isoWeekYear"),ut("G",nt),ut("g",nt),ut("GG",Z,W),ut("gg",Z,W),ut("GGGG",X,G),ut("gggg",X,G),ut("GGGGG",tt,$),ut("ggggg",tt,$),mt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=dt(t)})),mt(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),j("Q",0,"Qo","quarter"),ut("Q",U),pt("Q",(function(t,e){e[bt]=3*(dt(t)-1)})),j("D",["DD",2],"Do","date"),ut("D",Z,at),ut("DD",Z,W),ut("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),pt(["D","DD"],_t),pt("Do",(function(t,e){e[_t]=dt(t.match(Z)[0])}));var xn=Dt("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),ut("DDD",Q),ut("DDDD",K),pt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=dt(t)})),j("m",["mm",2],0,"minute"),ut("m",Z,ot),ut("mm",Z,W),pt(["m","mm"],kt);var Sn=Dt("Minutes",!1);j("s",["ss",2],0,"second"),ut("s",Z,ot),ut("ss",Z,W),pt(["s","ss"],xt);var Mn,En,Cn=Dt("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ut("S",Q,U),ut("SS",Q,W),ut("SSS",Q,K),Mn="SSSS";Mn.length<=9;Mn+="S")ut(Mn,et);function An(t,e){e[St]=dt(1e3*("0."+t))}for(Mn="S";Mn.length<=9;Mn+="S")pt(Mn,An);En=Dt("Milliseconds",!1),j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var On=w.prototype;function Dn(t){return t}On.add=nn,On.calendar=function(t,e){1===arguments.length&&(arguments[0]?an(arguments[0])?(t=arguments[0],e=void 0):function(t){var e,n=a(t)&&!u(t),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<r.length;e+=1)i=i||o(t,r[e]);return n&&i}(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Re(),i=Ke(n,this).startOf("day"),s=r.calendarFormat(this,i)||"sameElse",h=e&&(A(e[s])?e[s].call(this,n):e[s]);return this.format(h||this.localeData().calendar(s,this,Re(n)))},On.clone=function(){return new w(this)},On.diff=function(t,e,n){var i,r,s;if(!this.isValid())return NaN;if(!(i=Ke(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=L(e)){case"year":s=on(this,i)/12;break;case"month":s=on(this,i);break;case"quarter":s=on(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return n?s:ct(s)},On.endOf=function(t){var e,n;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?gn:vn,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=fn-mn(e+(this._isUTC?0:this.utcOffset()*dn),fn)-1;break;case"minute":e=this._d.valueOf(),e+=dn-mn(e,dn)-1;break;case"second":e=this._d.valueOf(),e+=cn-mn(e,cn)-1}return this._d.setTime(e),r.updateOffset(this,!0),this},On.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=Y(this,t);return this.localeData().postformat(e)},On.from=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||Re(t).isValid())?Je({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},On.fromNow=function(t){return this.from(Re(),t)},On.to=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||Re(t).isValid())?Je({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},On.toNow=function(t){return this.to(Re(),t)},On.get=function(t){return A(this[t=L(t)])?this[t]():this},On.invalidAt=function(){return m(this).overflow},On.isAfter=function(t,e){var n=k(t)?t:Re(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},On.isBefore=function(t,e){var n=k(t)?t:Re(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},On.isBetween=function(t,e,n,i){var r=k(t)?t:Re(t),s=k(e)?e:Re(e);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(s,n):!this.isAfter(s,n))},On.isSame=function(t,e){var n,i=k(t)?t:Re(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},On.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},On.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},On.isValid=function(){return v(this)},On.lang=hn,On.locale=un,On.localeData=ln,On.max=Ye,On.min=je,On.parsingFlags=function(){return f({},m(this))},On.set=function(t,e){if("object"==typeof t){var n,i=function(t){var e,n=[];for(e in t)o(t,e)&&n.push({unit:e,priority:H[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}(t=F(t)),r=i.length;for(n=0;n<r;n++)this[i[n].unit](t[i[n].unit])}else if(A(this[t=L(t)]))return this[t](e);return this},On.startOf=function(t){var e,n;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?gn:vn,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=mn(e+(this._isUTC?0:this.utcOffset()*dn),fn);break;case"minute":e=this._d.valueOf(),e-=mn(e,dn);break;case"second":e=this._d.valueOf(),e-=mn(e,cn)}return this._d.setTime(e),r.updateOffset(this,!0),this},On.subtract=rn,On.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},On.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},On.toDate=function(){return new Date(this.valueOf())},On.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Y(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Y(n,"Z")):Y(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},On.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=r+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(On[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),On.toJSON=function(){return this.isValid()?this.toISOString():null},On.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},On.unix=function(){return Math.floor(this.valueOf()/1e3)},On.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},On.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},On.eraName=function(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].name;if(i[t].until<=n&&n<=i[t].since)return i[t].name}return""},On.eraNarrow=function(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].narrow;if(i[t].until<=n&&n<=i[t].since)return i[t].narrow}return""},On.eraAbbr=function(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].abbr;if(i[t].until<=n&&n<=i[t].since)return i[t].abbr}return""},On.eraYear=function(){var t,e,n,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return(this.year()-r(s[t].since).year())*n+s[t].offset;return this.year()},On.year=Ot,On.isLeapYear=function(){return gt(this.year())},On.weekYear=function(t){return wn.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},On.isoWeekYear=function(t){return wn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},On.quarter=On.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},On.month=Ft,On.daysInMonth=function(){return Pt(this.year(),this.month())},On.week=On.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},On.isoWeek=On.isoWeeks=function(t){var e=Gt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},On.weeksInYear=function(){var t=this.localeData()._week;return $t(this.year(),t.dow,t.doy)},On.weeksInWeekYear=function(){var t=this.localeData()._week;return $t(this.weekYear(),t.dow,t.doy)},On.isoWeeksInYear=function(){return $t(this.year(),1,4)},On.isoWeeksInISOWeekYear=function(){return $t(this.isoWeekYear(),1,4)},On.date=xn,On.day=On.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=Tt(this,"Day");return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},On.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},On.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},On.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},On.hour=On.hours=oe,On.minute=On.minutes=Sn,On.second=On.seconds=Cn,On.millisecond=On.milliseconds=En,On.utcOffset=function(t,e,n){var i,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=We(rt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Ge(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!e||this._changeInProgress?en(this,Je(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Ge(this)},On.utc=function(t){return this.utcOffset(0,t)},On.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ge(this),"m")),this},On.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=We(it,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},On.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Re(t).utcOffset():0,(this.utcOffset()-t)%60==0)},On.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},On.isLocal=function(){return!!this.isValid()&&!this._isUTC},On.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},On.isUtc=$e,On.isUTC=$e,On.zoneAbbr=function(){return this._isUTC?"UTC":""},On.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},On.dates=S("dates accessor is deprecated. Use date instead.",xn),On.months=S("months accessor is deprecated. Use month instead",Ft),On.years=S("years accessor is deprecated. Use year instead",Ot),On.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),On.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!h(this._isDSTShifted))return this._isDSTShifted;var t,e={};return _(e,this),(e=Pe(e))._a?(t=e._isUTC?p(e._a):Re(e._a),this._isDSTShifted=this.isValid()&&function(t,e,n){var i,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&dt(t[i])!==dt(e[i]))&&a++;return a+s}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Tn=D.prototype;function Nn(t,e,n,i){var r=ge(),s=p().set(i,e);return r[n](s,t)}function Pn(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return Nn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Nn(t,i,n,"month");return r}function Bn(t,e,n,i){"boolean"==typeof t?(l(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,l(e)&&(n=e,e=void 0),e=e||"");var r,s=ge(),a=t?s._week.dow:0,o=[];if(null!=n)return Nn(e,(n+a)%7,i,"day");for(r=0;r<7;r++)o[r]=Nn(e,(r+a)%7,i,"day");return o}Tn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return A(i)?i.call(e,n):i},Tn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(N).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},Tn.invalidDate=function(){return this._invalidDate},Tn.ordinal=function(t){return this._ordinal.replace("%d",t)},Tn.preparse=Dn,Tn.postformat=Dn,Tn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return A(r)?r(t,e,n,i):r.replace(/%d/i,t)},Tn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return A(n)?n(e):n.replace(/%s/i,e)},Tn.set=function(t){var e,n;for(n in t)o(t,n)&&(A(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Tn.eras=function(t,e){var n,i,s,a=this._eras||ge("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"==typeof a[n].since&&(s=r(a[n].since).startOf("day"),a[n].since=s.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":s=r(a[n].until).startOf("day").valueOf(),a[n].until=s.valueOf()}return a},Tn.erasParse=function(t,e,n){var i,r,s,a,o,u=this.eras();for(t=t.toUpperCase(),i=0,r=u.length;i<r;++i)if(s=u[i].name.toUpperCase(),a=u[i].abbr.toUpperCase(),o=u[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return u[i];break;case"NNNN":if(s===t)return u[i];break;case"NNNNN":if(o===t)return u[i]}else if([s,a,o].indexOf(t)>=0)return u[i]},Tn.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n},Tn.erasAbbrRegex=function(t){return o(this,"_erasAbbrRegex")||bn.call(this),t?this._erasAbbrRegex:this._erasRegex},Tn.erasNameRegex=function(t){return o(this,"_erasNameRegex")||bn.call(this),t?this._erasNameRegex:this._erasRegex},Tn.erasNarrowRegex=function(t){return o(this,"_erasNarrowRegex")||bn.call(this),t?this._erasNarrowRegex:this._erasRegex},Tn.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||jt).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},Tn.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[jt.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Tn.monthsParse=function(t,e,n){var i,r,s;if(this._monthsParseExact)return It.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},Tn.monthsRegex=function(t){return this._monthsParseExact?(o(this,"_monthsRegex")||Ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Vt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},Tn.monthsShortRegex=function(t){return this._monthsParseExact?(o(this,"_monthsRegex")||Ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Yt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},Tn.week=function(t){return Gt(t,this._week.dow,this._week.doy).week},Tn.firstDayOfYear=function(){return this._week.doy},Tn.firstDayOfWeek=function(){return this._week.dow},Tn.weekdays=function(t,e){var n=s(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Zt(n,this._week.dow):t?n[t.day()]:n},Tn.weekdaysMin=function(t){return!0===t?Zt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},Tn.weekdaysShort=function(t){return!0===t?Zt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},Tn.weekdaysParse=function(t,e,n){var i,r,s;if(this._weekdaysParseExact)return ne.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},Tn.weekdaysRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ie.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Xt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},Tn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ie.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=te),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Tn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ie.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ee),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Tn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Tn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},me("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===dt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",me),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ge);var Rn=Math.abs;function jn(t,e,n,i){var r=Je(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Yn(t){return t<0?Math.floor(t):Math.ceil(t)}function Vn(t){return 4800*t/146097}function In(t){return 146097*t/4800}function Ln(t){return function(){return this.as(t)}}var Fn=Ln("ms"),Hn=Ln("s"),zn=Ln("m"),Un=Ln("h"),Wn=Ln("d"),Kn=Ln("w"),Gn=Ln("M"),$n=Ln("Q"),Zn=Ln("y"),qn=Fn;function Jn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Qn=Jn("milliseconds"),Xn=Jn("seconds"),ti=Jn("minutes"),ei=Jn("hours"),ni=Jn("days"),ii=Jn("months"),ri=Jn("years");var si=Math.round,ai={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function oi(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}var ui=Math.abs;function hi(t){return(t>0)-(t<0)||+t}function li(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i,r,s,a,o,u=ui(this._milliseconds)/1e3,h=ui(this._days),l=ui(this._months),c=this.asSeconds();return c?(t=ct(u/60),e=ct(t/60),u%=60,t%=60,n=ct(l/12),l%=12,i=u?u.toFixed(3).replace(/\.?0+$/,""):"",r=c<0?"-":"",s=hi(this._months)!==hi(c)?"-":"",a=hi(this._days)!==hi(c)?"-":"",o=hi(this._milliseconds)!==hi(c)?"-":"",r+"P"+(n?s+n+"Y":"")+(l?s+l+"M":"")+(h?a+h+"D":"")+(e||t||u?"T":"")+(e?o+e+"H":"")+(t?o+t+"M":"")+(u?o+i+"S":"")):"P0D"}var ci=Le.prototype;return ci.isValid=function(){return this._isValid},ci.abs=function(){var t=this._data;return this._milliseconds=Rn(this._milliseconds),this._days=Rn(this._days),this._months=Rn(this._months),t.milliseconds=Rn(t.milliseconds),t.seconds=Rn(t.seconds),t.minutes=Rn(t.minutes),t.hours=Rn(t.hours),t.months=Rn(t.months),t.years=Rn(t.years),this},ci.add=function(t,e){return jn(this,t,e,1)},ci.subtract=function(t,e){return jn(this,t,e,-1)},ci.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=L(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+Vn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(In(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},ci.asMilliseconds=Fn,ci.asSeconds=Hn,ci.asMinutes=zn,ci.asHours=Un,ci.asDays=Wn,ci.asWeeks=Kn,ci.asMonths=Gn,ci.asQuarters=$n,ci.asYears=Zn,ci.valueOf=qn,ci._bubble=function(){var t,e,n,i,r,s=this._milliseconds,a=this._days,o=this._months,u=this._data;return s>=0&&a>=0&&o>=0||s<=0&&a<=0&&o<=0||(s+=864e5*Yn(In(o)+a),a=0,o=0),u.milliseconds=s%1e3,t=ct(s/1e3),u.seconds=t%60,e=ct(t/60),u.minutes=e%60,n=ct(e/60),u.hours=n%24,a+=ct(n/24),o+=r=ct(Vn(a)),a-=Yn(In(r)),i=ct(o/12),o%=12,u.days=a,u.months=o,u.years=i,this},ci.clone=function(){return Je(this)},ci.get=function(t){return t=L(t),this.isValid()?this[t+"s"]():NaN},ci.milliseconds=Qn,ci.seconds=Xn,ci.minutes=ti,ci.hours=ei,ci.days=ni,ci.weeks=function(){return ct(this.days()/7)},ci.months=ii,ci.years=ri,ci.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,s=ai;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(r=t),"object"==typeof e&&(s=Object.assign({},ai,e),null!=e.s&&null==e.ss&&(s.ss=e.s-1)),i=function(t,e,n,i){var r=Je(t).abs(),s=si(r.as("s")),a=si(r.as("m")),o=si(r.as("h")),u=si(r.as("d")),h=si(r.as("M")),l=si(r.as("w")),c=si(r.as("y")),d=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||l<=1&&["w"]||l<n.w&&["ww",l]),(d=d||h<=1&&["M"]||h<n.M&&["MM",h]||c<=1&&["y"]||["yy",c])[2]=e,d[3]=+t>0,d[4]=i,oi.apply(null,d)}(this,!r,s,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},ci.toISOString=li,ci.toString=li,ci.toJSON=li,ci.locale=un,ci.localeData=ln,ci.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",li),ci.lang=hn,j("X",0,0,"unix"),j("x",0,0,"valueOf"),ut("x",nt),ut("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),pt("x",(function(t,e,n){n._d=new Date(dt(t))})),r.version="2.30.1",e=Re,r.fn=On,r.min=function(){return Ve("isBefore",[].slice.call(arguments,0))},r.max=function(){return Ve("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(t){return Re(1e3*t)},r.months=function(t,e){return Pn(t,e,"months")},r.isDate=c,r.locale=me,r.invalid=g,r.duration=Je,r.isMoment=k,r.weekdays=function(t,e,n){return Bn(t,e,n,"weekdays")},r.parseZone=function(){return Re.apply(null,arguments).parseZone()},r.localeData=ge,r.isDuration=Fe,r.monthsShort=function(t,e){return Pn(t,e,"monthsShort")},r.weekdaysMin=function(t,e,n){return Bn(t,e,n,"weekdaysMin")},r.defineLocale=ve,r.updateLocale=function(t,e){if(null!=e){var n,i,r=he;null!=le[t]&&null!=le[t].parentLocale?le[t].set(O(le[t]._config,e)):(null!=(i=pe(t))&&(r=i._config),e=O(r,e),null==i&&(e.abbr=t),(n=new D(e)).parentLocale=le[t],le[t]=n),me(t)}else null!=le[t]&&(null!=le[t].parentLocale?(le[t]=le[t].parentLocale,t===me()&&me(t)):null!=le[t]&&delete le[t]);return le[t]},r.locales=function(){return M(le)},r.weekdaysShort=function(t,e,n){return Bn(t,e,n,"weekdaysShort")},r.normalizeUnits=L,r.relativeTimeRounding=function(t){return void 0===t?si:"function"==typeof t&&(si=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==ai[t]&&(void 0===e?ai[t]:(ai[t]=e,"s"===t&&(ai.ss=e-1),!0))},r.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=On,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},477:()=>{}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=n(396),e=n.n(t);const i={encrypt:function(t,n){return e().AES.encrypt(JSON.stringify(t),n,{format:i}).toString()},decrypt:function(t,n){return JSON.parse(e().AES.decrypt(t,n,{format:i}).toString(e().enc.Utf8))},stringify:function(t){var n={ct:t.ciphertext.toString(e().enc.Base64)};return t.iv&&(n.iv=t.iv.toString()),t.salt&&(n.s=t.salt.toString()),JSON.stringify(n).replace(/\s/g,"")},parse:function(t){var n=JSON.parse(t),i={ciphertext:e().enc.Base64.parse(n.ct)};return n.iv&&(i.iv=e().enc.Hex.parse(n.iv)),n.s&&(i.salt=e().enc.Hex.parse(n.s)),i}},r=i;class s{static async getTrivia(t,e="/get_trivia"){return new Promise(((n,i)=>{fetch(e).then((t=>t.json())).then((e=>{const i=r.decrypt(e,t);n(i)}))}))}static async saveTrivia(t,e,n="/save_trivia",i="POST"){return new Promise(((s,a)=>{const o=r.encrypt({trivia:t},e),u=new FormData;u.append("s",o),fetch(n,{method:i.toUpperCase(),headers:{"Cache-Control":"no-cache"},body:u}).then((t=>t.json())).then((t=>{s(t)}))}))}}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t){void 0===t&&(t={});var e=[];for(var n in t)a(t,n)&&e.push([n,t[n]]);return e}Object.assign||(Object.assign=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=e.length,s=0;s<r;s++){var a=e[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i});var u=Object,h=u.assign,l=u.create,c=u.defineProperty,d=u.defineProperties,f=u.keys,p=Object.prototype.toString,m=Array.isArray;function v(t,e){return null===t&&null===e||!w(t)&&!w(e)&&t===e}function g(t){return!isNaN(parseFloat(t))&&isFinite(t)}function y(t){return t&&"[object Object]"===p.call(t)}function b(t){return!(!t||!w(t)&&!k(t)||_(t))}function _(t){return t instanceof Date}function w(t){return"object"==typeof t}function k(t){return"function"==typeof t}function x(t){return"string"==typeof t}function S(t){return"number"==typeof t}function M(t){return void 0===t}if(Array.prototype.find||c(Array.prototype,"find",{value:function(t,e){if(null===this||M(this))throw new TypeError("Array.prototype.find called on null or undefined");if(!k(t))throw new TypeError(t+" is not a function");for(var n=Object(this),i=n.length>>>0,r=0;r<i;r++)if(a(n,r)&&t.call(e,n[r],r,n))return n[r]},configurable:!0,writable:!0}),"undefined"!=typeof window&&window.Node&&window.Node.prototype&&!window.Node.prototype.contains&&(Node.prototype.contains=function(t){if(!t)throw new TypeError("node required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1}),"undefined"!=typeof window&&window.performance&&!window.performance.now){window.performance=window.performance||{};var E=Date.now();window.performance.now=function(){return Date.now()-E}}var C="undefined"!=typeof window?window:null,A=C?document:null,O=!!A,D="undefined"!=typeof global?global:C,T="undefined"!=typeof console&&k(console.warn)&&k(console.warn.apply),N=!!A&&A.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),P=["o","ms","moz","webkit"];if(!D.Promise){var B={},R={},j={},Y=D.Promise=function(t){var e,n=[],i=[],r=B,s=function(t){return function(s){r===B&&(e=I((r=t)===R?n:i,s),V(e))}},a=s(R),o=s(j);try{t(a,o)}catch(t){o(t)}return{then:function(t,s){var a=new Y((function(o,u){var h=function(t,e,n){k(t)?e.push((function(e){try{L(a,t(e),o,u)}catch(t){u(t)}})):e.push(n)};h(t,n,o),h(s,i,u),r!==B&&V(e)}));return a},catch:function(t){return this.then(null,t)},finally:function(t){return this.then((function(e){return t(),e}),(function(e){throw t(),e}))}}};Y.all=function(t){return new Y((function(e,n){var i,r,s=[];if(t.length){var a=function(t,r){t&&k(t.then)?t.then((function(t){s[r]=t,--i||e(s)}),n):(s[r]=t,--i||e(s))};for(i=r=t.length;r--;)a(t[r],r)}else e(s)}))},Y.race=function(t){return new Y((function(e,n){var i=!0;function r(t){i&&(i=!1,e(t))}function s(t){i&&(i=!1,n(t))}for(var a=0;a<t.length;a++)t[a]&&k(t[a].then)&&t[a].then(r,s)}))},Y.resolve=function(t){return t&&k(t.then)?t:new Y((function(e){e(t)}))},Y.reject=function(t){return t&&k(t.then)?t:new Y((function(e,n){n(t)}))};var V=function(t){setTimeout(t,0)},I=function(t,e){return function(){for(var n=void 0;n=t.shift();)n(e)}},L=function(t,e,n,i){var r;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof Y)e.then(n,i);else if(e&&(w(e)||k(e))){try{r=e.then}catch(t){return void i(t)}var s;if(k(r))try{r.call(e,(function(e){s||(s=!0,L(t,e,n,i))}),(function(t){s||(s=!0,i(t))}))}catch(t){if(!s)return i(t),void(s=!0)}else n(e)}else n(e)}}if(!("undefined"==typeof window||window.requestAnimationFrame&&window.cancelAnimationFrame)){var F=0;window.requestAnimationFrame=function(t){var e=Date.now(),n=Math.max(0,16-(e-F)),i=window.setTimeout((function(){t(e+n)}),n);return F=e+n,i},window.cancelAnimationFrame=function(t){clearTimeout(t)}}var H={el:void 0,append:!1,delegate:!0,enhance:!1,template:null,allowExpressions:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],staticDelimiters:["[[","]]"],staticTripleDelimiters:["[[[","]]]"],csp:!0,interpolate:!1,preserveWhitespace:!1,preserveStandaloneSections:!1,sanitize:!1,stripComments:!0,contextLines:0,data:l(null),helpers:l(null),computed:l(null),syncComputedChildren:!1,resolveInstanceMembers:!1,warnAboutAmbiguity:!1,adapt:[],isolated:!0,twoway:!0,lazy:!1,noIntro:!1,noOutro:!1,transitionsEnabled:!0,complete:void 0,nestedTransitions:!0,css:null,noCSSTransform:!1},z={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};function U(){}var W,K,G,$={};if(T){var Z=["%cRactive.js %c1.4.4 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"];G=function(){if(!1!==od.WELCOME_MESSAGE){var t="WELCOME_MESSAGE"in od?od.WELCOME_MESSAGE:"You're running Ractive 1.4.4 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://ractive.js.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n",e=!!console.groupCollapsed;e&&console.groupCollapsed.apply(console,Z),console.log(t),e&&console.groupEnd(Z),G=U}else G=U},K=function(t,e){if(G(),w(e[e.length-1])){var n,i,r=e.pop(),s=r?r.ractive:null;s&&(s.component&&(n=s.component.name)&&(t="<"+n+"> "+t),(i=r.node||s.fragment&&s.fragment.rendered&&s.find("*"))&&e.push(i))}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},W=function(){console.log.apply(console,arguments)}}else K=W=G=U;function q(t,e){return t.replace(/%s/g,(function(){return e.shift()}))}function J(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];throw t=q(t,e),new Error(t)}function Q(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];t=q(t,e),K(t,e)}function X(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];t=q(t,e),$[t]||($[t]=!0,K(t,e))}function tt(){od.DEBUG&&Q.apply(null,arguments)}function et(){od.DEBUG&&X.apply(null,arguments)}var nt='A function was specified for "%s" %s, but no %s was returned',it=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://ractive.js.org/integrations/#"+e+"s"};function rt(t,e,n){var i=st(t,e,n);return i?i[t][n]:null}function st(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function at(t,e,n,i){if(t===e)return null;if(i){var r=rt("interpolators",n,i);if(r)return r(t,e)||null;J(it(i,"interpolator"))}return ot.number(t,e)||ot.array(t,e)||ot.object(t,e)||null}var ot={number:function(t,e){if(!g(t)||!g(e))return null;var n=(e=+e)-(t=+t);return n?function(e){return t+e*n}:function(){return t}},array:function(t,e){var n,i;if(!m(t)||!m(e))return null;var r=[],s=[];for(i=n=Math.min(t.length,e.length);i--;)s[i]=at(t[i],e[i]);for(i=n;i<t.length;i+=1)r[i]=t[i];for(i=n;i<e.length;i+=1)r[i]=e[i];return function(t){for(var e=n;e--;)r[e]=s[e](t);return r}},object:function(t,e){if(!y(t)||!y(e))return null;var n=[],i={},r={},s=function(s){a(t,s)&&(a(e,s)?(n.push(s),r[s]=at(t[s],e[s])||function(){return e[s]}):i[s]=t[s])};for(var o in t)s(o);for(var u in e)a(e,u)&&!a(t,u)&&(i[u]=e[u]);var h=n.length;return function(t){for(var e=h;e--;){var s=n[e];i[s]=r[s](t)}return i}}},ut=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,ht=/([^\\](?:\\\\)*)\./,lt=/\\|\./g,ct=/((?:\\)+)\1|\\(\.)/g;function dt(t){return x(t)?t.replace(lt,"\\$&"):t}function ft(t){return t?t.replace(ut,".$1"):""}function pt(t){var e,n=[];for(t=ft(t);e=ht.exec(t);){var i=e.index+e[1].length;n.push(t.substr(0,i)),t=t.substr(i+1)}return n.push(t),n}function mt(t){return x(t)?t.replace(ct,"$1$2"):t}function vt(t,e){-1===t.indexOf(e)&&t.push(e)}function gt(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]==e)return!0;return!1}function yt(t){return x(t)?[t]:M(t)?[]:t}function bt(t){return t[t.length-1]}function _t(t,e){if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}function wt(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=t.concat.apply([],t),i=n.length;i--;){var r=n.indexOf(n[i]);~r&&r<i&&n.splice(i,1)}return n}function kt(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function xt(t,e){for(var n=t.length,i=0;i<n;i++){var r=e(t[i]);if(r)return r}}function St(t,e,n){var i=t,r=e;n&&(i=i.map(n),r=r.map(n));var s=i.length,a={},o=0,u=i.map((function(t){var e,n=o;do{if(-1===(e=r.indexOf(t,n)))return-1;n=e+1}while(!0===a[e]&&n<s);return e===o&&(o+=1),a[e]=!0,e})),h=u.oldLen=i.length;if(u.newLen=r.length,h===u.newLen){for(var l=0;l<h&&u[l]===l;l++);l===h&&(u.same=!0)}return u}var Mt=Function.prototype.bind;function Et(t,e){if(!/this/.test(t.toString()))return t;var n=Mt.call(t,e);for(var i in t)n[i]=t[i];return n}var Ct={early:[],mark:[]},At={early:[],mark:[]},Ot={virtual:!1},Dt=function(t){this.deps=[],this.children=[],this.childByKey={},this.links=[],this.bindings=[],t&&(this.parent=t,this.root=t.root)},Tt=Dt.prototype;function Nt(t,e,n){return n&&k(e)&&t.parent&&t.parent.isRoot?(t.boundValue||(t.boundValue=Et(e._r_unbound||e,t.parent.ractive)),t.boundValue):e}function Pt(t){t.updateFromBindings(!0)}function Bt(t){if(t){var e=Ct[t];Ct[t]=[];for(var n=e.length;n--;)e[n]();var i=At[t];for(At[t]=[],n=i.length;n--;)i[n].model.register(i[n].item)}else Bt("early"),Bt("mark")}function Rt(t,e,n,i){t.shuffling=!0;for(var r=t.source().length!==t.source().value.length,s=e.length;s--;){var a=e[s];s!==a&&(r=!0,s in t.childByKey&&t.childByKey[s].rebind(~a?t.joinKey(a):void 0,t.childByKey[s],!i))}for(t.links.forEach((function(t){return t.shuffle(e)})),n||Bt("early"),s=t.deps.length;s--;)t.deps[s].shuffle&&t.deps[s].shuffle(e);t[n?"marked":"mark"](),n||Bt("mark"),r&&t.notifyUpstream(),t.shuffling=!1}function jt(t,e){e!==t.dataModel&&(e&&e.viewmodel&&e.viewmodel.isRoot&&t.childByKey.data?(t.childByKey.data.link(e.viewmodel,"data"),t.dataModel=e):t.dataModel&&(t.childByKey.data.unlink(),t.dataModel=!0))}Tt.addShuffleTask=function(t,e){void 0===e&&(e="early"),Ct[e].push(t)},Tt.addShuffleRegister=function(t,e){void 0===e&&(e="early"),At[e].push({model:this,item:t})},Tt.downstreamChanged=function(){},Tt.findMatches=function(t){var e,n,i=t.length,r=[this],s=function(){var i=t[n];"*"===i?(e=[],r.forEach((function(t){e.push.apply(e,t.getValueChildren(t.get()))}))):e=r.map((function(t){return t.joinKey(i)})),r=e};for(n=0;n<i;n+=1)s();return e},Tt.getKeypath=function(t){if(t!==this.ractive&&this._link)return this._link.target.getKeypath(t);if(!this.keypath){var e=this.parent&&this.parent.getKeypath(t);this.keypath=e?this.parent.getKeypath(t)+"."+dt(this.key):dt(this.key)}return this.keypath},Tt.getValueChildren=function(t){var e,n=this;m(t)?(e=[],"length"in this&&this.length!==t.length&&e.push(this.joinKey("length")),t.forEach((function(t,i){e.push(n.joinKey(i))}))):y(t)||k(t)?e=f(t).map((function(t){return n.joinKey(dt(t))})):null!=t&&(e=[]);var i=this.computed;return i&&e.push.apply(e,f(i).map((function(t){return n.joinKey(t)}))),e},Tt.getVirtual=function(t){var e=this,n=this.get(t,{virtual:!1});if(b(n)){for(var i=m(n)?[]:l(null),r=f(n),s=r.length;s--;){var a=e.childByKey[r[s]];a?a._link?i[r[s]]=a._link.getVirtual():i[r[s]]=a.getVirtual():i[r[s]]=n[r[s]]}for(s=this.children.length;s--;){var o=e.children[s];!(o.key in i)&&o._link&&(i[o.key]=o._link.getVirtual())}if(this.computed)for(s=(r=f(this.computed)).length;s--;)i[r[s]]=e.computed[r[s]].get();return i}return n},Tt.has=function(t){var e=this;if(this._link)return this._link.has(t);var n=this.get(!1,Ot);if(!n)return!1;if(t=mt(t),(k(n)||y(n))&&t in n)return!0;var i=this.computed;return!(!i||!(t in this.computed))||((i=this.root.ractive&&this.root.ractive.computed)&&f(i).forEach((function(t){if(i[t].pattern&&i[t].pattern.test(e.getKeypath()))return!0})),!1)},Tt.joinAll=function(t,e){for(var n=this,i=0;i<t.length;i+=1){if(e&&!1===e.lastLink&&i+1===t.length&&n.childByKey[t[i]]&&n.childByKey[t[i]]._link)return n.childByKey[t[i]];n=n.joinKey(t[i],e)}return n},Tt.notifyUpstream=function(t){for(var e=this,n=this.parent,i=t||[this.key];n;)n.patterns&&n.patterns.forEach((function(t){return t.notify(i.slice())})),i.unshift(n.key),n.links.forEach((function(t){return t.notifiedUpstream(i,e.root)})),n.deps.forEach((function(t){return t.handleChange(i)})),n.downstreamChanged(t),n=n.parent},Tt.rebind=function(t,e,n){var i=this;if(this._link&&this._link.rebind(t,e,!1),t!==this){for(var r=this.deps.length;r--;)i.deps[r].rebind&&i.deps[r].rebind(t,e,n);for(r=this.links.length;r--;){var s=i.links[r];s.owner&&s.owner._link&&s.relinking(t,n)}for(r=this.children.length;r--;){var a=i.children[r];a.rebind(t?t.joinKey(a.key):void 0,a._link||a,n),i.dataModel&&i.addShuffleTask((function(){return jt(i,i.retrieve())}),"early")}for(r=this.bindings.length;r--;)i.bindings[r].rebind(t,e,n)}},Tt.reference=function(){"refs"in this?this.refs++:this.refs=1},Tt.register=function(t){this.deps.push(t)},Tt.registerLink=function(t){vt(this.links,t)},Tt.registerPatternObserver=function(t){(this.patterns||(this.patterns=[])).push(t),this.register(t)},Tt.registerTwowayBinding=function(t){this.bindings.push(t)},Tt.unreference=function(){"refs"in this&&this.refs--},Tt.unregister=function(t){_t(this.deps,t)},Tt.unregisterLink=function(t){_t(this.links,t)},Tt.unregisterPatternObserver=function(t){_t(this.patterns,t),this.unregister(t)},Tt.unregisterTwowayBinding=function(t){_t(this.bindings,t)},Tt.updateFromBindings=function(t){for(var e=this,n=this.bindings.length;n--;){var i=e.bindings[n].getValue();i!==e.value&&e.set(i)}if(!this.bindings.length){var r=function(t){for(var e=t.length;e--;)if(t[e].bound){var n=t[e].owner;if(n)return{value:"checked"===n.name?n.node.checked:n.node.value}}}(this.deps);r&&r.value!==this.value&&this.set(r.value)}t&&(this.children.forEach(Pt),this.links.forEach(Pt),this._link&&this._link.updateFromBindings(t))};var Yt,Vt=[];function It(){Vt.push(Yt=[])}function Lt(){var t=Vt.pop();return Yt=Vt[Vt.length-1],t}function Ft(t){Yt&&vt(Yt,t)}function Ht(t){t.bind()}function zt(t){t.cancel()}function Ut(t){t.destroyed()}function Wt(t){t.handleChange()}function Kt(t){t.mark()}function Gt(t){t.mark(!0)}function $t(t){t.marked()}function Zt(t){t.markedAll()}function qt(t){t.render()}function Jt(t){t.shuffled()}function Qt(t){t.teardown()}function Xt(t){t.unbind()}function te(t){t.unrender()}function ee(t){t.update()}function ne(t){return t.toString()}function ie(t){return t.toString(!0)}function re(t,e,n,i){var r=t.r||t;if(!r||!x(r))return e;if("."===r||"@"===r[0]||(e||n).isKey||(e||n).isKeypath)return e;var s=r.split("/"),a=pt(s[s.length-1]),o=a[a.length-1],u=e||n;u&&1===a.length&&o!==u.key&&i&&(a=function(t,e){for(;e;){var n=e.aliases;if(n&&n[t]){for(var i=(e.owner.iterations?e.owner:e).owner.template.z,r=0;r<i.length;r++)if(i[r].n===t){var s=i[r].x;if(!s.r)return!1;var a=s.r.split("/");return pt(a[a.length-1])}return}e=e.componentParent||e.parent}}(o,i)||a);for(var h=a.length,l=!0,c=!1;u&&h--;)u.shuffling&&(c=!0),a[h]!=u.key&&(l=!1),u=u.parent;return!e&&l&&c||e&&!l&&c?n:e}var se={key:"@missing",animate:U,applyValue:U,get:U,getKeypath:function(){return this.key},joinAll:function(){return this},joinKey:function(){return this},mark:U,registerLink:U,shufle:U,set:U,unregisterLink:U};se.parent=se;var ae=function(t){function e(e,n,i,r){t.call(this,e),this.owner=n,this.target=i,this.key=M(r)?n.key:r,n&&n.isLink&&(this.sourcePath=n.sourcePath+"."+this.key),i&&i.registerLink(this),e&&(this.isReadonly=e.isReadonly),this.isLink=!0}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.animate=function(t,e,n,i){return this.target.animate(t,e,n,i)},n.applyValue=function(t){this.boundValue&&(this.boundValue=null),this.target.applyValue(t)},n.attach=function(t){var e=Zr(t,this.key);e?this.relinking(e,!1):this.owner.unlink()},n.detach=function(){this.relinking(se,!1)},n.get=function(t,e){void 0===e&&(e={}),t&&(Ft(this),e.unwrap=!("unwrap"in e)||e.unwrap);var n=!("shouldBind"in e)||e.shouldBind;return e.shouldBind=this.mapping&&this.target.parent&&this.target.parent.isRoot,Nt(this,this.target.get(!1,e),n)},n.getKeypath=function(e){return e&&e!==this.root.ractive?this.target.getKeypath(e):t.prototype.getKeypath.call(this,e)},n.handleChange=function(){this.deps.forEach(Wt),this.links.forEach(Wt),this.notifyUpstream()},n.isDetached=function(){return this.virtual&&this.target===se},n.joinKey=function(t){if(M(t)||""===t)return this;if(!a(this.childByKey,t)){var n=new e(this,this,this.target.joinKey(t),t);this.children.push(n),this.childByKey[t]=n}return this.childByKey[t]},n.mark=function(t){this.target.mark(t)},n.marked=function(){this.boundValue&&(this.boundValue=null),this.links.forEach($t),this.deps.forEach(Wt)},n.markedAll=function(){this.children.forEach(Zt),this.marked()},n.notifiedUpstream=function(t,e){var n=this;if(this.links.forEach((function(e){return e.notifiedUpstream(t,n.root)})),this.deps.forEach(Wt),t&&this.rootLink){var i=this.parent;if(this.root!==e){var r=t.slice(1);r.unshift(this.key),this.notifyUpstream(r)}else if(i&&i!==this.target){var s=[i.key,this.key];i.links.forEach((function(t){return t.notifiedUpstream(s,i.root)})),i.deps.forEach((function(t){return t.handleChange(s)})),i.notifyUpstream(s)}}},n.relinked=function(){this.target.registerLink(this),this.children.forEach((function(t){return t.relinked()}))},n.relinking=function(t,e){var n=this;this.rootLink&&this.sourcePath&&(t=re(this.sourcePath,t,this.target)),t&&this.target!==t&&(this.target&&this.target.unregisterLink(this),this.target=t,this.children.forEach((function(n){n.relinking(t.joinKey(n.key),e)})),e||(this.keypath=void 0),this.rootLink&&this.addShuffleTask((function(){n.relinked(),e||(n.markedAll(),n.notifyUpstream())})))},n.set=function(t){this.boundValue&&(this.boundValue=null),this.target.set(t)},n.shuffle=function(t){this.shuffling||(this.target.shuffling?Rt(this,t,!0):this.target.shuffle?this.target.shuffle(t):this.target.mark())},n.source=function(){return this.target.source?this.target.source():this.target},n.teardown=function(){this._link&&this._link.teardown(),this.target.unregisterLink(this),this.children.forEach(Qt)},e}(Dt);function oe(t,e){void 0===e&&(e=0);for(var n=new Array(e);e--;)n[e]="_"+e;return new Function([],"return function ("+n.join(",")+"){return("+t+");};")()}Dt.prototype.link=function(t,e,n){var i=this._link||new ae(this.parent,this,t,this.key);return i.implicit=n&&n.implicit,i.mapping=n&&n.mapping,i.sourcePath=e,i.rootLink=!0,this._link&&this._link.relinking(t,!1),this._link=i,this.rebind(i,this,!1),Bt(),i.markedAll(),this.notifyUpstream(),i},Dt.prototype.unlink=function(){if(this._link){var t=this._link;this._link=void 0,t.rebind(this,t,!1),Bt(),t.teardown(),this.notifyUpstream()}};var ue=l(null);function he(t,e){return ue[t]?ue[t]:ue[t]=(n=t,i=e,kr(oe,"new expression function",_r),oe(n,i));var n,i}function le(t){if(t){var e=t.e;e&&f(e).forEach((function(t){ue[t]||(ue[t]=e[t])}))}}var ce=/^\s+/,de=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(t){this.stack=t.stack}};de.prototype=Error.prototype;var fe=function(t,e){var n,i=0;this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map((function(t){var e=i+t.length+1;return i=e,e}),0),this.init&&this.init(t,e);for(var r=[];this.pos<this.str.length&&(n=this.read());)r.push(n);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(r,e):r};fe.prototype={read:function(t){var e,n;t||(t=this.converters);var i=this.pos,r=t.length;for(e=0;e<r;e+=1)if(this.pos=i,n=t[e](this))return n;return null},getContextMessage:function(t,e){var n=this.getLinePos(t),i=n[0],r=n[1];if(-1===this.options.contextLines)return[i,r,e+" at line "+i+" character "+r];var s=this.lines[i-1],a="",o="";if(this.options.contextLines){var u=i-1-this.options.contextLines<0?0:i-1-this.options.contextLines;(a=this.lines.slice(u,i-1-u).join("\n").replace(/\t/g,"  "))&&(a+="\n"),(o=this.lines.slice(i,i+this.options.contextLines).join("\n").replace(/\t/g,"  "))&&(o="\n"+o)}var h=0,l=a+s.replace(/\t/g,(function(t,e){return e<r&&(h+=1),"  "}))+"\n"+new Array(r+h).join(" ")+"^----"+o;return[i,r,e+" at line "+i+" character "+r+":\n"+l]},getLinePos:function(t){for(var e=0,n=0;t>=this.lineEnds[e];)n=this.lineEnds[e],e+=1;return[e+1,t-n+1,t]},error:function(t){var e=this.getContextMessage(this.pos,t),n=e[0],i=e[1],r=e[2],s=new de(r);throw s.line=n,s.character=i,s.shortMessage=t,s},matchString:function(t){if(this.str.substr(this.pos,t.length)===t)return this.pos+=t.length,t},matchPattern:function(t){var e;if(e=t.exec(this.remaining()))return this.pos+=e[0].length,e[1]||e[0]},sp:function(){this.matchPattern(ce)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)},warn:function(t){tt(this.getContextMessage(this.pos,t)[2])}},fe.extend=function(t){var e=function(t,e){fe.call(this,t,e)};for(var n in e.prototype=l(this.prototype),t)a(t,n)&&(e.prototype[n]=t[n]);return e.extend=fe.extend,e};var pe=2,me=4,ve=5,ge=7,ye=8,be=11,_e=13,we=15,ke=16,xe=20,Se=21,Me=22,Ee=23,Ce=24,Ae=25,Oe=26,De=27,Te=30,Ne=31,Pe=32,Be=33,Re=34,je=35,Ye=36,Ve=40,Ie=50,Le=51,Fe=52,He=53,ze=62,Ue=70,We=71,Ke=72,Ge=73,$e=/^[^\s=]+/,Ze=/^\s+/,qe=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/;function Je(t){var e;return(e=t.matchPattern(qe))?{t:Ae,v:e}:null}var Qe=/[-/\\^$*+?.()|[\]{}]/g;function Xe(t){return t.replace(Qe,"\\$&")}var tn={};function en(t,e){return t.search(tn[e.join()]||(tn[e.join()]=new RegExp(e.map(Xe).join("|"))))}var nn={allowfullscreen:1,async:1,autofocus:1,autoplay:1,checked:1,compact:1,controls:1,declare:1,default:1,defaultchecked:1,defaultmuted:1,defaultselected:1,defer:1,disabled:1,enabled:1,formnovalidate:1,hidden:1,indeterminate:1,inert:1,ismap:1,itemscope:1,loop:1,multiple:1,muted:1,nohref:1,noresize:1,noshade:1,novalidate:1,nowrap:1,open:1,pauseonexit:1,readonly:1,required:1,reversed:1,scoped:1,seamless:1,selected:1,sortable:1,translate:1,truespeed:1,typemustmatch:1,visible:1},rn={area:1,base:1,br:1,col:1,command:1,doctype:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},sn={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},an=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],on=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+f(sn).join("|")+"));?","g"),un=k(String.fromCodePoint),hn=un?String.fromCodePoint:String.fromCharCode;function ln(t){return t.replace(on,(function(t,e){var n;return(n="#"!==e[0]?sn[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10))?hn(function(t){return t?10===t?32:t<128?t:t<=159?an[t-128]:t<55296?t:t<=57343?pn:t<=65535||un&&(t>=65536&&t<=131071||t>=131072&&t<=196607)?t:pn:pn}(n)):t}))}var cn=/</g,dn=/>/g,fn=/&/g,pn=65533;function mn(t){return t.replace(fn,"&amp;").replace(cn,"&lt;").replace(dn,"&gt;")}var vn="Expected a JavaScript expression",gn="Expected closing paren",yn=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;function bn(t){var e;return(e=t.matchPattern(yn))?{t:xe,v:e}:null}var _n=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,wn=/^\\(?:[`'"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,kn=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;function xn(t){return function(e){for(var n,i='"',r=!1;!r;)(n=e.matchPattern(_n)||e.matchPattern(wn)||e.matchString(t))?i+='"'===n?'\\"':"\\'"===n?"'":n:(n=e.matchPattern(kn))?i+="\\u"+("000"+n.charCodeAt(1).toString(16)).slice(-4):r=!0;return i+='"',JSON.parse(i)}}var Sn=xn('"'),Mn=xn("'");function En(t){var e=t.pos,n=t.matchString("'")||t.matchString('"');if(n){var i=("'"===n?Sn:Mn)(t);return t.matchString(n)?{t:Se,v:i}:(t.pos=e,null)}return null}var Cn=/^[^`"\\\$]+?(?:(?=[`"\\\$]))/,An=/[\r\n\t\b\f]/g;function On(t){return JSON.parse('"'+t.replace(An,Dn)+'"')}function Dn(t){switch(t){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f"}}var Tn=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Nn=/^\s*\.{3}/,Pn=/^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:\.(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,Bn=/^[a-zA-Z_$][-\/a-zA-Z_$0-9]*(?:\.(?:[a-zA-Z_$][-\/a-zA-Z_$0-9]*))*/,Rn=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function jn(t){var e;return(e=En(t))?Rn.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=bn(t))?e.v:(e=t.matchPattern(Tn))?e:null}function Yn(t){var e=t.pos,n=function(t){var e,n=t.pos;t.sp();var i="'"!==t.nextChar()&&'"'!==t.nextChar();i&&(e=t.matchPattern(Nn));var r=e?Qn(t):jn(t);if(null===r)return t.pos=n,null;if(t.sp(),i&&(","===t.nextChar()||"}"===t.nextChar())){e||Tn.test(r)||t.error("Expected a valid reference, but found '"+r+"' instead.");var s={t:De,k:r,v:{t:Te,n:r}};return e&&(s.p=!0),s}if(!t.matchString(":"))return t.pos=n,null;t.sp();var a=Qn(t);return null===a?(t.pos=n,null):{t:De,k:r,v:a}}(t);if(null===n)return null;var i=[n];if(t.matchString(",")){var r=Yn(t);return r?i.concat(r):(t.pos=e,null)}return i}function Vn(t){return bn(t)||function(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:Ce,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:Ce,v:"false"}):null}(t)||En(t)||function(t){if(!t.matchString("`"))return null;for(var e,n="",i=!1,r=[];!i;)if(e=t.matchPattern(Cn)||t.matchPattern(wn)||t.matchString("$")||t.matchString('"'))if('"'===e)n+='\\"';else if("\\`"===e)n+="`";else if("$"===e)if(t.matchString("{")){r.push({t:Se,v:On(n)}),n="",t.sp();var s=Qn(t);s||t.error("Expected valid expression"),r.push({t:Re,x:s}),t.sp(),t.matchString("}")||t.error("Expected closing '}' after interpolated expression")}else n+="$";else n+=e;else(e=t.matchPattern(kn))?n+="\\u"+("000"+e.charCodeAt(1).toString(16)).slice(-4):i=!0;if(n.length&&r.push({t:Se,v:On(n)}),t.matchString("`")||t.error("Expected closing '`'"),r.length){if(1===r.length)return r[0];for(var a,o=r.pop();a=r.pop();)o={t:Ye,s:"+",o:[a,o]};return{t:Re,x:o}}return{t:Se,v:""}}(t)||function(t){var e=t.pos;if(t.sp(),!t.matchString("{"))return t.pos=e,null;var n=Yn(t);return t.sp(),t.matchString("}")?{t:Ee,m:n}:(t.pos=e,null)}(t)||function(t){var e=t.pos;if(t.sp(),!t.matchString("["))return t.pos=e,null;var n=Xn(t,!0);return t.matchString("]")?{t:Me,m:n}:(t.pos=e,null)}(t)||Je(t)}var In,Ln=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null|Object|Number|String|Boolean)\b/,Fn=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/,Hn=/^(?:\@\.|\@|~\/|(?:\^\^\/(?:\^\^\/)*(?:\.\.\/)*)|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/,zn=/^(key|index|keypath|rootpath|this|global|shared|context|event|node|local|style|helpers|last|macro)/;function Un(t){var e,n,i,r,s,a=t.pos;n=!(e=t.matchPattern(Hn)||"")&&t.relaxedNames&&t.matchPattern(Bn)||t.matchPattern(Pn);var o=e.length+(n&&n.length||0);if("@."===e&&(e="@",n=n?"this."+n:"this"),!n&&e&&(n=e,e=""),!n)return null;if("@"===e)if(zn.test(n))if(n.indexOf("event")&&n.indexOf("node")||t.inEvent){if(!n.indexOf("context"))return t.pos=t.pos-(n.length-7),{t:Re,x:{t:Te,n:"@context"}}}else t.error("@event and @node are only valid references within an event directive");else t.error("Unrecognized special reference @"+n);if(!e&&!t.relaxedNames&&Fn.test(n))return t.pos=a,null;if(!e&&Ln.test(n))return i=Ln.exec(n)[0],t.pos=a+i.length,{t:Oe,v:i};if(r=(e||"")+ft(n),t.matchString("("))if(-1!==(s=r.lastIndexOf("."))&&"]"!==n[n.length-1])if(0===s)r=".",t.pos=a;else{var u=r.length;r=r.substr(0,s),t.pos=a+(o-(u-s))}else t.pos-=1;return{t:Te,n:r.replace(/^this\./,"./").replace(/^this$/,".")}}function Wn(t){if(t.strictRefinement||t.sp(),t.matchString(".")){t.sp();var e=t.matchPattern(Tn);if(e)return{t:Ne,n:e};t.error("Expected a property name")}if(t.matchString("[")){t.sp();var n=Qn(t);return n||t.error(vn),t.sp(),t.matchString("]")||t.error("Expected ']'"),{t:Ne,x:n}}return null}function Kn(t){var e=function(t){return Vn(t)||Un(t)||function(t){if(!t.matchString("("))return null;t.sp();var e=Qn(t);return e||t.error(vn),t.sp(),t.matchString(")")||t.error(gn),{t:Re,x:e}}(t)}(t);if(!e)return null;for(;e;){var n=Wn(t);if(n)e={t:Pe,x:e,r:n};else{if(!t.matchString("("))break;t.sp();var i=Xn(t,!0);t.sp(),t.matchString(")")||t.error(gn),e={t:Ve,x:e},i&&(e.o=i)}}return e}var Gn=function(t,e){return function(n){var i;return(i=e(n))?i:n.matchString(t)?(n.sp(),(i=Qn(n))||n.error(vn),{s:t,o:i,t:Be}):null}};!function(){var t,e,n,i="! ~ + - typeof".split(" ");for(n=Kn,t=0,e=i.length;t<e;t+=1)n=Gn(i[t],n);In=n}();var $n,Zn=In,qn=function(t,e){return function(n){if(n.inUnquotedAttribute&&(">"===t||"/"===t))return e(n);var i,r,s;if(!(r=e(n)))return null;for(;;){if(i=n.pos,n.sp(),!n.matchString(t))return n.pos=i,r;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=i,r;if(n.sp(),!(s=e(n)))return n.pos=i,r;r={t:Ye,s:t,o:[r,s]}}}};!function(){var t,e,n,i="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" ");for(n=Zn,t=0,e=i.length;t<e;t+=1)n=qn(i[t],n);$n=n}();var Jn=$n;function Qn(t){if(!1===t.allowExpressions){var e=Un(t);return t.sp(),e}return function(t){var e=Jn(t);if(!e)return null;var n=t.pos;if(t.sp(),!t.matchString("?"))return t.pos=n,e;t.sp();var i=Qn(t);i||t.error(vn),t.sp(),t.matchString(":")||t.error('Expected ":"'),t.sp();var r=Qn(t);return r||t.error(vn),{t:je,o:[e,i,r]}}(t)}function Xn(t,e){var n,i=[],r=t.pos;do{t.sp(),e&&(n=t.matchPattern(Nn));var s=Qn(t);if(null===s&&i.length)t.error(vn);else if(null===s)return t.pos=r,null;n&&(s.p=!0),i.push(s),t.sp()}while(t.matchString(","));return i}function ti(t,e){var n=t.pos,i=Qn(t);if(!i){var r=t.matchPattern(/^(\w+)/);return r?{t:Te,n:r}:null}for(var s=0;s<e.length;s+=1)if(t.remaining().substr(0,e[s].length)===e[s])return i;return t.pos=n,Un(t)}function ei(t){var e,n=0;ii(t,e=[]);var i=r(t);return{r:e,s:function(t){for(var e=[],i=n-1;i>=0;i--)e.push("x$"+i);return e.length?"(function(){var "+e.join(",")+";return("+t+");})()":t}(i)};function r(t){if(x(t))return t;switch(t.t){case Ce:case Oe:case xe:case Ae:return t.v;case Se:return JSON.stringify(String(t.v));case Me:return t.m&&ni(t.m)?"[].concat("+a(t.m,"[","]",r)+")":"["+(t.m?t.m.map(r).join(","):"")+"]";case Ee:return t.m&&ni(t.m)?"Object.assign({},"+a(t.m,"{","}",s)+")":"{"+(t.m?t.m.map((function(t){return t.k+":"+r(t.v)})).join(","):"")+"}";case Be:return("typeof"===t.s?"typeof ":t.s)+r(t.o);case Ye:return r(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+r(t.o[1]);case Ve:if(t.o&&ni(t.o)){var i=n++;return"(x$"+i+"="+r(t.x)+").apply(x$"+i+","+r({t:Me,m:t.o})+")"}return r(t.x)+"("+(t.o?t.o.map(r).join(","):"")+")";case Re:return"("+r(t.x)+")";case Pe:return r(t.x)+r(t.r);case Ne:return t.n?"."+t.n:"["+r(t.x)+"]";case je:return r(t.o[0])+"?"+r(t.o[1])+":"+r(t.o[2]);case Te:return"_"+e.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}function s(t){return t.p?r(t.k):t.k+":"+r(t.v)}function a(t,e,n,i){var r=t.reduce((function(t,r){return r.p?t.str+=(t.open?n+",":t.str.length?",":"")+i(r):t.str+=""+(t.str.length?t.open?",":","+e:e)+i(r),t.open=!r.p,t}),{open:!1,str:""});return r.open&&(r.str+=n),r.str}}function ni(t){for(var e=0;e<t.length;e++)if(t[e].p)return!0;return!1}function ii(t,e){t.t===Te&&x(t.n)&&(~e.indexOf(t.n)||e.unshift(t.n));var n=t.o||t.m;if(n)if(y(n))ii(n,e);else for(var i=n.length;i--;)ii(n[i],e);t.k&&t.t===De&&!x(t.k)&&ii(t.k,e),t.x&&ii(t.x,e),t.r&&ii(t.r,e),t.v&&ii(t.v,e)}function ri(t,e){var n;if(t){for(;t.t===Re&&t.x;)t=t.x;return t.t===Te?~t.n.indexOf("@context")?e.x=ei(t):e.r=t.n:(n=function(t){for(var e,n=[];t.t===Pe&&t.r.t===Ne;)(e=t.r).x?e.x.t===Te?n.unshift(e.x):n.unshift(ei(e.x)):n.unshift(e.n),t=t.x;return t.t!==Te?null:{r:t.n,m:n}}(t))?e.rx=n:e.x=ei(t),e}}var si=/^[^\s"'>\/=(]+/,ai=/^on/,oi=/^on-([a-zA-Z\*\.$_]((?:[a-zA-Z\*\.$_0-9\-]|\\-)+))$/,ui=/^(?:change|reset|teardown|update|construct|config|init|render|complete|unrender|detach|insert|destruct|attachchild|detachchild)$/,hi=/^as-([a-z-A-Z][-a-zA-Z_0-9]*)$/,li=/^([a-zA-Z](?:(?!-in-out)[-a-zA-Z_0-9])*)-(in|out|in-out)$/,ci=/^((bind|class)-(([-a-zA-Z0-9_])+))$/,di={lazy:{t:Ge,v:"l"},twoway:{t:Ge,v:"t"},"no-delegation":{t:74}},fi=/^[^\s"'=<>\/`]+/,pi=/^[^\s"'=<>@\[\]()]*/,mi=/^\s+/,vi=/\\/g;function gi(t){var e=t.pos;if(/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.sp(),!t.matchString("="))return t.pos=e,null;t.sp();var n=t.pos,i=t.sectionDepth,r=bi(t,"'")||bi(t,'"')||function(t){t.inAttribute=!0;for(var e=[],n=xi(t)||yi(t);n;)e.push(n),n=xi(t)||yi(t);return e.length?(t.inAttribute=!1,e):null}(t);return null===r&&t.error("Expected valid attribute value"),t.sectionDepth!==i&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),r.length?1===r.length&&x(r[0])?r[0]:r:""}function yi(t){var e,n,i=t.pos;return(e=t.matchPattern(fi))?(-1!==(n=en(e,t.tags.map((function(t){return t.open}))))&&(e=e.substr(0,n),t.pos=i+e.length),ln(e)):null}function bi(t,e){var n=t.pos;if(!t.matchString(e))return null;t.inAttribute=e;for(var i=[],r=xi(t)||_i(t,e);null!==r;)i.push(r),r=xi(t)||_i(t,e);return t.matchString(e)?(t.inAttribute=!1,i):(t.pos=n,null)}function _i(t,e){var n=t.remaining(),i=t.tags.map((function(t){return t.open}));i.push(e);var r=en(n,i);return-1===r&&t.error("Quoted attribute value must have a closing quote"),r?(t.pos+=r,ln(n.substr(0,r))):null}function wi(t,e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),t.sp(),t.matchString("=")){t.sp();var r=t.matchString('"')||t.matchString("'"),s=t.spreadArgs;t.spreadArgs=!0,t.inUnquotedAttribute=!r;var a=i?ti(t,[r||" ","/",">"]):{m:Xn(t),t:Me};if(t.inUnquotedAttribute=!1,t.spreadArgs=s,r&&(t.sp(),t.matchString(r)!==r&&t.error("Expected matching quote '"+r+"'")),i){var o={t:pe};ri(a,o),e.f=[o]}else e.f=ei(a)}else n&&t.error("Missing required directive arguments")}var ki={t:10,exclude:!0};function xi(t){var e,n;if(!1===t.interpolate[t.inside])return null;for(n=0;n<t.tags.length;n+=1)if(e=Si(t,t.tags[n]))return e;return t.inTag&&!t.inAttribute&&(e=function(t){var e,n,i=function(t){var e,n,i,r;if(t.sp(),!(e=t.matchPattern(si)))return null;for(i=e.length,n=0;n<t.tags.length;n++)~(r=e.indexOf(t.tags[n].open))&&r<i&&(i=r);return i<e.length&&(t.pos-=e.length-i,!(e=e.substr(0,i)))?null:{n:e}}(t);if(!i)return null;if(n=di[i.n])i.t=n.t,n.v&&(i.v=n.v),delete i.n,t.sp(),"="===t.nextChar()&&(i.f=gi(t));else if(e=hi.exec(i.n))i.n=e[1],i.t=We,wi(t,i);else if(e=li.exec(i.n))i.n=e[1],i.t=Ke,wi(t,i),i.v="in-out"===e[2]?"t0":"in"===e[2]?"t1":"t2";else if(e=oi.exec(i.n))i.n=function(t){for(var e=[],n=0,i=0;i<t.length;i++)"-"===t[i]&&"\\"!==t[i-1]&&(e.push(t.substring(n,i).replace(vi,"")),n=i+1);return e.push(t.substring(n).replace(vi,"")),e}(e[1]),i.t=Ue,t.matchString("(")&&(i.a=ei({t:Me,m:Xn(t)}),t.matchString(")")||t.error("Expected closing ')'")),t.inEvent=!0,function(t,e){var n=t.pos;t.matchString("=")||t.error("Missing required directive arguments");var i=t.matchString("'")||t.matchString('"');t.sp();var r=t.matchPattern(pi);if(void 0!==r)if(i){if(t.sp(),t.matchString(i))return(e.f=r)||!0;t.pos=n}else{if(t.matchPattern(mi))return(e.f=r)||!0;t.pos=n}else t.pos=n}(t,i)?ui.test(i.f)&&(t.pos-=i.f.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, complete, detach, insert, destruct, attachchild, detachchild)")):wi(t,i,!0),t.inEvent=!1;else if(e=ci.exec(i.n)){var r="bind"===e[2];i.n=r?e[3]:e[1],i.t=_e,wi(t,i,!1,!0),!i.f&&r&&(i.f=[{t:pe,r:e[3]}])}else{t.sp();var s="="===t.nextChar()?gi(t):null;if(i.f=null!=s?s:i.f,t.sanitizeEventAttributes&&ai.test(i.n))return{exclude:!0};i.f=i.f||(""===i.f?"":0),i.t=_e}return i}(t))?(t.sp(),e):void 0}function Si(t,e){var n,i,r=t.pos;if(t.matchString("\\"+e.open)){if(0===r||"\\"!==t.str[r-1])return e.open}else if(!t.matchString(e.open))return null;if(n=function(t){if(!t.matchString("="))return null;var e=t.pos;t.sp();var n=t.matchPattern($e);if(!n)return t.pos=e,null;if(!t.matchPattern(Ze))return null;var i=t.matchPattern($e);return i?(t.sp(),t.matchString("=")?[n,i]:(t.pos=e,null)):(t.pos=e,null)}(t))return t.matchString(e.close)?(e.open=n[0],e.close=n[1],t.sortMustacheTags(),ki):null;if(t.sp(),t.matchString("/")){t.pos-=1;var s=t.pos;if(Je(t))t.pos=s;else{if(t.pos=s-e.close.length,t.inAttribute)return t.pos=r,null;t.error("Attempted to close a section that wasn't open")}}for(i=0;i<e.readers.length;i+=1)if(n=(0,e.readers[i])(t,e))return e.isStatic&&(n.s=1),t.includeLinePositions&&(n.q=t.getLinePos(r)),n;return t.pos=r,null}var Mi=/^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,Ei=/^as/i;function Ci(t){var e,n=[],i=t.pos;if(t.sp(),e=Ai(t)){for(e.x=ri(e.x,{}),n.push(e),t.sp();t.matchString(",");)(e=Ai(t))||t.error("Expected another alias."),e.x=ri(e.x,{}),n.push(e),t.sp();return n}return t.pos=i,null}function Ai(t){var e=t.pos;t.sp();var n=Qn(t);if(!n)return t.pos=e,null;t.sp(),t.matchPattern(Ei),t.sp();var i=t.matchPattern(Mi);return i?{n:i,x:n}:(t.pos=e,null)}function Oi(t,e){var n=t.pos;if(!t.matchString(e.open))return null;if(t.sp(),!t.matchString("/"))return t.pos=n,null;t.sp();var i=t.remaining(),r=i.indexOf(e.close);if(-1!==r){var s={t:6,r:i.substr(0,r).split(" ")[0]};return t.pos+=r,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),s}return t.pos=n,null}var Di={else:/^\s*else\s*/,elseif:/^\s*elseif\s+/,then:/^\s*then\s*/,catch:/^\s*catch\s*/},Ti={else:60,elseif:61,then:ze,catch:63};function Ni(t,e,n){var i=t.pos;if(!t.matchString(e.open))return null;if(!t.matchPattern(Di[n]))return t.pos=i,null;var r={t:Ti[n]};if("elseif"===n)r.x=Qn(t);else if("catch"===n||"then"===n){var s=t.matchPattern(Tn);s&&(r.n=s)}return t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),r}var Pi={each:Fe,if:Ie,with:54,unless:Le},Bi=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Ri=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,ji=new RegExp("^("+f(Pi).join("|")+")\\b"),Yi=/^[ \t\f\r\n]*\r?\n/,Vi=/\r?\n[ \t\f\r\n]*$/;function Ii(t){return(t.t===me||t.t===ve)&&t.f}function Li(t,e,n){var i;e&&x(i=t[0])&&((i=i.replace(e,""))?t[0]=i:t.shift()),n&&x(i=bt(t))&&((i=i.replace(n,""))?t[t.length-1]=i:t.pop())}var Fi=/[ \t\f\r\n]+/g,Hi=/^[ \t\f\r\n]+/,zi=/[ \t\f\r\n]+$/,Ui=/^(?:\r\n|\r|\n)/,Wi=/(?:\r\n|\r|\n)$/,Ki=/(\n)?[ \t]*$/,Gi=/[ \t]*\n/;function $i(t,e,n,i,r,s,a){if(!x(t)){var o,u,h,l,c,d,f;for(function(t,e){var n,i,r,s,a,o;for(n=1;n<t.length;n+=1)i=t[n],r=t[n-1],s=t[n-2],x(i)&&(9===(o=r).t||10===o.t)&&x(s)&&Vi.test(s)&&Yi.test(i)&&(t[n-2]=s.replace(Vi,"\n"),t[n]=i.replace(Yi,"")),e||(Ii(i)&&x(r)&&Vi.test(r)&&x(i.f[0])&&Yi.test(i.f[0])&&(t[n-1]=r.replace(Vi,"\n"),i.f[0]=i.f[0].replace(Yi,"")),x(i)&&Ii(r)&&x(a=bt(r.f))&&Vi.test(a)&&Yi.test(i)&&(r.f[r.f.length-1]=a.replace(Vi,"\n"),t[n]=i.replace(Yi,"")))}(t,a),o=t.length;o--;)((u=t[o]).exclude||e&&9===u.t)&&t.splice(o,1);for(Li(t,i?Hi:null,r?zi:null),o=t.length;o--;){if(d=f=!1,(u=t[o]).w){var p=t[o-1],m=!0;if("string"==typeof p&&(t[o-1]=p.replace(Ki,"$1")),u.f){"string"==typeof u.f[0]&&(u.f[0]=u.f[0].replace(Gi,""));var v=u.f.length-1;"string"==typeof u.f[v]&&(u.f[v]=u.f[v].replace(Ki,(function(t,e){return m=e,e||""})))}var g=t[o+1];m&&"string"==typeof g&&(t[o+1]=g.replace(Gi,""))}if(u.f){var y=u.t===ge&&(s[u.e.toLowerCase()]||s[u.e]);c=n||y,!n&&y&&Li(u.f,Ui,Wi),c||(h=t[o-1],l=t[o+1],(!h||x(h)&&zi.test(h))&&(d=!0),(!l||x(l)&&Hi.test(l))&&(f=!0)),$i(u.f,e,c,d,f,s)}u.l&&(u.w&&u.l.forEach((function(t){return t.w=1})),$i(u.l,e,n,d,f,s),u.l.forEach((function(t){return t.l=1})),u.l.unshift(o+1,0),t.splice.apply(t,u.l),delete u.l),u.m&&($i(u.m,e,n,d,f,s),u.m.length<1&&delete u.m),delete u.w}for(o=t.length;o--;)x(t[o])&&(x(t[o+1])&&(t[o]=t[o]+t[o+1],t.splice(o+1,1)),n||(t[o]=t[o].replace(Fi," ")),""===t[o]&&t.splice(o,1))}}var Zi=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;function qi(t){var e,n=t.pos;return t.matchString("</")?(e=t.matchPattern(Zi))?t.inside&&e!==t.inside?(t.pos=n,null):{t:14,e}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Ji(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}var Qi=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Xi=/^[a-zA-Z_$][-a-zA-Z0-9_$]*/,tr=/^[\s\n\/>]/,er=/;\s*$/,nr={exclude:!0},ir={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};function rr(t,e){var n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),i=ir[t];return!n||!i||!~i.indexOf(n[1].toLowerCase())}function sr(t,e){var n=t.pos;return t.matchString("</")?(t.matchString("#"),t.sp(),t.matchString(e)?(t.sp(),!!t.matchString(">")||(t.pos=n,null)):(t.pos=n,null)):null}var ar=/^\s*(elseif|else|then|catch)\s*/;function or(t,e){var n=t.pos;if(t.matchString(e.open))return!!t.matchPattern(ar)||void(t.pos=n)}var ur=/^\s*#\s*partial\s+/;function hr(t,e){f(t).forEach((function(n){if(function(t,e){return"s"===t&&m(e.r)}(n,t))return function(t,e){var n=t.s,i=t.r;e[n]||(e[n]=oe(n,i.length))}(t,e);var i=t[n];(function(t){return m(t)||y(t)})(i)&&hr(i,e)}))}var lr={},cr=[function(t,e){var n,i=t.matchString(">")||t.matchString("yield"),r={t:">"===i?ye:ke};if(!i)return null;if(t.sp(),">"===i||!(n=t.matchString("with"))){t.relaxedNames=t.strictRefinement=!0;var s=Qn(t);if(t.relaxedNames=t.strictRefinement=!1,!s&&">"===i)return null;s&&(ri(s,r),t.sp(),">"!==i&&(n=t.matchString("with")))}if(t.sp(),n||">"===i){if((n=Ci(t))&&n.length)r.z=n;else{var a=Qn(t);a&&(r.c={},ri(a,r.c)),t.matchString(",")&&(n=Ci(t))&&n.length&&(r.z=n)}">"===i||r.c||r.z||t.error("Expected a context or one or more aliases")}return t.sp(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),r},function(t,e){if(!t.matchString("&"))return null;t.sp();var n=Qn(t);if(!n)return null;t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'");var i={t:3};return ri(n,i),i},function(t,e){var n,i,r,s,a,o,u,h,l,c,d,f,p,m,v=!1,g=t.pos;if(t.matchString("^")){if(t.matchString("^/"))return t.pos=g,null;i={t:me,f:[],n:Le}}else{if(!t.matchString("#"))return null;i={t:me,f:[]},t.matchString("partial")&&(t.pos=g-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(o=t.matchString("await"))?(c=o,i.t=55):(o=t.matchPattern(ji))&&(c=o,i.n=Pi[o])}if(t.sp(),"with"===o){var y=Ci(t);y&&(v=!0,i.z=y,i.t=19)}else if("each"===o){var b=Ai(t);b&&(i.z=[{n:b.n,x:{r:"."}}],n=b.x)}if(!v){if(n||(n=Qn(t)),n||t.error("Expected expression"),"each"===o&&t.matchString(",")){var _=Ci(t);_&&(i.z&&_.unshift(i.z[0]),i.z=_)}var w;"each"!==o&&o||!(l=t.matchPattern(Bi))?"await"===o&&t.matchString("then")&&(t.sp(),d=!0,(p=t.matchPattern(Tn))||(p=!0)):(w=t.matchPattern(Ri))?i.i=l+","+w:i.i=l,!o&&n.n&&(c=n.n)}t.sp(),t.matchString("-")&&(i.w=1),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,s=i.f;do{if(m=t.pos,r=Oi(t,e))c&&r.r!==c&&(o?(t.pos=m,t.error("Expected "+e.open+"/"+c+e.close)):r.r&&t.warn("Expected "+e.open+"/"+c+e.close+" but found "+e.open+"/"+r.r+e.close)),t.sectionDepth-=1,h=!0;else if(!v&&((r=Ni(t,e,"elseif"))||(r=Ni(t,e,"else"))||"await"===o&&((r=Ni(t,e,"then"))||(r=Ni(t,e,"catch"))))){if(i.n===Le&&t.error("{{else}} not allowed in {{#unless}}"),a&&(60===r.t?t.error("there can only be one {{else}} block, at the end of a section"):61===r.t&&t.error("illegal {{elseif...}} after {{else}}")),!u&&(p||!d)&&!f)if("await"===o){var k={f:s};i.f=[k],p?(k.t=ze,!0!==p&&(k.n=p)):k.t=me}else u=[];var x={t:me,f:s=[]};60===r.t?("await"===o?(i.f.push(x),x.t=60):(x.n=Le,u.push(x)),a=!0):61===r.t?(x.n=Ie,ri(r.x,x),u.push(x)):r.t===ze?(a&&t.error("{{then}} block must appear before any {{else}} block"),f&&t.error("{{then}} block must appear before any {{catch}} block"),d&&t.error("there can only be one {{then}} block per {{#await}}"),x.t=ze,d=!0,r.n&&(x.n=r.n),i.f.push(x)):63===r.t&&(a&&t.error("{{catch}} block must appear before any {{else}} block"),f&&t.error("there can only be one {{catch}} block per {{#await}}"),x.t=63,f=!0,x.n=r.n,i.f.push(x))}else{if(!(r=t.read(fr)))break;s.push(r)}}while(!h);if(u&&(i.l=u),v||ri(n,i),"await"===o&&(p||!d)&&!f&&!a){var S={f:i.f};i.f=[S],p?(S.t=ze,!0!==p&&(S.n=p)):S.t=me}return i.f.length||delete i.f,i},function(t,e){var n,i,r=t.pos;try{n=ti(t,[e.close])}catch(t){i=t}if(!n){if("!"===t.str.charAt(r))return t.pos=r,null;if(i)throw i}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!n)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}var s={t:pe};return ri(n,s),s},function(t,e){if(!t.matchString("!"))return null;var n=t.remaining().indexOf(e.close);return-1!==n?(t.pos+=n+e.close.length,{t:9}):void 0}],dr=[function(t,e){var n=Qn(t);if(!n)return null;t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'");var i={t:3};return ri(n,i),i}],fr=[xi,function(t){var e=t.pos;if(t.textOnlyMode||!t.matchString("\x3c!--"))return null;var n=t.remaining(),i=n.indexOf("--\x3e");-1===i&&t.error("Illegal HTML - expected closing comment sequence ('--\x3e')");var r=n.substr(0,i);t.pos+=i+3;var s={t:9,c:r};return t.includeLinePositions&&(s.q=t.getLinePos(e)),s},function(t){var e,n,i,r,s,a,o,u,h,c,d,f=t.pos;if(t.inside||t.inAttribute||t.textOnlyMode)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;var p={};if(t.includeLinePositions&&(p.q=t.getLinePos(f)),t.matchString("!"))return p.t=18,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),p.a=t.matchPattern(/^(.+?)>/),p;if(d=t.matchString("#"))t.sp(),p.t=be,p.n=t.matchPattern(Xi);else if(p.t=ge,p.e=t.matchPattern(Qi),!p.e)return null;for(tr.test(t.nextChar())||t.error("Illegal tag name"),t.sp(),t.inTag=!0;e=xi(t);)!1!==e&&(p.m||(p.m=[]),p.m.push(e)),t.sp();if(t.inTag=!1,t.sp(),t.matchString("/")&&(n=!0),!t.matchString(">"))return null;var m=(p.e||p.n).toLowerCase(),v=t.preserveWhitespace;if(!n&&(d||!rn[p.e.toLowerCase()])){d||(t.elementStack.push(m),m in t.interpolate&&(t.inside=m)),i=[],r=l(null);do{if(u=t.pos,!(h=t.remaining())){if("script"===t.inside){o=!0;break}t.error("Missing end "+(t.elementStack.length>1?"tags":"tag")+" ("+t.elementStack.reverse().map((function(t){return"</"+t+">"})).join("")+")")}if(d||rr(m,h))if(!d&&(c=qi(t))){o=!0;var g=c.e.toLowerCase();if(g!==m&&(t.pos=u,!~t.elementStack.indexOf(g))){var y="Unexpected closing tag";rn[g.toLowerCase()]&&(y+=" (<"+g+"> is a void element - it cannot contain children)"),t.error(y)}}else if(d&&sr(t,p.n))o=!0;else{var b={open:t.standardDelimiters[0],close:t.standardDelimiters[1]};Oi(t,b)||or(t,b)?(o=!0,t.pos=u):(a=t.read(pr))?(r[a.n]&&(t.pos=u,t.error("Duplicate partial definition")),$i(a.f,t.stripComments,v,!v,!v,t.whiteSpaceElements),r[a.n]=a.f,s=!0):(a=t.read(fr))?i.push(a):o=!0}else o=!0}while(!o);i.length&&(p.f=i),s&&(p.p=r),t.elementStack.pop()}if(t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(m))return nr;if(p.m&&"input"!==m&&"select"!==m&&"textarea"!==m&&"option"!==m){for(var _,w,k,S,M,E=p.m,C=0;C<E.length;)(M=E[C]).t===_e?0!==M.n.indexOf("class-")||M.f?0===M.n.indexOf("style-")&&x(M.f)?((w||(w=[])).push(Ji(M.n.slice(6))+": "+M.f+";"),E.splice(C,1)):"class"===M.n&&x(M.f)?((_||(_=[])).push(M.f),E.splice(C,1)):"style"===M.n&&x(M.f)?((w||(w=[])).push(M.f+(er.test(M.f)?"":";")),E.splice(C,1)):"class"===M.n?(k=M,C++):"style"===M.n?(S=M,C++):!~M.n.indexOf(":")&&"value"!==M.n&&"contenteditable"!==M.n&&x(M.f)?(M.g=1,C++):C++:((_||(_=[])).push(M.n.slice(6)),E.splice(C,1)):C++;_?k&&x(k.f)?k.f+=" "+_.join(" "):E.unshift({t:_e,n:"class",f:_.join(" "),g:1}):k&&x(k.f)&&(k.g=1),w?S&&x(S.f)?S.f+="; "+w.join(" "):E.unshift({t:_e,n:"style",f:w.join(" "),g:1}):S&&x(S.f)&&(S.g=1)}return p},function(t){var e,n,i,r=t.remaining();return t.textOnlyMode?e=en(r,n=(n=t.tags.map((function(t){return t.open}))).concat(t.tags.map((function(t){return"\\"+t.open})))):(i=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=r.indexOf(i):(n=(n=t.tags.map((function(t){return t.open}))).concat(t.tags.map((function(t){return"\\"+t.open}))),!0===t.inAttribute?n.push('"',"'","=","<",">","`"):t.inAttribute?n.push(t.inAttribute):n.push(i),e=en(r,n))),e?(-1===e&&(e=r.length),t.pos+=e,t.inside&&"textarea"!==t.inside||t.textOnlyMode?r.substr(0,e):ln(r.substr(0,e))):null}],pr=[function(t){var e,n,i=t.pos,r=t.standardDelimiters;if(!t.matchString(r[0]))return null;if(!t.matchPattern(ur))return t.pos=i,null;var s=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-\/]*/);s||t.error("expected legal partial name"),t.sp(),t.matchString(r[1])||t.error("Expected closing delimiter '"+r[1]+"'");var a=[],o=r[0],u=r[1];do{(e=Oi(t,{open:o,close:u}))?("partial"!==e.r&&t.error("Expected "+o+"/partial"+u),n=!0):((e=t.read(fr))||t.error("Expected "+o+"/partial"+u),a.push(e))}while(!n);return{t:17,n:s,f:a}}],mr={pre:1,script:1,style:1,textarea:1},vr={textarea:!0,script:!0,style:!0,template:!0},gr=fe.extend({init:function(t,e){var n=e.tripleDelimiters||lr.defaults.tripleDelimiters,i=e.staticDelimiters||lr.defaults.staticDelimiters,r=e.staticTripleDelimiters||lr.defaults.staticTripleDelimiters;this.standardDelimiters=e.delimiters||lr.defaults.delimiters,this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:cr},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:dr},{isStatic:!0,isTriple:!1,open:i[0],close:i[1],readers:cr},{isStatic:!0,isTriple:!0,open:r[0],close:r[1],readers:dr}],this.contextLines=e.contextLines||lr.defaults.contextLines,this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate=h({},vr,lr.defaults.interpolate,e.interpolate),!0===e.sanitize&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=!1!==e.stripComments,this.preserveWhitespace=!w(e.preserveWhitespace)&&e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions,this.textOnlyMode=e.textOnlyMode,this.csp=e.csp,this.allowExpressions=e.allowExpressions,this.preserveStandaloneSections=this.preserveWhitespace&&e.preserveStandaloneSections,e.expression&&(this.converters=[Qn]),e.attributes&&(this.inTag=!0),this.whiteSpaceElements=h({},e.preserveWhitespace,mr)},postProcess:function(t,e){var n=t[0];if(e.expression){var i=ei(n);return i.e=oe(i.s,i.r.length),i}if(!t.length)return{t:[],v:4};if(this.sectionDepth>0&&this.error("A section was left open"),$i(n.t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace,this.whiteSpaceElements,this.preserveStandaloneSections),!1!==this.csp){var r={};hr(n.t,r),hr(n.p||{},r),f(r).length&&(n.e=r)}return n},converters:[function(t){for(var e=[],n=l(null),i=!1,r=t.preserveWhitespace;t.pos<t.str.length;){var s,a=t.pos,o=void 0;(s=t.read(pr))?(n[s.n]&&(t.pos=a,t.error("Duplicated partial definition")),$i(s.f,t.stripComments,r,!r,!r,t.whiteSpaceElements),n[s.n]=s.f,i=!0):(o=t.read(fr))?e.push(o):t.error("Unexpected template content")}var u={v:4,t:e};return i&&(u.p=n),u}],sortMustacheTags:function(){this.tags.sort((function(t,e){return e.open.length-t.open.length}))}});function yr(t,e){return new gr(t,e||{}).result}var br=["delimiters","tripleDelimiters","staticDelimiters","staticTripleDelimiters","csp","interpolate","preserveWhitespace","preserveStandaloneSections","sanitize","stripComments","contextLines","allowExpressions","attributes"],_r="Either preparse or use a ractive runtime source that includes the parser. ",wr="Either include a version of Ractive that can parse or convert your computation strings to functions.";function kr(t,e,n){t||J("Missing Ractive.parse - cannot parse "+e+". "+n)}function xr(t,e){kr(yr,'compution string "${str}"',wr);var n=yr(t,{expression:!0});return function(){return n.e.apply(e,n.r.map((function(t){return e.get(t)})))}}var Sr={fromId:function(t,e){if(!A){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}var n;if(t&&(t=t.replace(/^#/,"")),!(n=A.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML},isParsed:function(t){return!x(t)},getParseOptions:function(t){return t.defaults&&(t=t.defaults),br.reduce((function(e,n){return e[n]=t[n],e}),{})},parse:function(t,e){kr(yr,"template",_r);var n=yr(t,e);return le(n),n},parseFor:function(t,e){return this.parse(t,this.getParseOptions(e))}};function Mr(t,e,n){var i,r,s,a,o;return k(n)&&(i=Et(n,t),s=n.toString(),a=!0),x(n)&&(i=xr(n,t),s=n),w(n)&&(x(n.get)?(i=xr(n.get,t),s=n.get):k(n.get)?(i=Et(n.get,t),s=n.get.toString(),a=!0):J("`%s` computation must have a `get()` method",e),k(n.set)&&(r=Et(n.set,t),o=n.set.toString())),{getter:i,setter:r,getterString:s,setterString:o,getterUseStack:a}}var Er,Cr=0,Ar=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.outrosComplete=!1,this.id=Cr++,e&&e.addChild(this)},Or=Ar.prototype;function Dr(t){!t.started||t.outros.length||t.outroChildren||(t.outrosComplete||(t.outrosComplete=!0,t.parent&&t.parent.decrementOutros(t),Tr(t)&&t.detachNodes()),t.intros.length||t.totalChildren||(k(t.callback)&&t.callback(),t.parent&&!t.notifiedTotal&&(t.notifiedTotal=!0,t.parent.decrementTotal())))}function Tr(t){return!t||t.outrosComplete&&Tr(t.parent)}function Nr(t,e){var n=e;if(n){for(var i=t.children.length;i--;)n=Nr(t.children[i],n);return t.outros.length&&(n=n.concat(t.outros)),n}n=[];for(var r=t;r.parent;)r=r.parent;return Nr(r,n)}Or.add=function(t){var e=t.isIntro?this.intros:this.outros;t.starting=!0,e.push(t)},Or.addChild=function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},Or.checkStart=function(){this.parent&&this.parent.started&&this.start()},Or.decrementOutros=function(){this.outroChildren-=1,Dr(this)},Or.decrementTotal=function(){this.totalChildren-=1,Dr(this)},Or.detachNodes=function(){for(var t=this.detachQueue.length,e=0;e<t;e++)this.detachQueue[e].detach();t=this.children.length;for(var n=0;n<t;n++)this.children[n].detachNodes();this.detachQueue=[]},Or.ready=function(){this.detachQueue.length&&function(t){var e=t.detachQueue,n=Nr(t);if(n.length){var i,r,s=e.length,a=0,o=t.detachQueue=[];t:for(;s--;){for(i=e[s].node,a=n.length;a--;)if((r=n[a].element.node)===i||r.contains(i)||i.contains(r)){o.push(e[s]);continue t}e[s].detach()}}else t.detachNodes()}(this)},Or.remove=function(t){_t(t.isIntro?this.intros:this.outros,t),Dr(this)},Or.start=function(){this.started=!0,this.children.forEach((function(t){return t.start()})),this.intros.concat(this.outros).forEach((function(t){return t.start()})),Dr(this)};var Pr={active:function(){return!!Er},start:function(){var t,e=new Promise((function(e){return t=e}));return Er={previousBatch:Er,transitionManager:new Ar(t,Er&&Er.transitionManager),fragments:[],tasks:[],immediateObservers:[],deferredObservers:[],promise:e},e},end:function(){Rr(),Er.previousBatch?Er.transitionManager.checkStart():Er.transitionManager.start(),Er=Er.previousBatch},addFragment:function(t){vt(Er.fragments,t)},addFragmentToRoot:function(t){if(Er){for(var e=Er;e.previousBatch;)e=e.previousBatch;vt(e.fragments,t)}},addObserver:function(t,e){Er?vt(e?Er.deferredObservers:Er.immediateObservers,t):t.dispatch()},registerTransition:function(t){t._manager=Er.transitionManager,Er.transitionManager.add(t)},detachWhenReady:function(t){Er.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(Er){for(n=Er;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()},promise:function(){if(!Er)return Promise.resolve();for(var t=Er;t.previousBatch;)t=t.previousBatch;return t.promise||Promise.resolve()}};function Br(t){t.dispatch()}function Rr(){var t=Er.immediateObservers;Er.immediateObservers=[],t.forEach(Br);var e=Er.fragments.length;for(t=Er.fragments,Er.fragments=[];e--;)t[e].update();Er.transitionManager.ready(),t=Er.deferredObservers,Er.deferredObservers=[],t.forEach(Br);var n=Er.tasks;for(Er.tasks=[],e=0;e<n.length;e+=1)n[e]();if(Er.fragments.length||Er.immediateObservers.length||Er.deferredObservers.length||Er.tasks.length)return Rr()}var jr=[],Yr=!1;function Vr(){Pr.start();var t,e=performance.now();for(t=0;t<jr.length;t+=1)jr[t].tick(e)||jr.splice(t--,1);Pr.end(),jr.length?requestAnimationFrame(Vr):Yr=!1}var Ir=function(t){this.duration=t.duration,this.step=t.step,this.complete=t.complete,this.easing=t.easing,this.start=performance.now(),this.end=this.start+this.duration,this.running=!0,jr.push(this),Yr||requestAnimationFrame(Vr)},Lr=Ir.prototype;Lr.tick=function(t){if(!this.running)return!1;if(t>this.end)return this.step&&this.step(1),this.complete&&this.complete(1),!1;var e=t-this.start,n=this.easing(e/this.duration);return this.step&&this.step(n),!0},Lr.stop=function(){this.abort&&this.abort(),this.running=!1};var Fr={};function Hr(t){var e;return Fr[t]||(e=t?t+".":"",Fr[t]=function(n,i){var r;return x(n)?((r={})[e+n]=i,r):w(n)?e?function(t,e){var n={};if(!e)return t;for(var i in e+=".",t)a(t,i)&&(n[e+i]=t[i]);return n}(n,t):n:void 0}),Fr[t]}var zr={},Ur=function(t){function e(e,n){t.call(this,e),this.ticker=null,e&&(this.key=mt(n),this.isReadonly=e.isReadonly,e.value&&(this.value=e.value[this.key],m(this.value)&&(this.length=this.value.length),this.adapt()))}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.adapt=function(){var t=this,e=this.root.adaptors,n=e.length;if(this.rewrap=!1,0!==n){var i,r=this.wrapper?"newWrapperValue"in this?this.newWrapperValue:this.wrapperValue:this.value,s=this.root.ractive,a=this.getKeypath();if(this.wrapper){if(this.wrapperValue===r||this.wrapper.reset&&!1!==this.wrapper.reset(r))return delete this.newWrapperValue,void(this.value=this.wrapper.get());if(this.wrapper.teardown(),delete this.wrapper,delete this.wrapperValue,delete this.newWrapperValue,void 0!==this.value){var o=this.parent.value||this.parent.createBranch(this.key);o[this.key]!==r&&(o[this.key]=r),this.value=r}}for(i=0;i<n;i+=1){var u=e[i];if(u.filter(r,a,s)){t.wrapper=u.wrap(s,r,a,Hr(a)),t.wrapperValue=r,t.wrapper.__model=t,t.value=t.wrapper.get();break}}}},n.animate=function(t,e,n,i){var r,s=this;this.ticker&&this.ticker.stop();var a=new Promise((function(t){return r=t}));return this.ticker=new Ir({duration:n.duration,easing:n.easing,step:function(t){var e=i(t);s.applyValue(e),n.step&&n.step(t,e)},complete:function(){s.applyValue(e),n.complete&&n.complete(e),s.ticker=null,r(e)}}),a.stop=this.ticker.stop,a},n.applyValue=function(t,e){if(void 0===e&&(e=!0),!v(t,this.value)){if(this.boundValue&&(this.boundValue=null),this.parent.wrapper&&this.parent.wrapper.set)this.parent.wrapper.set(this.key,t),this.parent.value=this.parent.wrapper.get(),this.value=this.parent.value[this.key],this.wrapper&&(this.newWrapperValue=this.value),this.adapt();else if(this.wrapper)this.newWrapperValue=t,this.adapt();else{var n=this.parent.value||this.parent.createBranch(this.key);if(!b(n))return void tt("Attempted to set a property of a non-object '"+this.getKeypath()+"'");n[this.key]=t,this.value=t,this.adapt()}(this.dataModel||t&&t.viewmodel&&t.viewmodel.isRoot)&&jt(this,t),m(t)?(this.length=t.length,this.isArray=!0):this.isArray=!1,this.links.forEach(Wt),this.children.forEach(Kt),this.deps.forEach(Wt),e&&this.notifyUpstream(),this.parent.isArray&&("length"===this.key?this.parent.length=t:this.parent.joinKey("length").mark())}},n.compute=function(t,e){var n=this.computed||(this.computed={});return n[t]?(n[t].signature=Mr(this.root.ractive,t,e),n[t].mark()):n[t]=new zr.Computation(this,Mr(this.root.ractive,t,e),t),n[t]},n.createBranch=function(t){var e=g(t)?[]:{};return this.applyValue(e,!1),e},n.get=function(t,e){return this._link?this._link.get(t,e):(t&&Ft(this),e&&e.virtual?this.getVirtual(!1):Nt(this,(e&&"unwrap"in e?!1!==e.unwrap:t)&&this.wrapper?this.wrapperValue:this.value,!e||!1!==e.shouldBind))},n.joinKey=function(t,n){var i,r;if(this._link)return n&&!1!==n.lastLink&&(M(t)||""===t)?this:this._link.joinKey(t);if(M(t)||""===t)return this;if(!(i=a(this.childByKey,t)?this.childByKey[t]:this.computed&&this.computed[t]))if(this.isRoot&&this.ractive&&(r=this.ractive.computed[t]))i=this.compute(t,r);else if(!this.isRoot&&this.root.ractive){var s=this.root.ractive.computed;for(var o in s)(r=s[o]).pattern&&r.pattern.test(this.getKeypath()+"."+t)&&(i=this.compute(t,r))}if(!i&&(i=new e(this,t),this.children.push(i),this.childByKey[t]=i,"data"===t)){var u=this.retrieve();if(u&&u.viewmodel&&u.viewmodel.isRoot){var h=Pr.active();h||Pr.start(),i.link(u.viewmodel,"data"),this.dataModel=u,h||Pr.end()}}return!i._link||n&&!1===n.lastLink?i:i._link},n.mark=function(t){if(this._link)return this._link.mark(t);var e=this.value,n=this.retrieve();(this.dataModel||n&&n.viewmodel&&n.viewmodel.isRoot)&&jt(this,n),!t&&v(n,e)||(this.value=n,this.boundValue&&(this.boundValue=null),(e!==n||this.rewrap)&&(this.wrapper&&(this.newWrapperValue=n),this.adapt()),m(n)?(this.length=n.length,this.isArray=!0):this.isArray=!1,this.children.forEach(t?Gt:Kt),this.links.forEach($t),this.deps.forEach(Wt))},n.merge=function(t,e){var n=St(this.value===t?function(t){for(var e=[],n=0;n<t.length;n++)e[n]=(t.childByKey[n]||{}).value;return e}(this):this.value,t,e);this.parent.value[this.key]=t,this.shuffle(n,!0)},n.retrieve=function(){return this.parent.value?this.parent.value[this.key]:void 0},n.set=function(t){this.ticker&&this.ticker.stop(),this.applyValue(t)},n.shuffle=function(t,e){Rt(this,t,!1,e)},n.source=function(){return this},n.teardown=function(){var t=this;this._link&&(this._link.teardown(),this._link=null),this.children.forEach(Qt),this.wrapper&&this.wrapper.teardown(),this.computed&&f(this.computed).forEach((function(e){return t.computed[e].teardown()}))},e}(Dt),Wr={},Kr=function(t){function e(e,n,i){t.call(this,null,"@"+n),this.key="@"+n,this.value=e,this.isRoot=!0,this.root=this,this.adaptors=[],this.ractive=i}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.getKeypath=function(){return this.key},n.retrieve=function(){return this.value},e}(Ur),Gr=new Kr(Wr,"shared"),$r=new Kr(D,"global");function Zr(t,e){var n=t;if("."===e)return t.findContext();if("~"===e[0])return t.ractive.viewmodel.joinAll(pt(e.slice(2)));if("."===e[0]||"^"===e[0]){for(var i=t,r=e.split("/"),s="^^"===r[0];i&&!i.context;)i=qr(i);for(var o=i&&i.context;i&&"^^"===r[0];){for(r.shift(),i=i.isIteration?i.parent.parent:qr(i);i&&!i.context;)i=qr(i);o=i&&i.context}if(!o&&s)throw new Error("Invalid context parent reference ('"+e+"'). There is not context at that level.");for(;"."===r[0]||".."===r[0];)".."===r.shift()&&(o=!o.parent&&o.proxy&&o.target?o.target.parent:o.parent);return"."===(e=r.join("/"))[0]&&(e=e.slice(1)),o.joinAll(pt(e))}var u=pt(e);if(u.length){var h=u.shift();if("@"===h[0]){if("@this"===h||"@"===h)return t.ractive.viewmodel.getRactiveModel().joinAll(u);if("@index"===h||"@key"===h){u.length&&Qr(h);var l=Jr(t);return l&&l["get"+("i"===h[1]?"Index":"Key")]()}if("@last"===h){var c=Jr(t);return c&&c.parent.getLast()}if("@global"===h)return $r.joinAll(u);if("@shared"===h)return Gr.joinAll(u);if("@keypath"===h||"@rootpath"===h){for(var d="r"===e[1]?t.ractive.root:null,f=t;f&&(!f.context||f.isRoot&&f.ractive.component&&(d||!f.ractive.isolated));)f=f.isRoot?f.componentParent:f.parent;return f.getKeypath(d)}if("@context"===h)return new Kr(t.getContext(),"context").joinAll(u);if("@local"===h)return t.getContext()._data.joinAll(u);if("@style"===h)return t.ractive.constructor._cssModel.joinAll(u);if("@helpers"===h)return t.ractive.viewmodel.getHelpers().joinAll(u);if("@macro"===h){var p=function(t){for(var e=t;e;){if(e.owner.handle)return e.owner.handle;e=qr(e)}}(t);return p?new Kr(p,"macro").joinAll(u):void 0}throw new Error("Invalid special reference '"+h+"'")}if(h&&!u.length){var m=t.ractive.viewmodel.getHelpers();if(m.has(h))return m.joinKey(h)}var v=function(t){for(var e=t;e&&!e.context&&!e.aliases;)e=e.parent;return e}(t);v=v&&v.context?v.context:t.findContext();for(var g,y=!1,b=t.ractive.warnAboutAmbiguity,_=0;t;){if(t.isIteration&&(h===t.parent.keyRef?g=t.getKey():h===t.parent.indexRef&&(g=t.getIndex()),g&&u.length&&Qr(h)),!g&&t.aliases&&a(t.aliases,h)&&(g=t.aliases[h]),!g&&t.context&&t.context.has(h)&&(g=t.context.joinKey(h),y?b&&tt("'"+e+"' resolved but is ambiguous and will create a mapping to a parent component."):b&&_&&tt("'"+e+"' resolved but is ambiguous.")),g)return y&&(g=n.ractive.viewmodel.createLink(h,g,h,{implicit:!0})),u.length>0&&k(g.joinAll)&&(g=g.joinAll(u)),g;t.context&&!t.aliases&&(_=1),t.ractive.isolated||t.owner&&t.owner.containerFragment||!(t.componentParent||!t.parent&&t.ractive.component)?t=t.parent:(t=t.componentParent||t.ractive.component.up,y=!0)}var w=n.ractive;return w.resolveInstanceMembers&&"data"!==h&&h in w?w.viewmodel.getRactiveModel().joinKey(h).joinAll(u):(b&&tt("'"+e+"' is ambiguous and did not resolve."),v.joinKey(h).joinAll(u))}}function qr(t){return t&&(!t.ractive.isolated&&!(t.owner&&t.owner.containerFragment)&&(t.componentParent||!t.parent&&t.ractive.component)||t.parent)}function Jr(t){for(var e,n=t;!n.isIteration&&(e=qr(n));)n=e;return n.isIteration&&n}function Qr(t){throw new Error("An index or key reference ("+t+") cannot have child properties")}var Xr={};function ts(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=t.fragment||t._fakeFragment||(t._fakeFragment=new ns(t));return i.getContext.apply(i,e)}function es(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.ctx||(this.ctx=new Xr.Context(this)),t.unshift(l(this.ctx)),h.apply(null,t)}var ns=function(t){this.ractive=t};ns.prototype.findContext=function(){return this.ractive.viewmodel};var is=ns.prototype;function rs(t){for(var e=t;e&&!e.context;)e=e.parent;return e||t&&t.ractive.fragment}is.getContext=es,is.find=is.findComponent=is.findAll=is.findAllComponents=U;var ss=!1;function as(t,e){var n=ss,i=e&&e.deep,r=e&&e.shuffle,s=Pr.start();e&&"keep"in e&&(ss=e.keep);for(var a=t.length;a--;){var o=t[a][0],u=t[a][1],h=t[a][2];if(!o)throw Pr.end(),new Error("Failed to set invalid keypath '"+h+"'");if(i)cs(o,u);else if(r){var l=u,c=o.get();if(l||(l=c),M(c))o.set(l);else{if(!m(c)||!m(l))throw Pr.end(),new Error("You cannot merge an array with a non-array");var d=fs(r);o.merge(l,d)}}else o.set(u)}return Pr.end(),ss=n,1===t.length?s.then((function(){return t[0][1]})):s}var os=/\*/;function us(t,e,n,i){if(!n&&("."===e[0]||"^"===e[1]))return tt("Attempted to set a relative keypath from a non-relative context. You can use a context object to set relative keypaths."),[];var r=pt(e),s=n||t.viewmodel;return os.test(e)?s.findMatches(r):s===t.viewmodel?!t.component||t.isolated||s.has(r[0])||"@"===e[0]||!e[0]||i?[s.joinAll(r)]:[Zr(t.fragment||new ns(t),e)]:[s.joinAll(r)]}function hs(t,e,n,i){var r=[];if(y(e)){var s=function(n){a(e,n)&&r.push.apply(r,us(t,n,null,i).map((function(t){return[t,e[n],n]})))};for(var o in e)s(o)}else r.push.apply(r,us(t,e,null,i).map((function(t){return[t,n,e]})));return r}var ls={virtual:!1};function cs(t,e){var n=t.get(!1,ls);if(null==n||!w(e)||_(e))return t.set(e);if(!w(n))return t.set(e);for(var i in e)a(e,i)&&cs(t.joinKey(i),e[i])}var ds={};function fs(t){if(!0===t)return null;if(k(t))return t;if(x(t))return ds[t]||(ds[t]=function(e){return e[t]});throw new Error("If supplied, options.compare must be a string, function, or true")}function ps(t,e,n,i){if(!x(e)||!g(n))throw new Error("Bad arguments");return as(hs(t,e,n,i&&i.isolated).map((function(t){var e=t[0],n=t[1],i=e.get();if(!g(n)||!g(i))throw new Error("Cannot add to a non-numeric value");return[e,i+n]})))}function ms(t){var e=Promise.resolve(t);return c(e,"stop",{value:U}),e}var vs=z.linear;function gs(t,e,n,i){i=function(t,e){var n;return(t=t||{}).easing&&(n=k(t.easing)?t.easing:e.easing[t.easing]),{easing:n||vs,duration:"duration"in t?t.duration:400,complete:t.complete||U,step:t.step||U,interpolator:t.interpolator}}(i,t);var r=e.get();if(v(r,n))return i.complete(i.to),ms(n);var s=at(r,n,t,i.interpolator);return s?e.animate(r,n,i,s):(Pr.start(),e.set(n),Pr.end(),ms(n))}var ys={},bs={};function _s(t,e){var n=e?ys:bs;if(n[t])return n[t];var i=t.split("."),r=[],s=!1;e&&(i.unshift("this"),s=!0);for(var a=Math.pow(2,i.length)-(e?1:0),o=0;o<a;o++){for(var u=[],h=0;h<i.length;h++)u.push(1&o>>h?"*":i[h]);r.unshift(u.join("."))}return s&&(i.length>2?r.push.apply(r,_s(t,!1)):(r.push("*"),r.push(t))),n[t]=r,r}function ws(t,e,n,i){if(void 0===i&&(i=[]),e)return n.name=e,i.unshift(n),ks(t,t._nsSubs?_s(e,!0):["*",e],n,i,!0)}function ks(t,e,n,i,r){void 0===r&&(r=!1);var s=!0;if(r||t._nsSubs){!function(t,e){t.event&&t._eventQueue.push(t.event),t.event=e}(t,n);for(var a=e.length;a--;)e[a]in t._subs&&(s=xs(t,t._subs[e[a]],n,i)&&s);!function(t){t._eventQueue.length?t.event=t._eventQueue.pop():t.event=null}(t)}return t.parent&&s&&(r&&t.component&&(e=_s(t.component.name+"."+e[e.length-1],!1),n&&!n.component&&(n.component=t)),s=ks(t.parent,e,n,i)),s}function xs(t,e,n,i){for(var r=null,s=!1,a=0,o=(e=e.slice()).length;a<o;a+=1)e[a].off||!1!==e[a].handler.apply(t,i)||(s=!0);return n&&s&&(r=n.event)&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),!s}var Ss=function(t){this.event=t,this.method="on"+t};function Ms(t,e){return t[e._guid]||(t[e._guid]=[])}function Es(t,e){var n=Ms(t.queue,e);for(t.hook.fire(e);n.length;)Es(t,n.shift());delete t.queue[e._guid]}Ss.prototype.fire=function(t,e){var n=ts(t),i=this.method;t[i]&&(e?t[i](n,e):t[i](n)),ws(t,this.event,n,e?[e,t]:[t])};var Cs=function(t){this.hook=new Ss(t),this.inProcess={},this.queue={}},As=Cs.prototype;As.begin=function(t){this.inProcess[t._guid]=!0},As.end=function(t){var e=t.parent;e&&this.inProcess[e._guid]?Ms(this.queue,e).push(t):Es(this,t),delete this.inProcess[t._guid]};var Os={};function Ds(t,e){void 0===e&&(e=null);var n=[];return Ts(t,e,n,t.ractive),n}function Ts(t,e,n,i){if(t.isAnchor)e&&t.name!==e||n.push(t);else if(t.items)t.items.forEach((function(t){return Ts(t,e,n,i)}));else if(t.iterations)t.iterations.forEach((function(t){return Ts(t,e,n,i)}));else if(!t.fragment||t.component&&t.fragment.ractive!==i){if(t.instance&&t.instance.fragment){var r=[];Ts(t.instance.fragment,e,r,i),r.forEach((function(t){return t.ractive===i&&n.push(t)}))}}else Ts(t.fragment,e,n,i)}function Ns(t,e){void 0===e&&(e=null);var n=Ds(t.fragment,e),i={},r=t._children.byName;n.forEach((function(t){var e=t.name;e in i||(i[e]=0);var n=i[e],s=(r[e]||[])[n];s&&s.lastBound!==t&&(s.lastBound&&s.lastBound.removeChild(s),t.addChild(s)),i[e]++}))}function Ps(){Pr.addFragment(this.instance.fragment)}function Bs(){if(this.anchor)return this.anchor.findNextNode()}function Rs(t,e){this.computed[t]=e,(x(e)||k(e))&&(e=this.computed[t]={get:e});var n=pt(t);if(!~t.indexOf("*")){var i=n.pop();return this.viewmodel.joinAll(n).compute(i,e)}e.pattern=new RegExp("^"+n.map((function(t){return t.replace(/\*\*/g,"(.+)").replace(/\*/g,"((?:\\\\.|[^\\.])+)")})).join("\\.")+"$")}function js(t,e,n){for(void 0===e&&(e=!0);t&&(t.type!==ge||n&&t.name!==n)&&(!e||t.type!==we&&t.type!==be);)t=t.owner?t.owner:t.component||t.yield?t.containerFragment||t.component.up:t.parent?t.parent:t.up?t.up:void 0;return t}["construct","config","attachchild","detach","detachchild","insert","complete","reset","render","unrendering","unrender","teardown","destruct","update"].forEach((function(t){Os[t]=new Ss(t)})),Os.init=new Cs("init");var Ys=Array.prototype;function Vs(t){function e(e,n){var i=e.get();if(!m(i)){if(M(i)){i=[];var r=Ys[t].apply(i,n),s=Pr.start().then((function(){return r}));return e.set(i),Pr.end(),s}throw new Error("shuffle array method "+t+" called on non-array at "+e.getKeypath())}var a=function(t,e,n){var i=[],r=function(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t+Math.max(n[0],-t)),M(n[0])&&(n[0]=0);n.length<2;)n.push(t-n[0]);return S(n[1])||(n[1]=t-n[0]),n[1]=Math.min(n[1],t-n[0]),n;case"sort":case"reverse":return null;case"pop":return t?[t-1,1]:[0,0];case"push":return[t,0].concat(n);case"shift":return[0,t?1:0];case"unshift":return[0,0].concat(n)}}(t,e,n);if(!r)return null;var s,a=r.length-2-r[1],o=Math.min(t,r[0]),u=o+r[1];for(i.startIndex=o,s=0;s<o;s+=1)i.push(s);for(;s<u;s+=1)i.push(-1);for(;s<t;s+=1)i.push(s+a);return i.touchedFrom=0!==a?r[0]:t,i}(i.length,t,n),o=Ys[t].apply(i,n),u=Pr.start().then((function(){return o}));return u.result=o,a?e.shuffle?e.shuffle(a):e.mark():e.set(o),Pr.end(),u}return{path:function(t){for(var n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return e(this.viewmodel.joinAll(pt(t)),n)},model:e}}function Is(t,e,n){e.parent&&e.parent.wrapper&&e.parent.adapt();var i=Pr.start();return e.mark(n&&n.force),e.notifyUpstream(),Pr.end(),Os.update.fire(t,e),i}var Ls=Vs("push").model,Fs=Vs("pop").model,Hs=Vs("shift").model,zs=Vs("unshift").model,Us=Vs("sort").model,Ws=Vs("splice").model,Ks=Vs("reverse").model,Gs={},$s=function(t){function e(e){t.call(this,null,null),this.isRoot=!0,this.root=this,this.value={},this.ractive=e.ractive,this.adaptors=[],this.context=e.context}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.getKeypath=function(){return"@context.data"},n.rebound=function(){},e}(Ur),Zs=function(t,e){this.fragment=t,this.element=e||js(t),this.node=this.element&&this.element.node,this.ractive=t.ractive,this.root=this},qs=Zs.prototype,Js={decorators:{},_data:{}};function Qs(t,e,n){var i=[];if(y(e))for(var r in e)a(e,r)&&i.push([Xs(t,r).model,e[r]]);else i.push([Xs(t,e).model,n]);return i}function Xs(t,e){var n=t.fragment;return x(e)?{model:Zr(n,e),instance:n.ractive}:{model:n.findContext(),instance:e}}function ta(t,e){return t.events&&t.events.find&&t.events.find((function(t){return~t.template.n.indexOf(e)}))}Js.decorators.get=function(){var t={};return this.element?(this.element.decorators.forEach((function(e){return t[e.name]=e.handle})),t):t},Js._data.get=function(){return this.model||(this.root.model=new $s({ractive:this.ractive,context:this.root}))},qs.add=function(t,e,n){var i=S(e)?+e:1,r=w(e)?e:n;return as(Qs(this,t,i).map((function(t){var e=t[0],n=t[1],i=e.get();if(!g(n)||!g(i))throw new Error("Cannot add non-numeric value");return[e,i+n]})),r)},qs.animate=function(t,e,n){var i=Xs(this,t).model;return gs(this.ractive,i,e,n)},qs.find=function(t,e){return this.fragment.find(t,e)},qs.findAll=function(t,e){var n=[];return(e=e||{}).result=n,this.fragment.findAll(t,e),n},qs.findAllComponents=function(t,e){var n=[];return(e=e||{}).result=n,this.fragment.findAllComponents(t,e),n},qs.findComponent=function(t,e){return this.fragment.findComponent(t,e)},qs.get=function(t){if(!t)return this.fragment.findContext().get(!0);var e=Xs(this,t).model;return e?e.get(!0):void 0},qs.getParent=function(t){var e=this.fragment;return!e.parent&&t?e=e.componentParent:e.context?e=rs(e.parent):(e=rs(e.parent))&&(e=!e.parent&&t?e.componentParent:rs(e.parent)),e&&e!==this.fragment?e.getContext():void 0},qs.hasListener=function(t,e){var n,i=this.fragment.owner.component?this.fragment.owner:this.element||this.fragment.owner;do{if((n=i.component||i).template.t===ge&&ta(n,t))return!0;(i=i.up&&i.up.owner)&&i.component&&(i=i.component)}while(i&&e)},qs.link=function(t,e){var n=Xs(this,t).model,i=Xs(this,e).model,r=Pr.start();return i.link(n,t),Pr.end(),r},qs.listen=function(t,e){var n=this.element;return n.on(t,e),{cancel:function(){n.off(t,e)}}},qs.observe=function(t,e,n){return void 0===n&&(n={}),y(t)&&(n=e||{}),n.fragment=this.fragment,this.ractive.observe(t,e,n)},qs.observeOnce=function(t,e,n){return void 0===n&&(n={}),y(t)&&(n=e||{}),n.fragment=this.fragment,this.ractive.observeOnce(t,e,n)},qs.pop=function(t){return Fs(Xs(this,t).model,[])},qs.push=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Ls(Xs(this,t).model,e)},qs.raise=function(t,e){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];for(var r,s=this.element;s;){if(s.component&&(s=s.component),r=ta(s,t))return r.fire(r.element.getContext(e||{},e&&!("original"in e)?{original:{}}:{}),n);s=s.up&&s.up.owner}},qs.readLink=function(t,e){return this.ractive.readLink(this.resolve(t),e)},qs.resolve=function(t,e){var n=Xs(this,t),i=n.model,r=n.instance;return i?i.getKeypath(e||r):t},qs.reverse=function(t){return Ks(Xs(this,t).model,[])},qs.set=function(t,e,n){return as(Qs(this,t,e),n)},qs.shift=function(t){return Hs(Xs(this,t).model,[])},qs.splice=function(t,e,n){for(var i=[],r=arguments.length-3;r-- >0;)i[r]=arguments[r+3];return i.unshift(e,n),Ws(Xs(this,t).model,i)},qs.sort=function(t){return Us(Xs(this,t).model,[])},qs.subtract=function(t,e,n){var i=S(e)?e:1,r=w(e)?e:n;return as(Qs(this,t,i).map((function(t){var e=t[0],n=t[1],i=e.get();if(!g(n)||!g(i))throw new Error("Cannot add non-numeric value");return[e,i-n]})),r)},qs.toggle=function(t,e){var n=Xs(this,t).model;return as([[n,!n.get()]],e)},qs.unlink=function(t){var e=Xs(this,t).model,n=Pr.start();return e.owner&&e.owner._link&&e.owner.unlink(),Pr.end(),n},qs.unlisten=function(t,e){this.element.off(t,e)},qs.unshift=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return zs(Xs(this,t).model,e)},qs.update=function(t,e){return Is(this.ractive,Xs(this,t).model,e)},qs.updateModel=function(t,e){var n=Xs(this,t).model,i=Pr.start();return n.updateFromBindings(e),Pr.end(),i},qs.isBound=function(){return!!this.getBindingModel(this).model},qs.getBindingPath=function(t){var e=this.getBindingModel(this),n=e.model,i=e.instance;if(n)return n.getKeypath(t||i)},qs.getBinding=function(){var t=this.getBindingModel(this).model;if(t)return t.get(!0)},qs.getBindingModel=function(t){var e=t.element;return{model:e.binding&&e.binding.model,instance:e.up.ractive}},qs.setBinding=function(t){return as([[this.getBindingModel(this).model,t]])},Object.defineProperties(qs,Js),Zs.forRactive=ts,Xr.Context=Zs;var ea=A&&A.querySelector;function na(t){var e;if(x(t)&&ea&&(t=ea.call(document,t)),t){if(t._ractive)return t._ractive.proxy.getContext();if(!(e=t.__ractive_instances__))return na(t.parentNode);if(1===e.length)return ts(e[0])}}var ia,ra,sa,aa,oa,ua,ha,la,ca,da="http://www.w3.org/1999/xhtml",fa="http://www.w3.org/2000/svg",pa={html:da,mathml:"http://www.w3.org/1998/Math/MathML",svg:fa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns"},ma=O&&"registerElement"in A;function va(t){return ma?t:{is:t}}function ga(){return A.createDocumentFragment()}function ya(t){var e;if(t&&"boolean"!=typeof t){if(!C||!A||!t)return null;if(t.nodeType)return t;if(x(t)){if(!(e=A.getElementById(t))&&A.querySelector)try{e=A.querySelector(t)}catch(t){}if(e&&e.nodeType)return e}return t[0]&&t[0].nodeType?t[0]:null}}if(ia=N?function(t,e,n){return e&&e!==da?n?A.createElementNS(e,t,va(n)):A.createElementNS(e,t):n?A.createElement(t,va(n)):A.createElement(t)}:function(t,e,n){if(e&&e!==da)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://ractive.js.org/support/#svgs for more information";return n?A.createElement(t,va(n)):A.createElement(t)},O){for(sa=ia("div"),ca=function(t){return function(e,n){return e[t](n)}},ha=(aa=["matches","matchesSelector"]).length;ha--&&!ra;)if(sa[oa=aa[ha]])ra=ca(oa);else for(la=P.length;la--;)if(ua=P[ha]+oa.substr(0,1).toUpperCase()+oa.substring(1),sa[ua]){ra=ca(ua);break}ra||(ra=function(t,e){var n,i;(n=t.parentNode)||(sa.innerHTML="",n=sa,t=t.cloneNode(),sa.appendChild(t));var r=n.querySelectorAll(e);for(i=r.length;i--;)if(r[i]===t)return!0;return!1})}else ra=null;function ba(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function _a(t){return null==t||S(t)&&isNaN(t)||!t.toString?"":""+t}function wa(t){return _a(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function ka(t){Os.insert.fire(t),t.findAllComponents("*").forEach((function(t){ka(t.instance)}))}function xa(t,e){for(var n=e;n;){if(n===t||n.owner===t)return!0;n=n.target||n.parent}}var Sa=function(t,e,n,i){this.context=i.context||t,this.callback=n,this.ractive=t,this.keypath=i.keypath,this.options=i,e&&this.resolved(e),k(i.old)&&(this.oldContext=l(t),this.oldFn=i.old),!1!==i.init?(this.dirty=!0,this.dispatch()):Ea(this),this.dirty=!1},Ma=Sa.prototype;function Ea(t,e){var n=e&&t.model?t.model.get():t.newValue;try{t.oldValue=t.oldFn?t.oldFn.call(t.oldContext,void 0,n,t.keypath):n}catch(e){tt("Failed to execute observer oldValue callback for '"+this.keypath+"': "+(e.message||e)),t.oldValue=n}}function Ca(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.map(dt).join(".")}Ma.cancel=function(){this.cancelled=!0,this.model?this.model.unregister(this):this.resolver.unbind(),_t(this.ractive._observers,this)},Ma.dispatch=function(){if(!this.cancelled){try{this.callback.call(this.context,this.newValue,this.oldValue,this.keypath)}catch(t){tt("Failed to execute observer callback for '"+this.keypath+"': "+(t.message||t))}Ea(this,!0),this.dirty=!1}},Ma.handleChange=function(){var t=this;if(this.dirty)this.newValue=this.model.get();else{var e=this.model.get();if(v(e,this.oldValue))return;if(this.newValue=e,this.options.strict&&this.newValue===this.oldValue)return;Pr.addObserver(this,this.options.defer),this.dirty=!0,this.options.once&&Pr.scheduleTask((function(){return t.cancel()}))}},Ma.rebind=function(t,e){var n=this;if((t=re(this.keypath,t,e))===this.model)return!1;this.model&&this.model.unregister(this),t&&t.addShuffleTask((function(){return n.resolved(t)}))},Ma.resolved=function(t){this.model=t,this.oldValue=void 0,this.newValue=t.get(),t.register(this)};var Aa=/\*+/g,Oa=function(t,e,n,i,r){var s=this;this.context=r.context||t,this.ractive=t,this.baseModel=e,this.keys=n,this.callback=i;var a=n.join("\\.").replace(Aa,"(.+)"),o=this.baseKeypath=e.getKeypath(t);this.pattern=new RegExp("^"+(o?o+"\\.":"")+a+"$"),this.recursive=1===n.length&&"**"===n[0],this.recursive&&(this.keys=["*"]),r.old&&(this.oldContext=l(t),this.oldFn=r.old),this.oldValues={},this.newValues={},this.defer=r.defer,this.once=r.once,this.strict=r.strict,this.dirty=!1,this.changed=[],this.cache=[],this.partial=!1,this.links=r.links,e.findMatches(this.keys).forEach((function(t){s.newValues[t.getKeypath(s.ractive)]=t.get()})),!1!==r.init?this.dispatch():Ta(this,this.newValues),e.registerPatternObserver(this)},Da=Oa.prototype;function Ta(t,e,n){var i=t.oldValues;t.oldFn?(n||(t.oldValues={}),f(e).forEach((function(n){var r=[i[n],e[n],n],s=t.pattern.exec(n);s&&r.push.apply(r,s.slice(1)),t.oldValues[n]=t.oldFn.apply(t.oldContext,r)}))):n?f(e).forEach((function(t){return i[t]=e[t]})):t.oldValues=e}function Na(){return-1}Da.cancel=function(){this.baseModel.unregisterPatternObserver(this),_t(this.ractive._observers,this)},Da.dispatch=function(){var t=this,e=this.newValues;this.newValues={},f(e).forEach((function(n){var i=e[n],r=t.oldValues[n];if(!(t.strict&&i===r||v(i,r))){var s=[i,r,n];if(n){var a=t.pattern.exec(n);a&&(s=s.concat(a.slice(1)))}try{t.callback.apply(t.context,s)}catch(e){tt("Failed to execute pattern observer callback for '"+t.keypath+"': "+(e.message||e))}}})),Ta(this,e,this.partial),this.dirty=!1},Da.notify=function(t){var e=Ca(t);~this.cache.indexOf(e)||(this.cache.push(e),this.changed.push(t))},Da.shuffle=function(t){if(m(this.baseModel.value)){for(var e=this.baseModel.value.length,n=0;n<t.length;n++)-1!==t[n]&&t[n]!==n&&this.changed.push([n]);for(var i=t.touchedFrom;i<e;i++)this.changed.push([i])}},Da.handleChange=function(){var t=this;if(!this.dirty||this.changed.length){if(this.dirty||(this.newValues={}),this.changed.length){var e=0;if(this.recursive){var n=this.changed.slice();this.changed.length=0,this.dirty=!0,n.forEach((function(n){var i=t.baseModel.joinAll(n);i.isLink&&!t.links||(e++,t.newValues[i.getKeypath(t.ractive)]=i.get())})),this.dirty=!1}else{var i=this.baseModel.isRoot?this.changed.map((function(t){return t.map(dt).join(".")})):this.changed.map((function(e){return t.baseKeypath+"."+e.map(dt).join(".")}));this.baseModel.findMatches(this.keys).forEach((function(n){var r=n.getKeypath(t.ractive);i.filter((function(t){return 0===t.indexOf(r)&&(t.length===r.length||"."===t[r.length])||0===r.indexOf(t)&&(t.length===r.length||"."===r[t.length])})).length&&(e++,t.newValues[r]=n.get())}))}if(!e)return;this.partial=!0}else this.baseModel.findMatches(this.keys).forEach((function(e){var n=e.getKeypath(t.ractive);t.newValues[n]=e.get()})),this.partial=!1;Pr.addObserver(this,this.defer),this.dirty=!0,this.changed.length=0,this.cache=[],this.once&&this.cancel()}};var Pa=function(t,e,n,i){this.ractive=t,this.model=e,this.keypath=e.getKeypath(),this.callback=n,this.options=i,this.pending=null,e.register(this),!1!==i.init?(this.sliced=[],this.shuffle([]),this.dispatch()):this.sliced=this.slice()},Ba=Pa.prototype;Ba.cancel=function(){this.model.unregister(this),_t(this.ractive._observers,this)},Ba.dispatch=function(){try{this.callback(this.pending)}catch(t){tt("Failed to execute array observer callback for '"+this.keypath+"': "+(t.message||t))}this.pending=null,this.options.once&&this.cancel()},Ba.handleChange=function(t){this.pending?Pr.addObserver(this,this.options.defer):t||(this.shuffle(this.sliced.map(Na)),this.handleChange())},Ba.shuffle=function(t){var e,n=this,i=this.slice(),r=[],s=[],a={};t.forEach((function(t,i){a[t]=!0,t!==i&&M(e)&&(e=i),-1===t&&s.push(n.sliced[i])})),M(e)&&(e=t.length);for(var o=i.length,u=0;u<o;u+=1)a[u]||r.push(i[u]);this.pending={inserted:r,deleted:s,start:e},this.sliced=i},Ba.slice=function(){var t=this.model.get();return m(t)?t.slice():[]};var Ra={init:!1,once:!0},ja=function(t){return t.trim()},Ya=function(t){return""!==t},Va=Vs("pop").path,Ia=Vs("push").path,La="/* Ractive.js component styles */",Fa=[],Ha=!1,za=null,Ua=null,Wa=!1;function Ka(t){return void 0===t?Wa:Wa=t}function Ga(t){Fa.push(t),Ha=!0}function $a(t){var e=Ja();e&&(t||Ha)&&(Wa?Fa.forEach((function(t){var e=function(t){return A&&(A.querySelector('[data-ractive-css="'+t+'"]')||qa(t))}(t.id);if(e){var n=Za(t.id);Ua?e.styleSheet.cssText!==n&&(e.styleSheet.cssText=n):e.innerHTML!==n&&(e.innerHTML=n)}})):Ua?e.styleSheet.cssText=Za(null):e.innerHTML=Za(null),Ha=!1)}function Za(t){t&&!m(t)&&(t=[t]);var e=t?Fa.filter((function(e){return~t.indexOf(e.id)})):Fa;return e.forEach((function(t){return t.applied=!0})),e.reduce((function(t,e){return t?t+"\n\n/* {"+e.id+"} */\n"+e.styles:""}),La)}function qa(t){if(A){var e=A.createElement("style");return e.type="text/css",e.setAttribute("data-ractive-css",t||""),A.getElementsByTagName("head")[0].appendChild(e),null===Ua&&(Ua=!!e.styleSheet),e}}function Ja(){return za||(za=qa()),za}var Qa={extend:function(t,e,n){e.adapt=wt(e.adapt,yt(n.adapt))},init:function(){}},Xa=/\/\*(?:[\s\S]*?)\*\//g,to=/url\(\s*(['"])(?:\\[\s\S]|(?!\1).)*\1\s*\)|url\((?:\\[\s\S]|[^)])*\)|(['"])(?:\\[\s\S]|(?!\2).)*\2/gi,eo=/\0(\d+)/g;function no(t,e,n){void 0===n&&(n=[]);var i=[];return t=t.replace(to,(function(t){return"\0"+(i.push(t)-1)})).replace(Xa,""),n.forEach((function(e){t=t.replace(e,(function(t){return"\0"+(i.push(t)-1)}))})),e(t,(function(t){return t.replace(eo,(function(t,e){return i[e]}))}))}var io=/(?:^|\}|\{|\x01)\s*([^\{\}\0\x01]+)\s*(?=\{)/g,ro=/@import\s*\([^)]*\)\s*;?/gi,so=/\x01/g,ao=/@keyframes\s+[^\{\}]+\s*\{(?:[^{}]+|\{[^{}]+})*}/gi,oo=/((?:(?:\[[^\]]+\])|(?:[^\s\+\>~:]))+)((?:::?[^\s\+\>\~\(:]+(?:\([^\)]+\))?)*\s*[\s\+\>\~]?)\s*/g,uo=/^(?:@|\d+%)/,ho=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g;function lo(t){return t.trim()}function co(t){return t.str}function fo(t,e){var n,i='[data-ractive-css~="{'+e+'}"]';return n=ho.test(t)?t.replace(ho,i):no(t,(function(t,e){return t=t.replace(ro,"$&").replace(io,(function(t,e){if(uo.test(e))return t;var n=e.split(",").map(lo).map((function(t){return function(t,e){for(var n,i=[];n=oo.exec(t);)i.push({str:n[0],base:n[1],modifiers:n[2]});for(var r=i.map(co),s=[],a=i.length;a--;){var o=r.slice(),u=i[a];o[a]=u.base+e+u.modifiers||"";var h=r.slice();h[a]=e+" "+h[a],s.push(o.join(" "),h.join(" "))}return s.join(", ")}(t,i)})).join(", ")+" ";return t.replace(e,n)})).replace(so,""),e(t)}),[ao]),n}function po(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function mo(t,e,n){var i=w(t)?e:n,r=this._cssModel;r.locked=!0;var s=as(hs({viewmodel:r},t,e,!0),i);r.locked=!1;var a=Pr.start();return this.extensions.forEach((function(t){var e=t._cssModel;e.mark(),e.downstreamChanged("",1)})),Pr.end(),vo(this,!i||!1!==i.apply),s.then((function(){return a}))}function vo(t,e){var n=go(t),i=t.extensions.map((function(t){return vo(t,!1)})).reduce((function(t,e){return e||t}),!1);if(e&&(n||i)){var r=t._cssDef;(!r||r&&r.applied)&&$a(!0)}return n||i}function go(t){var e=t.css;if(k(e)){var n=t._cssDef,i=wo(t,e),r=n.transform?fo(i,n.id):i;if(n.styles!==r)return n.styles=r,!0}}var yo=function(t){function e(e){t.call(this,e.cssData,"@style"),this.component=e}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.downstreamChanged=function(t,e){if(!this.locked){var n=this.component;n.extensions.forEach((function(n){var i=n._cssModel;i.mark(),i.downstreamChanged(t,e||1)})),e||vo(n,!0)}},e}(Kr),bo=/\{/,_o={name:"css",extend:function(t,e,n,i){i._cssIds=function(t){for(var e=t,n=[];e;)e.prototype.cssId&&n.push(e.prototype.cssId),e=e.Parent;return n}(t),c(i,"cssData",{configurable:!0,value:h(l(t.cssData),n.cssData||{})}),c(i,"_cssModel",{configurable:!0,value:new yo(i)}),n.css&&ko(n,i,e)},init:function(t,e,n){n.css&&tt("\nThe css option is currently not supported on a per-instance basis and will be discarded. Instead, we recommend instantiating from a component definition with a css option.\n\nconst Component = Ractive.extend({\n\t...\n\tcss: '/* your css */',\n\t...\n});\n\nconst componentInstance = new Component({ ... })\n\t\t")}};function wo(t,e){if(x(e))return e;var n=t.cssData,i=t._cssModel,r=function(t){return i.joinAll(pt(t)).get()};r.__proto__=n;var s=e.call(t,r);return x(s)?s:""}function ko(t,e,n){var i=!0===t.css?"":x(t.css)&&!bo.test(t.css)&&ya(t.css)||t.css,r=i,s=t.cssId||po()+po()+"-"+po()+"-"+po()+"-"+po()+"-"+po()+po()+po();w(i)?(i="textContent"in i?i.textContent:i.innerHTML,r=i):k(i)&&(r=i,i=wo(e,i));var a={transform:"noCSSTransform"in t?!t.noCSSTransform:!t.noCssTransform};c(e,"_cssDef",{configurable:!0,value:a}),c(e,"css",{get:function(){return r},set:function(t){var n=wo(e,r=t),i=a.styles;a.styles=a.transform?fo(n,s):n,a.applied&&i!==a.styles&&$a(!0)}}),a.styles=a.transform?fo(i,s):i,a.id=n.cssId=s,e._cssIds.push(s),Ga(e._cssDef)}var xo={name:"data",extend:function(t,e,n){var i,r;if(n.data&&y(n.data))for(i in n.data)(r=n.data[i])&&w(r)&&(y(r)||m(r))&&tt("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Mo(e.data,n.data)},init:function(t,e,n){var i=Mo(t.prototype.data,n.data);if(k(i)&&(i=i.call(e)),i&&i.constructor===Object)for(var r in i)if(k(i[r])){var s=i[r];i[r]=Et(s,e),i[r]._r_unbound=s}return i||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.root.set(e),!0}};function So(){return{}}function Mo(t,e){!function(t){t&&t.constructor!==Object&&(k(t)||(w(t)?tt("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged"):J("data option must be an object or a function, `"+t+"` is not valid")))}(e);var n=k(t);e||n||(e=So);var i=k(e);return n||i?function(){return Co(i?Eo(e,this):e,n?Eo(t,this):t)}:Co(e,t)}function Eo(t,e){var n=t.call(e);if(n)return w(n)||J("Data function must return an object"),n.constructor!==Object&&et("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Co(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}var Ao={name:"template",extend:function(t,e,n){if("template"in n){var i=n.template;k(i)?e.template=i:e.template=Do(i,e)}},init:function(t,e,n){var i="template"in n?n.template:t.prototype.template;if(k(i=i||{v:4,t:[]})){var r=i;i=Oo(e,r),e._config.template={fn:r,result:i}}i=Do(i,e),e.template=i.t,i.p&&To(e.partials,i.p)},reset:function(t){var e=function(t){var e=t._config.template;if(e&&e.fn){var n=Oo(t,e.fn);return n!==e.result?(e.result=n,n):void 0}}(t);if(e){var n=Do(e,t);return t.template=n.t,To(t.partials,n.p,!0),!0}}};function Oo(t,e){return e.call(t,{fromId:Sr.fromId,isParsed:Sr.isParsed,parse:function(e,n){return void 0===n&&(n=Sr.getParseOptions(t)),Sr.parse(e,n)}})}function Do(t,e){return x(t)?t=function(t,e){return"#"===t[0]&&(t=Sr.fromId(t)),Sr.parseFor(t,e)}(t,e):(function(t){if(null==t)throw new Error("The template cannot be "+t+".");if(!S(t.v))throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(4!==t.v)throw new Error("Mismatched template version (expected 4, got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}(t),le(t)),t}function To(t,e,n){if(e)for(var i in e)!n&&a(t,i)||(t[i]=e[i])}var No=["computed","helpers"],Po=function(t,e){this.name=t,this.useDefaults=e},Bo=Po.prototype;Bo.extend=function(t,e,n){var i=this.useDefaults?t.defaults:t,r=this.useDefaults?e:e.constructor;this.configure(i,r,n)},Bo.init=function(){},Bo.configure=function(t,e,n){var i=this.name,r=n[i],s=l(t[i]);h(s,r),e[i]=s,"partials"===i&&e[i]&&f(e[i]).forEach((function(t){le(e[i][t])}))},Bo.reset=function(t){var e=t[this.name],n=!1;return f(e).forEach((function(t){var i=e[t];i._fn&&(i._fn.isOwner?e[t]=i._fn:delete e[t],n=!0)})),n};var Ro=["adaptors","components","computed","decorators","easing","events","helpers","interpolators","partials","transitions"].map((function(t){var e=No.indexOf(t)>-1;return new Po(t,e)}));function jo(t,e,n){if(!/_super/.test(n))return n;function i(){var t=function(t,e){if(e in t){var n=t[e];return k(n)?n:function(){return n}}return U}(i._parent,e),r="_super"in this,s=this._super;this._super=t;var a=n.apply(this,arguments);return r?this._super=s:delete this._super,a}return i._parent=t,i._method=n,i}function Yo(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function Vo(t,e,n){if(e in t){if(n in t)throw new Error(Yo(e,n,!0));tt(Yo(e,n)),t[n]=t[e]}}var Io={extend:function(t,e,n,i){return Wo("extend",t,e,n,i)},init:function(t,e,n){return Wo("init",t,e,n)},reset:function(t){return Uo.filter((function(e){return e.reset&&e.reset(t)})).map((function(t){return t.name}))}},Lo={adapt:Qa,computed:Io,css:_o,data:xo,helpers:Io,template:Ao},Fo=f(H),Ho=Go(Fo.filter((function(t){return!Lo[t]}))),zo=Go(Fo.concat(Ro.map((function(t){return t.name})),["on","observe","attributes","cssData","use"])),Uo=[].concat(Fo.filter((function(t){return!Ro[t]&&!Lo[t]})),Ro,Lo.template,Lo.css);function Wo(t,e,n,i,r){for(var s in function(t){Vo(t,"beforeInit","onconstruct"),Vo(t,"init","onrender"),Vo(t,"complete","oncomplete"),Vo(t,"eventDefinitions","events"),m(t.adaptors)&&Vo(t,"adaptors","adapt")}(i),i)if(a(Ho,s)){var o=i[s];"el"!==s&&k(o)?tt(s+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[s]=o}if(n.append&&n.enhance)throw new Error("Cannot use append and enhance at the same time");Ro.forEach((function(s){s[t](e,n,i,r)})),Qa[t](e,n,i,r),Ao[t](e,n,i,r),_o[t](e,n,i,r),function(t,e,n){for(var i in n)if(!zo[i]&&a(n,i)){var r=n[i];k(r)&&((i in Jc||"on"===i.slice(0,2)&&i.slice(2)in Os&&i in e)&&!Ko.test(r.toString())&&tt("Overriding Ractive prototype function '"+i+"' without calling the '"+Ko+"' method can be very dangerous."),r=jo(t,i,r)),e[i]=r}}(e.prototype,n,i)}var Ko=/\b_super\b/;function Go(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}var $o=function(t){this.up=t.up,this.ractive=t.up.ractive,this.template=t.template,this.index=t.index,this.type=t.template.t,this.dirty=!1},Zo=$o.prototype;Zo.bubble=function(){this.dirty||(this.dirty=!0,this.up.bubble())},Zo.destroyed=function(){this.fragment&&this.fragment.destroyed()},Zo.find=function(){return null},Zo.findComponent=function(){return null},Zo.findNextNode=function(){return this.up.findNextNode(this)},Zo.rebound=function(t){this.fragment&&this.fragment.rebound(t)},Zo.shuffled=function(){this.fragment&&this.fragment.shuffled()},Zo.valueOf=function(){return this.toString()},$o.prototype.findAll=U,$o.prototype.findAllComponents=U;var qo=function(t){function e(e){t.call(this,e)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.detach=function(){return this.fragment?this.fragment.detach():ga()},n.find=function(t){if(this.fragment)return this.fragment.find(t)},n.findAll=function(t,e){this.fragment&&this.fragment.findAll(t,e)},n.findComponent=function(t){if(this.fragment)return this.fragment.findComponent(t)},n.findAllComponents=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},n.firstNode=function(t){return this.fragment&&this.fragment.firstNode(t)},n.toString=function(t){return this.fragment?this.fragment.toString(t):""},e}($o),Jo=/\s+/;function Qo(t){for(var e=t.split(Jo),n=e.length;n--;)e[n]||e.splice(n,1);return e}var Xo=[void 0,"text","search","url","email","hidden","password","search","reset","submit"];function tu(t){var e=this.getValue();m(e)||(e=[e]);var n=this.node.options,i=n.length;if(t)for(;i--;)n[i].selected=!1;else for(;i--;){var r=n[i],s=r._ractive?r._ractive.value:r.value;r.selected=gt(e,s)}}function eu(t){var e=this.getValue();if(!this.locked){this.node._ractive.value=e;var n=this.node.options,i=n.length,r=!1;if(t)for(;i--;)n[i].selected=!1;else for(;i--;){var s=n[i],a=s._ractive?s._ractive.value:s.value;if(s.disabled&&s.selected&&(r=!0),a==e)return void(s.selected=!0)}r||(this.node.selectedIndex=-1)}}function nu(t){var e=this.getValue();this.locked||(this.node.innerHTML=t||M(e)?"":e)}function iu(t){var e=this.node,n=e.checked,i=this.getValue();if(t)return e.checked=!1;e.value=this.node._ractive.value=i,e.checked=this.element.compare(i,this.element.getAttribute("name")),n&&!e.checked&&this.element.binding&&this.element.binding.rendered&&this.element.binding.group.model.set(this.element.binding.group.getValue())}function ru(t){if(!this.locked)if(t)this.node.removeAttribute("value"),this.node.value=this.node._ractive.value=null;else{var e=this.getValue();this.node.value=this.node._ractive.value=e,this.node.setAttribute("value",_a(e))}}function su(t){if(!this.locked)if(t)this.node._ractive.value="",this.node.removeAttribute("value");else{var e=this.getValue();this.node._ractive.value=e;var n=_a(e);this.node.value!==n&&(this.node.value=n),this.node.setAttribute("value",n)}}function au(t){this.node.checked=!t&&this.element.compare(this.getValue(),this.element.binding.getValue())}function ou(t){var e=this.element,n=this.node,i=e.binding,r=this.getValue(),s=e.getAttribute("value");if(m(r)){for(var a=r.length;a--;)if(e.compare(s,r[a]))return void(i.isChecked=n.checked=!0);i.isChecked=n.checked=!1}else i.isChecked=n.checked=e.compare(r,s)}function uu(t){for(var e,n=t?{}:x(e=this.getValue()||"")?no(e,(function(t,e){return t.split(";").filter((function(t){return!!t.trim()})).map(e).reduce((function(t,e){var n=e.indexOf(":");return t[e.substr(0,n).trim()]=e.substr(n+1).trim(),t}),{})})):{},i=this.node.style,r=f(n),s=this.previous||[],a=0;a<r.length;){if(r[a]in i){var o=n[r[a]].replace("!important","");i.setProperty(r[a],o,o.length!==n[r[a]].length?"important":"")}a++}for(a=s.length;a--;)!~r.indexOf(s[a])&&s[a]in i&&i.setProperty(s[a],"","");this.previous=r}function hu(t){if(this.style||(this.style=Ji(this.name.substr(6))),!t||this.node.style.getPropertyValue(this.style)===this.last){var e=t?"":_a(this.getValue()),n=e.replace("!important","");this.node.style.setProperty(this.style,n,n.length!==e.length?"important":""),this.last=this.node.style.getPropertyValue(this.style)}}function lu(t){var e=t?[]:Qo(_a(this.getValue())),n=this.node.className,i=Qo(n=void 0!==n.baseVal?n.baseVal:n),r=this.previous||[],s=e.concat(i.filter((function(t){return!~r.indexOf(t)}))).join(" ");s!==n&&(x(this.node.className)?this.node.className=s:this.node.className.baseVal=s),this.previous=e}function cu(t){var e=this.name.substr(6),n=this.node.className,i=Qo(n=void 0!==n.baseVal?n.baseVal:n),r=!t&&this.getValue();this.inlineClass||(this.inlineClass=e),r&&!~i.indexOf(e)?i.push(e):!r&&~i.indexOf(e)&&i.splice(i.indexOf(e),1),x(this.node.className)?this.node.className=i.join(" "):this.node.className.baseVal=i.join(" ")}function du(t){if(!this.locked)if(t)this.useProperty&&(this.node[this.propertyName]=!1),this.node.removeAttribute(this.propertyName);else if(this.useProperty)this.node[this.propertyName]=this.getValue();else{var e=this.getValue();e?this.node.setAttribute(this.propertyName,x(e)?e:""):this.node.removeAttribute(this.propertyName)}}function fu(t){t?this.node.getAttribute(this.name)===this.value&&this.node.removeAttribute(this.name):(this.value=_a(this.getString()),this.node.setAttribute(this.name,this.value))}function pu(t){t?this.value===this.node.getAttributeNS(this.namespace,this.name.slice(this.name.indexOf(":")+1))&&this.node.removeAttributeNS(this.namespace,this.name.slice(this.name.indexOf(":")+1)):(this.value=_a(this.getString()),this.node.setAttributeNS(this.namespace,this.name.slice(this.name.indexOf(":")+1),this.value))}var mu={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor",class:"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName",for:"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},vu=A?ia("div"):null,gu=!1;function yu(){return gu}var bu=function(t){function e(e){t.call(this,e),this.attributes=[],this.owner=e.owner,this.fragment=new Fc({ractive:this.ractive,owner:this,template:this.template}),this.fragment.findNextNode=U,this.dirty=!1}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(){this.fragment.bind()},n.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble())},n.destroyed=function(){this.unrender()},n.render=function(){this.node=this.owner.node,this.node&&(this.isSvg=this.node.namespaceURI===fa),gu=!0,this.rendered||this.fragment.render(),this.rendered=!0,this.dirty=!0,this.update(),gu=!1},n.toString=function(){return this.fragment.toString()},n.unbind=function(t){this.fragment.unbind(t)},n.unrender=function(){this.rendered=!1,this.fragment.unrender()},n.update=function(){var t,e,n=this;if(this.dirty){this.dirty=!1;var i=gu;gu=!0,this.fragment.update(),this.rendered&&this.node&&(t=this.fragment.toString(),e=function(t,e){if(_u.test(t))return[];var n=e?"svg":"div";return t?(vu.innerHTML="<"+n+" "+t+"></"+n+">")&&kt(vu.childNodes[0].attributes):[]}(t,this.isSvg),this.attributes.filter((function(t){return function(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}(e,t)})).forEach((function(t){n.node.removeAttribute(t.name)})),e.forEach((function(t){n.node.setAttribute(t.name,t.value)})),this.attributes=e),gu=i||!1}},e}($o),_u=/^\s*$/,wu=!1,ku=function(t){function e(e){if(t.call(this,e),this.name=e.template.n,this.namespace=null,this.owner=e.owner||e.up.owner||e.element||js(e.up),this.element=e.element||(this.owner.attributeByName?this.owner:js(e.up)),this.up=e.up,this.ractive=this.up.ractive,this.rendered=!1,this.updateDelegate=null,this.fragment=null,this.element.attributeByName[this.name]=this,!m(e.template.f))return this.value=e.template.f,void(0===this.value?this.value="":M(this.value)&&(this.value=!0));this.fragment=new Fc({owner:this,template:e.template.f}),this.interpolator=this.fragment&&1===this.fragment.items.length&&this.fragment.items[0].type===pe&&this.fragment.items[0],this.interpolator&&(this.interpolator.owner=this)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(){this.fragment&&this.fragment.bind()},n.bubble=function(){this.dirty||(this.up.bubble(),this.element.bubble(),this.dirty=!0)},n.firstNode=function(){},n.getString=function(){wu=!0;var t=this.fragment?this.fragment.toString():null!=this.value?""+this.value:"";return wu=!1,t},n.getValue=function(){wu=!0;var t=this.fragment?this.fragment.valueOf():!!nn[this.name.toLowerCase()]||this.value;return wu=!1,t},n.render=function(){var t=this.element.node;if(this.node=t,t.namespaceURI&&t.namespaceURI!==pa.html||(this.propertyName=mu[this.name]||this.name,void 0!==t[this.propertyName]&&(this.useProperty=!0),(nn[this.name.toLowerCase()]||this.isTwoway)&&(this.isBoolean=!0),"value"===this.propertyName&&(t._ractive.value=this.value)),t.namespaceURI){var e=this.name.indexOf(":");this.namespace=-1!==e?function(t,e){for(var n="xmlns:"+e;t;){if(t.hasAttribute&&t.hasAttribute(n))return t.getAttribute(n);t=t.parentNode}return pa[e]}(t,this.name.slice(0,e)):t.namespaceURI}this.rendered=!0,this.updateDelegate=function(t){var e=t.element,n=t.name;if("value"===n){if(t.interpolator&&(t.interpolator.bound=!0),"select"===e.name&&"value"===n)return e.getAttribute("multiple")?tu:eu;if("textarea"===e.name)return su;if(null!=e.getAttribute("contenteditable"))return nu;if("input"===e.name){var i=e.getAttribute("type");if("file"===i)return U;if("radio"===i&&e.binding&&"name"===e.binding.attribute.name)return iu;if(~Xo.indexOf(i))return su}return ru}var r=e.node;if(t.isTwoway&&"name"===n){if("radio"===r.type)return au;if("checkbox"===r.type)return ou}if("style"===n)return uu;if(0===n.indexOf("style-"))return hu;if("class"===n&&(!r.namespaceURI||r.namespaceURI===da))return lu;if(0===n.indexOf("class-"))return cu;if(t.isBoolean){var s=e.getAttribute("type");return!t.interpolator||"checked"!==n||"checkbox"!==s&&"radio"!==s||(t.interpolator.bound=!0),du}return t.namespace&&t.namespace!==t.node.namespaceURI?pu:fu}(this),this.updateDelegate()},n.toString=function(){if(yu())return"";wu=!0;var t=this.getValue();if("value"!==this.name||void 0===this.element.getAttribute("contenteditable")&&"select"!==this.element.name&&"textarea"!==this.element.name){if("name"===this.name&&"input"===this.element.name&&this.interpolator&&"radio"===this.element.getAttribute("type"))return'name="{{'+this.interpolator.model.getKeypath()+'}}"';if(this.owner!==this.element||"style"!==this.name&&"class"!==this.name&&!this.style&&!this.inlineClass){if(this.rendered||this.owner!==this.element||this.name.indexOf("style-")&&this.name.indexOf("class-")){if(nn[this.name.toLowerCase()])return t?x(t)?this.name+'="'+wa(t)+'"':this.name:"";if(null==t)return"";var e=wa(this.getString());return wu=!1,e?this.name+'="'+e+'"':this.name}this.name.indexOf("style-")?this.inlineClass=this.name.substr(6):this.style=Ji(this.name.substr(6))}}},n.unbind=function(t){this.fragment&&this.fragment.unbind(t)},n.unrender=function(){this.updateDelegate(!0),this.rendered=!1},n.update=function(){var t;if(this.dirty)if(this.dirty=!1,this.fragment&&this.fragment.update(),this.rendered&&this.updateDelegate(),this.isTwoway&&!this.locked)this.interpolator.twowayBinding.lastVal(!0,this.interpolator.model.get());else if("value"===this.name&&(t=this.element.binding)){var e=t.attribute;e&&!e.dirty&&e.rendered&&this.element.binding.attribute.updateDelegate()}},e}($o),xu=function(t){function e(e){t.call(this,e),this.owner=e.owner||e.up.owner||js(e.up),this.element=this.owner.attributeByName?this.owner:js(e.up),this.flag="l"===e.template.v?"lazy":"twoway",this.bubbler=this.owner===this.element?this.element:this.up,this.element.type===ge&&(m(e.template.f)&&(this.fragment=new Fc({owner:this,template:e.template.f})),this.interpolator=this.fragment&&1===this.fragment.items.length&&this.fragment.items[0].type===pe&&this.fragment.items[0])}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(){this.fragment&&this.fragment.bind(),Su(this,this.getValue(),!0)},n.bubble=function(){this.dirty||(this.bubbler.bubble(),this.dirty=!0)},n.getValue=function(){return this.fragment?this.fragment.valueOf():"value"in this?this.value:!("f"in this.template)||this.template.f},n.render=function(){Su(this,this.getValue(),!0)},n.toString=function(){return""},n.unbind=function(t){this.fragment&&this.fragment.unbind(t),delete this.element[this.flag]},n.unrender=function(){this.element.rendered&&this.element.recreateTwowayBinding()},n.update=function(){this.dirty&&(this.dirty=!1,this.fragment&&this.fragment.update(),Su(this,this.getValue(),!0))},e}($o);function Su(t,e,n){t.value=0===e||"true"===e||"false"!==e&&"0"!==e&&e;var i=t.element[t.flag];return t.element[t.flag]=t.value,n&&!t.element.attributes.binding&&i!==t.value&&t.element.recreateTwowayBinding(),t.value}function Mu(t){$o.call(this,t)}var Eu=l($o.prototype);function Cu(t,e){t.torndown=!0,t.fragment.unbind(),t._observers.slice().forEach(zt),t.el&&t.el.__ractive_instances__&&_t(t.el.__ractive_instances__,t);var n=e();return Os.teardown.fire(t),n.then((function(){Os.destruct.fire(t),t.viewmodel.teardown()})),n}h(Eu,{bind:U,unbind:U,update:U,detach:function(){return ba(this.node)},firstNode:function(){return this.node},render:function(t){this.rendered=!0,this.node=A.createComment(this.template.c),t.appendChild(this.node)},toString:function(){return"\x3c!-- "+this.template.c+" --\x3e"},unrender:function(t){this.rendered&&t&&this.detach(),this.rendered=!1}}),Mu.prototype=Eu;var Au=function(t){function e(e){t.call(this,e,"@this"),this.ractive=e}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.joinKey=function(e){var n=t.prototype.joinKey.call(this,e);return"root"!==e&&"parent"!==e||n.isLink?"data"===e?this.ractive.viewmodel:"cssData"===e?this.ractive.constructor._cssModel:n:function(t,e){if(t.applyValue=function(t){this.parent.value[e]=t,t&&t.viewmodel?(this.link(t.viewmodel.getRactiveModel(),e),this._link.markedAll()):(this.link(l(se),e),this._link.markedAll())},"root"===e){var n=t.mark;t.mark=function(t){this._marking||(this._marking=!0,n.apply(this,t),this._marking=!1)}}return t.applyValue(t.parent.ractive[e],e),t._link.set=function(e){return t.applyValue(e)},t._link.applyValue=function(e){return t.applyValue(e)},t._link}(n,e)},e}(Kr),Ou={"@this":function(t){return t.getRactiveModel()},"@global":function(){return $r},"@shared":function(){return Gr},"@style":function(t){return t.getRactiveModel().joinKey("cssData")},"@helpers":function(t){return t.getHelpers()}};Ou["@"]=Ou["@this"];var Du=function(t){function e(e){t.call(this,null,null),this.isRoot=!0,this.root=this,this.ractive=e.ractive,this.value=e.data,this.adaptors=e.adapt,this.adapt()}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.attached=function(t){Tu(this,t)},n.createLink=function(t,e,n,i){for(var r=pt(t),s=this;r.length;){var a=r.shift();s=s.childByKey[a]||s.joinKey(a)}return s.link(e,n,i)},n.detached=function(){Nu(this)},n.get=function(t,e){return t&&Ft(this),e&&!1===e.virtual?this.value:this.getVirtual()},n.getHelpers=function(){return this.helpers||(this.helpers=new Kr(this.ractive.helpers,"helpers",this.ractive)),this.helpers},n.getKeypath=function(){return""},n.getRactiveModel=function(){return this.ractiveModel||(this.ractiveModel=new Au(this.ractive))},n.getValueChildren=function(){var e=t.prototype.getValueChildren.call(this,this.value);return this.children.forEach((function(t){if(t._link){var n=e.indexOf(t);~n?e.splice(n,1,t._link):e.push(t._link)}})),e},n.has=function(e){if("~"===e[0]&&"/"===e[1]&&(e=e.slice(2)),Ou[e]||""===e)return!0;if(t.prototype.has.call(this,e))return!0;var n=mt(e);return!(!this.childByKey[n]||!this.childByKey[n]._link)||void 0},n.joinKey=function(e,n){if("~"===e[0]&&"/"===e[1]&&(e=e.slice(2)),"@"!==e[0])return t.prototype.joinKey.call(this,e,n);var i=Ou[e];return i?i(this):void 0},n.set=function(t){var e=this.wrapper;e?(!e.reset||!1===e.reset(t))&&(e.teardown(),this.wrapper=null,this.value=t,this.adapt()):(this.value=t,this.adapt()),this.deps.forEach(Wt),this.children.forEach(Kt)},n.retrieve=function(){return this.wrapper?this.wrapper.get():this.value},n.teardown=function(){t.prototype.teardown.call(this),this.ractiveModel&&this.ractiveModel.teardown()},e}(Ur);function Tu(t,e){for(var n in t._link&&t._link.implicit&&t._link.isDetached()&&t.attach(e),t.childByKey)if(t.value)if(n in t.value)Tu(t.childByKey[n],e);else if(!t.childByKey[n]._link||t.childByKey[n]._link.isDetached()){var i=Zr(e,n);i&&t.childByKey[n].link(i,n,{implicit:!0})}}function Nu(t){for(var e in t._link&&t._link.implicit&&t.unlink(),t.childByKey)Nu(t.childByKey[e])}function Pu(t,e,n){var i=(t.constructor["_"+n]||[]).concat(o(e[n]||[])),r="on"===n?"once":n+"Once";i.forEach((function(e){var i=e[0],s=e[1];k(s)?t[n](i,s):w(s)&&k(s.handler)&&t[s.once?r:n](i,s.handler,l(s))}))}Du.prototype.update=U;var Bu=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Ru=["computed","helpers"],ju=0;function Yu(t,e){od.DEBUG&&G(),function(t){t._guid="r-"+ju++,t._subs=l(null),t._nsSubs=0,t._config={},t.event=null,t._eventQueue=[],t._observers=[],t._children=[],t._children.byName={},t.children=t._children,t.component||(t.root=t,t.parent=t.container=null)}(t),function(t){var e=t.component,n=t.constructor.attributes;if(n&&e){var i=e.template,r=i.m?i.m.slice():[],s=r.filter((function(t){return t.t===_e})).map((function(t){return t.n}));n.required.forEach((function(t){~s.indexOf(t)||tt("Component '"+e.name+"' requires attribute '"+t+"' to be provided")}));for(var a=n.optional.concat(n.required),o=[],u=r.length;u--;){var h=r[u];h.t!==_e||~a.indexOf(h.n)?n.mapAll||h.t!==We&&h.t!==Ke&&h.t!==Ge||o.unshift(r.splice(u,1)[0]):n.mapAll?o.unshift({t:_e,n:h.n,f:[{t:pe,r:"~/"+h.n}]}):o.unshift(r.splice(u,1)[0])}o.length&&(e.template={t:i.t,e:i.e,f:i.f,m:r,p:i.p}),t._attributePartial=o}}(t),Pu(t,e,"on"),!a(e,"delegate")&&t.parent&&t.parent.delegate!==t.delegate&&(t.delegate=!1),m(e.use)&&t.use.apply(t,e.use.filter((function(t){return t.construct}))),Os.construct.fire(t,e),e.onconstruct&&e.onconstruct.call(t,ts(t),e);for(var n=Bu.length;n--;){var i=Bu[n];t[i]=h(l(t.constructor[i]||null),e[i])}for(n=Ru.length;n--;){var r=Ru[n];t[r]=h(l(t.constructor.prototype[r]),e[r])}t._attributePartial&&(t.partials["extra-attributes"]=t._attributePartial,delete t._attributePartial);var s=new Du({adapt:Vu(t,t.adapt,e),data:xo.init(t.constructor,t,e),ractive:t});for(var o in t.adapt=s.adaptors,t.viewmodel=s,t.computed)Rs.call(t,o,t.computed[o])}function Vu(t,e,n){var i=[e=e.map(r),yt(n.adapt).map(r)];return t.parent&&!t.isolated&&i.push(t.parent.viewmodel.adaptors),wt.apply(null,i);function r(e){return x(e)&&((e=rt("adaptors",t,e))||J(it(e,"adaptor"))),e}}var Iu=function(t){function e(e,n){var i=this;t.call(this,e);var r=e.template;this.isAnchor=r.t===be,this.type=this.isAnchor?be:we;var s=r.m,a=r.p||{};if("content"in a||(a.content=r.f||[]),this._partials=a,this.isAnchor)this.name=r.n,this.addChild=Lu,this.removeChild=Fu;else{var o=new n({component:!0});this.instance=o,this.name=r.e,(o.el||o.target)&&(tt("The <"+this.name+"> component has a default '"+(o.el?"el":"target")+"' property; it has been disregarded"),o.el=o.target=null);for(var u,h=e.up;h;){if(h.owner.type===ke){u=h.owner.container;break}h=h.parent}o.parent=this.up.ractive,o.container=u||null,o.root=o.parent.root,o.component=this,Yu(this.instance,{partials:a}),s=(r=this.template).m,m(this.mappings)?s=(s||[]).concat(this.mappings):x(this.mappings)&&(s=(s||[]).concat(Sr.parse(this.mappings,{attributes:!0}).t)),o._inlinePartials=a}if(this.attributeByName={},this.attributes=[],s){var l=[];s.forEach((function(t){switch(t.t){case _e:case Ue:i.attributes.push(Vc({owner:i,up:i.up,template:t}));break;case Ke:case Ge:case We:break;default:l.push(t)}})),l.length&&this.attributes.push(new bu({owner:this,up:this.up,template:l}))}this.eventHandlers=[]}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(){this.isAnchor||(this.attributes.forEach(Ht),this.eventHandlers.forEach(Ht),Uc(this.instance,{partials:this._partials},{cssIds:this.up.cssIds}),(this.instance.target||this.instance.el)&&(this.extern=!0),this.bound=!0)},n.bubble=function(){this.dirty||(this.dirty=!0,this.up.bubble())},n.destroyed=function(){!this.isAnchor&&this.instance.fragment&&this.instance.fragment.destroyed()},n.detach=function(){return this.isAnchor?this.instance?this.instance.fragment.detach():ga():this.instance.fragment.detach()},n.find=function(t,e){if(this.instance)return this.instance.fragment.find(t,e)},n.findAll=function(t,e){this.instance&&this.instance.fragment.findAll(t,e)},n.findComponent=function(t,e){return t&&this.name!==t?this.instance.fragment?this.instance.fragment.findComponent(t,e):void 0:this.instance},n.findAllComponents=function(t,e){var n=e.result;!this.instance||t&&this.name!==t||n.push(this.instance),this.instance&&this.instance.findAllComponents(t,e)},n.firstNode=function(t){if(this.instance)return this.instance.fragment.firstNode(t)},n.getContext=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.unshift(this.instance),ts.apply(null,t)},n.rebound=function(t){this.attributes.forEach((function(e){return e.rebound(t)}))},n.render=function(t,e){this.isAnchor?(this.rendered=!0,this.target=t,zu.length||(zu.push(this.ractive),e?(this.occupants=e,Uu(),this.occupants=null):Pr.scheduleTask(Uu,!0))):(this.attributes.forEach(qt),this.eventHandlers.forEach(qt),this.extern?(this.instance.delegate=!1,this.instance.render()):Kc(this.instance,t,null,e),this.rendered=!0)},n.shuffled=function(){t.prototype.shuffled.call(this),this.instance&&!this.instance.isolated&&this.instance.fragment&&this.instance.fragment.shuffled()},n.toString=function(){if(this.instance)return this.instance.toHTML()},n.unbind=function(t){this.isAnchor||(this.bound=!1,this.attributes.forEach(Xt),t?this.instance.fragment.unbind():Cu(this.instance,(function(){return Pr.promise()})))},n.unrender=function(t){this.shouldDestroy=t,this.isAnchor?(this.item&&Hu(this,this.item),this.target=null,zu.length||(zu.push(this.ractive),Pr.scheduleTask(Uu,!0))):(this.instance.unrender(),this.instance.el=this.instance.target=null,this.attributes.forEach(te),this.eventHandlers.forEach(te)),this.rendered=!1},n.update=function(){this.dirty=!1,this.instance&&(this.instance.fragment.update(),this.attributes.forEach(ee),this.eventHandlers.forEach(ee))},e}($o);function Lu(t){this.item&&this.removeChild(this.item);var e=t.instance;t.anchor=this,t.up=this.up,t.name=t.nameOption||this.name,this.name=t.name,e.isolated||e.viewmodel.attached(this.up),this.rendered&&function(t,e){if(t.rendered){e.shouldDestroy=!1,e.up=t.up,t.item=e,t.instance=e.instance;var n=t.up.findNextNode(t);e.instance.fragment.rendered&&e.instance.unrender(),e.partials=e.instance.partials,e.instance.partials=h(l(e.partials),e.partials,t._partials),e.instance.fragment.unbind(!0),e.instance.fragment.componentParent=t.up,e.instance.fragment.bind(e.instance.viewmodel),t.attributes.forEach(Ht),t.eventHandlers.forEach(Ht),t.attributes.forEach(qt),t.eventHandlers.forEach(qt);var i=t.up.findParentNode();Kc(e.instance,i,i.contains(n)?n:null,t.occupants),e.lastBound!==t&&(e.lastBound=t)}}(this,t)}function Fu(t){this.item===t&&(Hu(this,t),this.name=this.template.n)}function Hu(t,e){t.rendered&&(e.shouldDestroy=!0,e.instance.unrender(),t.eventHandlers.forEach(te),t.attributes.forEach(te),t.eventHandlers.forEach(Xt),t.attributes.forEach(Xt),e.instance.el=e.instance.anchor=null,e.instance.fragment.componentParent=null,e.up=null,e.anchor=null,t.item=null,t.instance=null)}var zu=[];function Uu(){var t=zu;zu=[],t.forEach(Ns)}var Wu=function(t){function e(e,n){t.call(this,e,n),this.isReadonly=!this.root.ractive.syncComputedChildren,this.dirty=!0,this.isComputed=!0}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);n.constructor=e;var i={setRoot:{}};return i.setRoot.get=function(){return this.parent.setRoot},n.applyValue=function(e){if(t.prototype.applyValue.call(this,e),!this.isReadonly){for(var n=this.parent;n&&n.shuffle;)n=n.parent;n&&n.dependencies.forEach(Kt)}this.setRoot&&this.setRoot.set(this.setRoot.value)},n.get=function(t,e){if(t&&Ft(this),this.dirty){var n=this.parent.get();this.value=n?n[this.key]:void 0,this.wrapper&&(this.newWrapperValue=this.value),this.adapt()}return this.dirty=!1,(e&&"unwrap"in e?!1!==e.unwrap:t)&&this.wrapper?this.wrapperValue:this.value},n.handleChange=function(){this.dirty?this.deps.forEach(Wt):(this.dirty=!0,this.boundValue&&(this.boundValue=null),this.links.forEach($t),this.deps.forEach(Wt),this.children.forEach(Wt))},n.joinKey=function(t){if(M(t)||""===t)return this;if(!a(this.childByKey,t)){var n=new e(this,t);this.children.push(n),this.childByKey[t]=n}return this.childByKey[t]},Object.defineProperties(n,i),e}(Ur),Ku=function(t){function e(e,n,i){t.call(this,e,i),this.signature=n,this.isReadonly=!this.signature.setter,this.isComputed=!0,this.dependencies=[],this.children=[],this.childByKey={},this.deps=[],this.dirty=!0,this.shuffle=void 0}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);n.constructor=e;var i={setRoot:{}};return i.setRoot.get=function(){if(this.signature.setter)return this},n.get=function(t,e){if(t&&Ft(this),this.dirty){var n=this.value;this.value=this.getValue(),Pr.active()?v(n,this.value)||this.notifyUpstream():(Pr.start(),v(n,this.value)||this.notifyUpstream(),Pr.end()),this.wrapper&&(this.newWrapperValue=this.value),this.adapt(),this.dirty=!1}return Nt(this,this.wrapper&&(e&&"unwrap"in e?!1!==e.unwrap:t)?this.wrapperValue:this.value,!e||!1!==e.shouldBind)},n.getContext=function(){return this.parent.isRoot?this.root.ractive:this.parent.get(!1,Ot)},n.getValue=function(){var t;It();try{t=this.signature.getter.call(this.root.ractive,this.getContext(),this.getKeypath())}catch(t){if(tt("Failed to compute "+this.getKeypath()+": "+(t.message||t)),T){console.groupCollapsed&&console.groupCollapsed("%cshow details","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;");var e=this.signature;console.error(t.name+": "+t.message+"\n\n"+e.getterString+(e.getterUseStack?"\n\n"+t.stack:"")),console.groupCollapsed&&console.groupEnd()}}var n=Lt();return this.parent.keypath&&!~n.indexOf(this.parent)&&n.push(this.parent),this.setDependencies(n),t},n.mark=function(){this.handleChange()},n.rebind=function(t,e){t!==e&&this.handleChange()},n.set=function(t){if(this.isReadonly)throw new Error("Cannot set read-only computed value '"+this.key+"'");this.signature.setter(t,this.getContext(),this.getKeypath()),this.mark()},n.setDependencies=function(t){for(var e=this,n=this.dependencies.length;n--;){var i=e.dependencies[n];~t.indexOf(i)||i.unregister(e)}for(n=t.length;n--;){var r=t[n];~e.dependencies.indexOf(r)||r.register(e)}this.dependencies=t},n.teardown=function(){for(var e=this,n=this.dependencies.length;n--;)e.dependencies[n]&&e.dependencies[n].unregister(e);this.parent.computed[this.key]===this&&delete this.parent.computed[this.key],t.prototype.teardown.call(this)},Object.defineProperties(n,i),e}(Ur),Gu=Ku.prototype,$u=Wu.prototype;Gu.handleChange=$u.handleChange,Gu.joinKey=$u.joinKey,zr.Computation=Ku;var Zu=function(t){function e(e,n){var i=this;t.call(this,e.ractive.viewmodel,null),this.fragment=e,this.template=n,this.isReadonly=!0,this.isComputed=!0,this.dirty=!0,this.fn=!1===e.ractive.allowExpressions?U:he(n.s,n.r.length),this.models=this.template.r.map((function(t){return Zr(i.fragment,t)})),this.dependencies=[],this.shuffle=void 0,this.bubble()}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bubble=function(t){void 0===t&&(t=!0),this.keypath=void 0,t&&this.handleChange()},n.getKeypath=function(){var t=this;return this.template?(this.keypath||(this.keypath="@"+this.template.s.replace(/_(\d+)/g,(function(e,n){if(n>=t.models.length)return e;var i=t.models[n];return i?i.getKeypath():"@undefined"}))),this.keypath):"@undefined"},n.getValue=function(){var t,e=this;It();try{var n=this.models.map((function(t){return t?t.get(!0):void 0}));t=this.fn.apply(this.fragment.ractive,n)}catch(t){tt("Failed to compute "+this.getKeypath()+": "+(t.message||t))}var i=Lt();return this.dependencies.filter((function(t){return!~i.indexOf(t)})).forEach((function(t){t.unregister(e),_t(e.dependencies,t)})),i.filter((function(t){return!~e.dependencies.indexOf(t)})).forEach((function(t){t.register(e),e.dependencies.push(t)})),t},n.notifyUpstream=function(){},n.rebind=function(t,e,n){var i=this.models.indexOf(e);~i&&(t=re(this.template.r[i],t,e))!==e&&(e.unregister(this),this.models.splice(i,1,t),t&&t.addShuffleRegister(this,"mark")),this.bubble(!n)},n.rebound=function(t){var e=this;this.models=this.template.r.map((function(t){return Zr(e.fragment,t)})),t&&this.bubble(!0)},n.retrieve=function(){return this.get()},n.teardown=function(){var e=this;this.fragment=void 0,this.dependencies&&this.dependencies.forEach((function(t){return t.unregister(e)})),t.prototype.teardown.call(this)},n.unreference=function(){t.prototype.unreference.call(this),Qu(this)},n.unregister=function(e){t.prototype.unregister.call(this,e),Qu(this)},n.unregisterLink=function(e){t.prototype.unregisterLink.call(this,e),Qu(this)},e}(Ur),qu=Zu.prototype,Ju=Ku.prototype;function Qu(t){t.deps.length||t.refs||t.links.length||t.teardown()}function Xu(t,e,n,i){void 0===i&&(i={}),e&&e.f&&e.f.s&&(i.register?(t.model=new Zu(n,e.f),t.model.register(t)):t.fn=he(e.f.s,e.f.r.length))}function th(t,e,n,i){return void 0===i&&(i={}),e.f.r.map((function(t,e){var r;return i.specialRef&&(r=i.specialRef(t,e))?r:r=Zr(n,t)}))}qu.get=Ju.get,qu.handleChange=Ju.handleChange,qu.joinKey=Ju.joinKey,qu.mark=Ju.mark,qu.unbind=U;var eh={update:U,teardown:U},nh=function(t){this.owner=t.owner||t.up.owner||js(t.up),this.element=this.owner.attributeByName?this.owner:js(t.up),this.up=t.up||this.owner.up,this.ractive=this.up.ractive||this.owner.ractive;var e=this.template=t.template;this.name=e.n,this.node=null,this.handle=null,this.element.decorators.push(this)},ih=nh.prototype;ih.bind=function(){var t=this.element===this.owner?new Fc({owner:this.owner}):this.up;Xu(this,this.template,t,{register:!0})},ih.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble(),this.up.bubble())},ih.destroyed=function(){this.handle&&(this.handle.teardown(),this.handle=null),this.shouldDestroy=!0},ih.handleChange=function(){this.bubble()},ih.rebound=function(t){this.model&&this.model.rebound(t)},ih.render=function(){var t=this;this.shouldDestroy=!1,this.handle&&this.unrender();var e=this.ractive;Pr.scheduleTask((function(){if(t.element.rendered){var n=rt("decorators",e,t.name);if(!n)return X(it(t.name,"decorator")),void(t.handle=eh);t.node=t.element.node;var i=t.model?t.model.get():[];if(Gs.f=t.up,t.handle=n.apply(e,[t.node].concat(i)),Gs.f=null,!t.handle||!t.handle.teardown)throw new Error("The '"+t.name+"' decorator must return an object with a teardown method");t.shouldDestroy&&t.destroyed()}}),!0)},ih.shuffled=function(){this.handle&&this.handle.shuffled&&this.handle.shuffled()},ih.toString=function(){return""},ih.unbind=function(){var t;t=this,this.template,t.model&&t.model.unregister(t)},ih.unrender=function(t){t&&!this.element.rendered||!this.handle||(this.handle.teardown(),this.handle=null)},ih.update=function(){var t=this.handle;if(this.dirty){if(this.dirty=!1,t)if(t.update){var e=this.model?this.model.get():[];t.update.apply(this.ractive,e)}else this.unrender(),this.render()}else t&&t.invalidate&&Pr.scheduleTask((function(){return t.invalidate()}),!0)},nh.prototype.firstNode=U;var rh=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.toString=function(){return"<!DOCTYPE"+this.template.a+">"},e}($o),sh=rh.prototype;sh.bind=sh.render=sh.teardown=sh.unbind=sh.unrender=sh.update=U;var ah=function(t,e){void 0===e&&(e="value"),this.element=t,this.ractive=t.ractive,this.attribute=t.attributeByName[e];var n=this.attribute.interpolator;n.twowayBinding=this;var i=n.model;if(i.isReadonly&&!i.setRoot){var r=i.getKeypath().replace(/^@/,"");return et("Cannot use two-way binding on <"+t.name+"> element: "+r+" is read-only. To suppress this warning use <"+t.name+" twoway='false'...>",{ractive:this.ractive}),!1}this.attribute.isTwoway=!0,this.model=i;var s=i.get();this.wasUndefined=M(s),M(s)&&this.getInitialValue&&(s=this.getInitialValue(),i.set(s)),this.lastVal(!0,s);var a=js(this.element,!1,"form");a&&(this.resetValue=s,a.formBindings.push(this))},oh=ah.prototype;function uh(){this._ractive.binding.handleChange()}oh.bind=function(){this.model.registerTwowayBinding(this)},oh.handleChange=function(){var t=this,e=this.getValue();this.lastVal()!==e&&(Pr.start(),this.attribute.locked=!0,this.model.set(e),this.lastVal(!0,e),this.model.get()!==e?this.attribute.locked=!1:Pr.scheduleTask((function(){return t.attribute.locked=!1})),Pr.end())},oh.lastVal=function(t,e){if(!t)return this.lastValue;this.lastValue=e},oh.rebind=function(t,e){var n=this;this.model&&this.model===e&&e.unregisterTwowayBinding(this),t&&(this.model=t,Pr.scheduleTask((function(){return t.registerTwowayBinding(n)})))},oh.rebound=function(){this.model&&this.model.unregisterTwowayBinding(this),this.model=this.attribute.interpolator.model,this.model&&this.model.registerTwowayBinding(this)},oh.render=function(){this.node=this.element.node,this.node._ractive.binding=this,this.rendered=!0},oh.setFromNode=function(t){this.model.set(t.value)},oh.unbind=function(){this.model&&this.model.unregisterTwowayBinding(this)},ah.prototype.unrender=U;var hh=function(t){function e(e){t.call(this,e,"checked")}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.render=function(){t.prototype.render.call(this),this.element.on("change",uh),this.node.attachEvent&&this.element.on("click",uh)},n.unrender=function(){this.element.off("change",uh),this.node.attachEvent&&this.element.off("click",uh)},n.getInitialValue=function(){return!!this.element.getAttribute("checked")},n.getValue=function(){return this.node.checked},n.setFromNode=function(t){this.model.set(t.checked)},e}(ah);function lh(t,e,n){var i=t+"-bindingGroup";return e[i]||(e[i]=new ch(i,e,n))}var ch=function(t,e,n){var i=this;this.model=e,this.hash=t,this.getValue=function(){return i.value=n.call(i),i.value},this.bindings=[]},dh=ch.prototype;dh.add=function(t){this.bindings.push(t)},dh.bind=function(){var t=this;this.value=this.model.get(),this.bindings.forEach((function(e){return e.lastVal(!0,t.value)})),this.model.registerTwowayBinding(this),this.bound=!0},dh.remove=function(t){_t(this.bindings,t),this.bindings.length||this.unbind()},dh.unbind=function(){this.model.unregisterTwowayBinding(this),this.bound=!1,delete this.model[this.hash]},ch.prototype.rebind=ah.prototype.rebind;var fh=[].push;function ph(){var t=this,e=this.bindings.filter((function(t){return t.node&&t.node.checked})).map((function(t){return t.element.getAttribute("value")})),n=[];return e.forEach((function(e){t.bindings[0].arrayContains(n,e)||n.push(e)})),n}var mh=function(t){function e(e){if(t.call(this,e,"name"),this.checkboxName=!0,this.group=lh("checkboxes",this.model,ph),this.group.add(this),this.noInitialValue&&(this.group.noInitialValue=!0),this.group.noInitialValue&&this.element.getAttribute("checked")){var n=this.model.get(),i=this.element.getAttribute("value");this.arrayContains(n,i)||fh.call(n,i)}}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(){this.group.bound||this.group.bind()},n.getInitialValue=function(){return this.noInitialValue=!0,[]},n.getValue=function(){return this.group.value},n.handleChange=function(){this.isChecked=this.element.node.checked;var e=this.model.get();this.group.value=void 0===e?[]:e.slice();var n=this.element.getAttribute("value");this.isChecked&&!this.arrayContains(this.group.value,n)?this.group.value.push(n):!this.isChecked&&this.arrayContains(this.group.value,n)&&this.removeFromArray(this.group.value,n),this.lastValue=null,t.prototype.handleChange.call(this)},n.render=function(){t.prototype.render.call(this);var e=this.node,n=this.model.get(),i=this.element.getAttribute("value");m(n)?this.isChecked=this.arrayContains(n,i):this.isChecked=this.element.compare(n,i),e.name="{{"+this.model.getKeypath()+"}}",e.checked=this.isChecked,this.element.on("change",uh),this.node.attachEvent&&this.element.on("click",uh)},n.setFromNode=function(t){if(this.group.bindings.forEach((function(t){return t.wasUndefined=!0})),t.checked){var e=this.group.getValue();e.push(this.element.getAttribute("value")),this.group.model.set(e)}},n.unbind=function(){this.group.remove(this)},n.unrender=function(){var t=this.element;t.off("change",uh),this.node.attachEvent&&t.off("click",uh)},n.arrayContains=function(t,e){for(var n=t.length;n--;)if(this.element.compare(e,t[n]))return!0;return!1},n.removeFromArray=function(t,e){if(t)for(var n=t.length;n--;)this.element.compare(e,t[n])&&t.splice(n,1)},e}(ah),vh=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.getInitialValue=function(){return this.element.fragment?this.element.fragment.toString():""},n.getValue=function(){return this.element.node.innerHTML},n.render=function(){t.prototype.render.call(this);var e=this.element;e.on("change",uh),e.on("blur",uh),this.ractive.lazy||(e.on("input",uh),this.node.attachEvent&&e.on("keyup",uh))},n.setFromNode=function(t){this.model.set(t.innerHTML)},n.unrender=function(){var t=this.element;t.off("blur",uh),t.off("change",uh),t.off("input",uh),t.off("keyup",uh)},e}(ah);function gh(){uh.call(this);var t=this._ractive.binding.model.get();this.value=null==t?"":t}var yh=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.getInitialValue=function(){return""},n.getValue=function(){return this.node.value},n.render=function(){t.prototype.render.call(this);var e=this.ractive.lazy,n=!1,i=this.element;"lazy"in this.element&&(e=this.element.lazy),g(e)&&(n=+e,e=!1),this.handler=n?function(t){var e;return function(){var n=this;e&&clearTimeout(e),e=setTimeout((function(){n._ractive.binding.rendered&&uh.call(n),e=null}),t)}}(n):uh;var r=this.node;i.on("change",uh),"file"!==r.type&&(e||(i.on("input",this.handler),r.attachEvent&&i.on("keyup",this.handler)),i.on("blur",gh))},n.unrender=function(){var t=this.element;this.rendered=!1,t.off("change",uh),t.off("input",this.handler),t.off("keyup",this.handler),t.off("blur",gh)},e}(ah),bh=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.getInitialValue=function(){},n.getValue=function(){return this.node.files},n.render=function(){this.element.lazy=!1,t.prototype.render.call(this)},n.setFromNode=function(t){this.model.set(t.files)},e}(yh);function _h(t){return t.selectedOptions?kt(t.selectedOptions):t.options?kt(t.options).filter((function(t){return t.selected})):[]}var wh=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.getInitialValue=function(){return this.element.options.filter((function(t){return t.getAttribute("selected")})).map((function(t){return t.getAttribute("value")}))},n.getValue=function(){for(var t=this.element.node.options,e=t.length,n=[],i=0;i<e;i+=1){var r=t[i];if(r.selected){var s=r._ractive?r._ractive.value:r.value;n.push(s)}}return n},n.handleChange=function(){var e=this.attribute.getValue(),n=this.getValue();return!M(e)&&function(t,e){var n;if(!m(t)||!m(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}(n,e)||t.prototype.handleChange.call(this),this},n.render=function(){t.prototype.render.call(this),this.element.on("change",uh),M(this.model.get())&&this.handleChange()},n.setFromNode=function(t){for(var e=_h(t),n=e.length,i=new Array(n);n--;){var r=e[n];i[n]=r._ractive?r._ractive.value:r.value}this.model.set(i)},n.unrender=function(){this.element.off("change",uh)},e}(ah),kh=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.getInitialValue=function(){},n.getValue=function(){var t=parseFloat(this.node.value);return isNaN(t)?void 0:t},n.setFromNode=function(t){var e=parseFloat(t.value);isNaN(e)||this.model.set(e)},e}(yh),xh={},Sh=function(t){function e(e){var n;t.call(this,e,"checked"),this.siblings=(n=this.ractive._guid+this.element.getAttribute("name"),xh[n]||(xh[n]=[])),this.siblings.push(this)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.getValue=function(){return this.node.checked},n.handleChange=function(){Pr.start(),this.siblings.forEach((function(t){t.model.set(t.getValue())})),Pr.end()},n.render=function(){t.prototype.render.call(this),this.element.on("change",uh),this.node.attachEvent&&this.element.on("click",uh)},n.setFromNode=function(t){this.model.set(t.checked)},n.unbind=function(){_t(this.siblings,this)},n.unrender=function(){this.element.off("change",uh),this.node.attachEvent&&this.element.off("click",uh)},e}(ah);function Mh(){var t=this.bindings.filter((function(t){return t.node.checked}));if(t.length>0)return t[0].element.getAttribute("value")}var Eh=function(t){function e(e){var n=this;t.call(this,e,"name"),this.group=lh("radioname",this.model,Mh),this.group.add(this),e.checked&&(this.group.value=this.getValue()),this.attribute.interpolator.pathChanged=function(){return n.updateName()}}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(){this.group.bound||this.group.bind()},n.getInitialValue=function(){if(this.element.getAttribute("checked"))return this.element.getAttribute("value")},n.getValue=function(){return this.element.getAttribute("value")},n.handleChange=function(){this.node.checked&&(this.group.value=this.getValue(),t.prototype.handleChange.call(this)),this.updateName()},n.lastVal=function(t,e){if(this.group)return t?void(this.group.lastValue=e):this.group.lastValue},n.rebind=function(e,n){t.prototype.rebind.call(this,e,n),this.updateName()},n.rebound=function(e){t.prototype.rebound.call(this,e),this.updateName()},n.render=function(){t.prototype.render.call(this);var e=this.node;this.updateName(),e.checked=this.element.compare(this.model.get(),this.element.getAttribute("value")),this.element.on("change",uh),e.attachEvent&&this.element.on("click",uh)},n.setFromNode=function(t){t.checked&&this.group.model.set(this.element.getAttribute("value"))},n.unbind=function(){this.group.remove(this)},n.unrender=function(){var t=this.element;t.off("change",uh),this.node.attachEvent&&t.off("click",uh)},n.updateName=function(){this.node&&(this.node.name="{{"+this.model.getKeypath()+"}}")},e}(ah),Ch=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.forceUpdate=function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,Pr.scheduleTask((function(){return t.attribute.locked=!1})),this.model.set(e))},n.getInitialValue=function(){if(void 0===this.element.getAttribute("value")){var t=this.element.options,e=t.length;if(e){for(var n,i,r=e;r--;){var s=t[r];if(s.getAttribute("selected")){s.getAttribute("disabled")||(n=s.getAttribute("value")),i=!0;break}}if(!i)for(;++r<e;)if(!t[r].getAttribute("disabled")){n=t[r].getAttribute("value");break}return void 0!==n&&(this.element.attributeByName.value.value=n),n}}},n.getValue=function(){var t,e=this.node.options,n=e.length;for(t=0;t<n;t+=1){var i=e[t];if(e[t].selected&&!e[t].disabled)return i._ractive?i._ractive.value:i.value}},n.render=function(){t.prototype.render.call(this),this.element.on("change",uh)},n.setFromNode=function(t){var e=_h(t)[0];this.model.set(e._ractive?e._ractive.value:e.value)},n.unrender=function(){this.element.off("change",uh)},e}(ah);function Ah(t){return!(!t||!t.template.f||1!==t.template.f.length||t.template.f[0].s||t.template.f[0].t!==pe&&(3===t.template.f[0].t&&tt("It is not possible create a binding using a triple mustache."),1))}var Oh=/;\s*$/,Dh=function(t){function e(e){var n,i,r,s,a,o,u,h,l=this;if(t.call(this,e),this.name=e.template.e.toLowerCase(),this.parent=js(this.up,!1),this.parent&&"option"===this.parent.name)throw new Error("An <option> element cannot contain other elements (encountered <"+this.name+">)");this.decorators=[],this.attributeByName={};for(var c=this.template.m,d=c&&c.length||0,f=0;f<d;f++)if((u=c[f]).g)(l.statics||(l.statics={}))[u.n]=x(u.f)?u.f:u.n;else switch(u.t){case _e:case Ge:case We:case Ue:case Ke:r=Vc({owner:l,up:l.up,template:u}),i=u.n,n=n||(n=l.attributes=[]),"value"===i?s=r:"name"===i?o=r:"class"===i?a=r:n.push(r);break;case 74:l.delegate=!1;break;default:(h||(h=[])).push(u)}s&&n.push(s),o&&n.push(o),a&&n.unshift(a),h&&((n||(this.attributes=[])).push(new bu({owner:this,up:this.up,template:h})),h=[]),e.template.f&&!e.deferContent&&(this.fragment=new Fc({template:e.template.f,owner:this,cssIds:null})),this.binding=null}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(){var t=this.attributes;if(t){t.binding=!0;for(var e=t.length,n=0;n<e;n++)t[n].bind();t.binding=!1}this.fragment&&this.fragment.bind(),this.binding?this.binding.bind():this.recreateTwowayBinding()},n.createTwowayBinding=function(){if("twoway"in this?this.twoway:this.ractive.twoway){var t=function(t){var e=t.name,n=t.attributeByName;if("input"===e||"textarea"===e||"select"===e||n.contenteditable){var i=Ah(n.value),r=Ah(n.contenteditable);if((t.getAttribute("contenteditable")||r)&&i)return vh;if("input"===e){var s=t.getAttribute("type");if("radio"===s){var a=Ah(n.name),o=Ah(n.checked);return a&&o?(tt("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),Eh):a?Eh:o?Sh:null}if("checkbox"===s){var u=Ah(n.name),h=Ah(n.checked);return u&&h?hh:u?mh:h?hh:null}return"file"===s&&i?bh:"number"===s&&i||"range"===s&&i?kh:i?yh:null}return"select"===e&&i?t.getAttribute("multiple")?wh:Ch:"textarea"===e&&i?yh:null}}(this);if(t){var e=new t(this);if(e&&e.model)return e}}},n.destroyed=function(){this.attributes&&this.attributes.forEach(Ut),this.fragment&&this.fragment.destroyed()},n.detach=function(){return this.rendered||this.destroyed(),ba(this.node)},n.find=function(t,e){return this.node&&ra(this.node,t)?this.node:this.fragment?this.fragment.find(t,e):void 0},n.findAll=function(t,e){var n=e.result;ra(this.node,t)&&n.push(this.node),this.fragment&&this.fragment.findAll(t,e)},n.findNextNode=function(){return null},n.firstNode=function(){return this.node},n.getAttribute=function(t){if(this.statics&&t in this.statics)return this.statics[t];var e=this.attributeByName[t];return e?e.getValue():void 0},n.getContext=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];return this.fragment?(t=this.fragment).getContext.apply(t,e):(this.ctx||(this.ctx=new Zs(this.up,this)),e.unshift(l(this.ctx)),h.apply(null,e))},n.off=function(t,e,n){void 0===n&&(n=!1);var i=this.up.delegate,r=this.listeners&&this.listeners[t];if(r)if(_t(r,e),i){var s=(i.listeners||(i.listeners=[]))&&(i.listeners[t]||(i.listeners[t]=[]));s.refs&&! --s.refs&&i.off(t,Vh,!0)}else if(this.rendered){var a=this.node,o=a.addEventListener,u=a.removeEventListener;r.length?r.length&&!r.refs&&n&&(u.call(a,t,Fh,!0),o.call(a,t,Fh,!1)):u.call(a,t,Fh,n)}},n.on=function(t,e,n){void 0===n&&(n=!1);var i=this.up.delegate,r=(this.listeners||(this.listeners={}))[t]||(this.listeners[t]=[]);if(i){var s=(i.listeners||(i.listeners=[]))&&i.listeners[t]||(i.listeners[t]=[]);s.refs||(s.refs=0,i.on(t,Vh,!0)),s.refs++}else if(this.rendered){var a=this.node,o=a.addEventListener,u=a.removeEventListener;r.length?r.length&&!r.refs&&n&&(u.call(a,t,Fh,!1),o.call(a,t,Fh,!0)):o.call(a,t,Fh,n)}vt(this.listeners[t],e)},n.recreateTwowayBinding=function(){this.binding&&(this.binding.unbind(),this.binding.unrender()),(this.binding=this.createTwowayBinding())&&(this.binding.bind(),this.rendered&&this.binding.render())},n.rebound=function(e){t.prototype.rebound.call(this,e),this.attributes&&this.attributes.forEach((function(t){return t.rebound(e)})),this.binding&&this.binding.rebound(e)},n.render=function(t,e){var n,i=this;this.namespace=function(t){var e=t.getAttribute("xmlns");if(e)return e;if("svg"===t.name)return fa;var n=t.parent;return n?"foreignobject"===n.name?da:n.node.namespaceURI:t.ractive.el.namespaceURI}(this);var r=!1;if(e)for(var s;s=e.shift();){if(s.nodeName.toUpperCase()===i.template.e.toUpperCase()&&s.namespaceURI===i.namespace){i.node=n=s,r=!0;break}ba(s)}if(!r&&this.node&&(n=this.node,t.appendChild(n),r=!0),!n){var a=this.template.e;n=ia(this.namespace===da?a.toLowerCase():a,this.namespace,this.getAttribute("is")),this.node=n}c(n,"_ractive",{value:{proxy:this},configurable:!0}),this.statics&&f(this.statics).forEach((function(t){n.setAttribute(t,i.statics[t])})),r&&this.foundNode&&this.foundNode(n);var o=this.intro;if(o&&o.shouldFire("intro")&&(o.isIntro=!0,o.isOutro=!1,Pr.registerTransition(o)),this.fragment){var u=r?kt(n.childNodes):void 0;this.fragment.render(n,u),u&&u.forEach(ba)}if(r){this.binding&&this.binding.wasUndefined&&this.binding.setFromNode(n);for(var h=n.attributes.length;h--;){var l=n.attributes[h].name;l in i.attributeByName||i.statics&&l in i.statics||n.removeAttribute(l)}}if(this.up.cssIds&&n.setAttribute("data-ractive-css",this.up.cssIds.map((function(t){return"{"+t+"}"})).join(" ")),this.attributes)for(var d=this.attributes.length,p=0;p<d;p++)i.attributes[p].render();if(this.binding&&this.binding.render(),!this.up.delegate&&this.listeners){var m=this.listeners;for(var v in m)m[v]&&m[v].length&&i.node.addEventListener(v,Fh,!!m[v].refs)}r||t.appendChild(n),this.rendered=!0},n.shuffled=function(){t.prototype.shuffled.call(this),this.decorators.forEach(Jt)},n.toString=function(){var t,e=this,n=this.template.e,i=this.attributes&&this.attributes.map(Th).join("")||"";this.statics&&f(this.statics).forEach((function(t){return"class"!==t&&"style"!==t&&(i=" "+t+'="'+wa(e.statics[t])+'"'+i)})),"option"===this.name&&this.isSelected()&&(i+=" selected"),"input"===this.name&&(t=this.attributeByName.name,"radio"===this.getAttribute("type")&&(t||{}).interpolator&&this.getAttribute("value")===t.interpolator.model.get())&&(i+=" checked");var r=this.statics?this.statics.style:void 0,s=this.statics?this.statics.class:void 0;this.attributes&&this.attributes.forEach((function(t){"class"===t.name?s=(s||"")+(s?" ":"")+wa(t.getString()):"style"===t.name?(r=(r||"")+(r?" ":"")+wa(t.getString()))&&!Oh.test(r)&&(r+=";"):t.style?r=(r||"")+(r?" ":"")+t.style+": "+wa(t.getString())+";":t.inlineClass&&t.getValue()&&(s=(s||"")+(s?" ":"")+t.inlineClass)})),void 0!==r&&(i=" style"+(r?'="'+r+'"':"")+i),void 0!==s&&(i=" class"+(s?'="'+s+'"':"")+i),this.up.cssIds&&(i+=' data-ractive-css="'+this.up.cssIds.map((function(t){return"{"+t+"}"})).join(" ")+'"');var a="<"+n+i+">";return rn[this.name.toLowerCase()]?a:("textarea"===this.name&&void 0!==this.getAttribute("value")?a+=mn(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")||""),this.fragment&&(a+=this.fragment.toString(!/^(?:script|style)$/i.test(this.template.e))),a+="</"+n+">")},n.unbind=function(t){var e=this.attributes;if(e){e.unbinding=!0;for(var n=e.length,i=0;i<n;i++)e[i].unbind(t);e.unbinding=!1}this.binding&&this.binding.unbind(t),this.fragment&&this.fragment.unbind(t)},n.unrender=function(t){if(this.rendered){this.rendered=!1;var e=this.intro;e&&e.complete&&e.complete(),"option"===this.name?this.detach():t&&Pr.detachWhenReady(this);var n=this.outro;n&&n.shouldFire("outro")&&(n.isIntro=!1,n.isOutro=!0,Pr.registerTransition(n)),this.fragment&&this.fragment.unrender(),this.binding&&this.binding.unrender()}},n.update=function(){if(this.dirty){this.dirty=!1;var t=this.attributes;if(t)for(var e=t.length,n=0;n<e;n++)t[n].update();this.fragment&&this.fragment.update()}},e}(qo);function Th(t){var e=t.toString();return e?" "+e:""}var Nh=!1;function Ph(){Nh=!0}var Bh=!1;function Rh(){Bh=!0}var jh=!1;function Yh(){jh=!0}function Vh(t){var e,n=t.type,i=t.currentTarget,r=i._ractive&&i._ractive.proxy,s=t.target,a=!0,o=!1;Nh=Bh=jh=!1;var u=t.stopPropagation,h=t.stopImmediatePropagation,l=t.preventDefault;for(t.stopPropagation=Ph,t.stopImmediatePropagation=Rh,t.preventDefault=Yh;a&&s&&s!==i;){var c=s._ractive&&s._ractive.proxy;if(c&&c.up.delegate===r&&Lh(t,s,i)&&(e=c.listeners&&c.listeners[n]))for(var d=e.length,f=0;f<d;f++){if(a=!1!==e[f].call(s,t)&&a,Bh){a=!1;break}Nh&&(a=!1),jh&&!o&&(o=!0,l.call(t))}s=s.parentNode||s.correspondingUseElement}return a&&(a=!Nh&&!Bh),Nh&&u.call(t),Bh&&h.call(t),t.stopPropagation=u,t.stopImmediaitePropagation=h,t.preventDefault=l,a}var Ih=null!==C?C.UIEvent:null;function Lh(t,e,n){if(Ih&&t instanceof Ih)for(var i=e;i&&i!==n;){if(i.disabled)return!1;i=i.parentNode||i.correspondingUseElement}return!0}function Fh(t){var e,n=this._ractive.proxy;if(n.listeners&&(e=n.listeners[t.type]))for(var i=e.length,r=0;r<i;r++)e[r]&&e[r].call(this,t)}var Hh=function(t){function e(e){t.call(this,e),this.formBindings=[]}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.render=function(e,n){t.prototype.render.call(this,e,n),this.on("reset",zh)},n.unrender=function(e){this.off("reset",zh),t.prototype.unrender.call(this,e)},e}(Dh);function zh(){var t=this._ractive.proxy;Pr.start(),t.formBindings.forEach(Uh),Pr.end()}function Uh(t){t.model.set(t.resetValue)}var Wh=function(t,e){-1!==t.indexOf("*")&&J('Only component proxy-events may contain "*" wildcards, <'+e.name+" on-"+t+'="..."/> is not valid'),this.name=t,this.owner=e,this.handler=null},Kh=Wh.prototype;Kh.bind=function(){},Kh.render=function(t){var e=this,n=this.name,i=function(){var i=e.owner.node;e.owner.on(n,e.handler=function(e){return t.fire({node:i,original:e,event:e,name:n})})};"load"!==n?Pr.scheduleTask(i,!0):i()},Kh.unbind=function(){},Kh.unrender=function(){this.handler&&this.owner.off(this.name,this.handler)};var Gh=function(t,e,n,i){this.eventPlugin=t,this.owner=e,this.name=n,this.handler=null,this.args=i},$h=Gh.prototype;$h.bind=function(){},$h.render=function(t){var e=this;Pr.scheduleTask((function(){var n=e.owner.node;Gs.f=t.up,e.handler=e.eventPlugin.apply(e.owner.ractive,[n,function(i){return void 0===i&&(i={}),i.original?i.event=i.original:i.original=i.event,i.name=e.name,i.node=i.node||n,t.fire(i)}].concat(e.args||[])),Gs.f=null}))},$h.unbind=function(){},$h.unrender=function(){var t=this;this.handler?this.handler.teardown():Pr.scheduleTask((function(){return t.handler&&t.handler.teardown()}))};var Zh=function(t,e){this.component=t,this.name=e,this.handler=null},qh=Zh.prototype;qh.bind=function(t){var e=this.component.instance;this.handler=e.on(this.name,(function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n[0]instanceof Zs){var r=n.shift();r.component=e,t.fire(r,n)}else t.fire({},n);return!1}))},qh.render=function(){},qh.unbind=function(){this.handler.cancel()},qh.unrender=function(){};var Jh=/^(event|arguments|@node|@event|@context)(\..+)?$/,Qh=/^\$(\d+)(\..+)?$/,Xh=function(t){this.owner=t.owner||t.up.owner||js(t.up),this.element=this.owner.attributeByName?this.owner:js(t.up,!0),this.template=t.template,this.up=t.up,this.ractive=t.up.ractive,this.events=[]},tl=Xh.prototype;tl.bind=function(){var t=this;if(this.events.length&&(this.events.forEach((function(t){return t.unrender()})),this.events=[]),this.element.type===we||this.element.type===be)this.template.n.forEach((function(e){t.events.push(new Zh(t.element,e))}));else{var e;if(e=this.template.a){var n=e.r.map((function(e){var n=Zr(t.up,e);return n?n.get():void 0}));try{e=he(e.s,n.length).apply(null,n)}catch(t){e=null,tt("Failed to compute args for event on-"+this.template.n.join("- ")+": "+(t.message||t))}}this.template.n.forEach((function(n){var i=rt("events",t.ractive,n);i?t.events.push(new Gh(i,t.element,n,e)):t.events.push(new Wh(n,t.element))}))}this.models=null,vt(this.element.events||(this.element.events=[]),this),Xu(this,this.template),this.fn||(this.action=this.template.f),this.events.forEach((function(e){return e.bind(t)}))},tl.destroyed=function(){this.events.forEach((function(t){return t.unrender()}))},tl.fire=function(t,e){var n=this;void 0===e&&(e=[]);var i=t instanceof Zs&&t.refire?t:this.element.getContext(t);if(this.fn){var r=[],s=th(0,this.template,this.up,{specialRef:function(t){var e=Jh.exec(t);if(e)return{special:e[1],keys:e[2]?pt(e[2].substr(1)):[]};var n=Qh.exec(t);return n?{special:"arguments",keys:[n[1]-1].concat(n[2]?pt(n[2].substr(1)):[])}:void 0}});s&&s.forEach((function(s){if(!s)return r.push(void 0);if(s.special){var a,o=s.special;"@node"===o?a=n.element.node:"@event"===o?a=t&&t.event:"event"===o?(et("The event reference available to event directives is deprecated and should be replaced with @context and @event"),a=i):a="@context"===o?i:e;for(var u=s.keys.slice();a&&u.length;)a=a[u.shift()];return r.push(a)}if(s.wrapper)return r.push(s.wrapperValue);r.push(s.get())}));var a=this.ractive,o=a.event;a.event=i;var u=this.fn.apply(a,r),h=u.pop();if(!1===h){var l=t?t.original:void 0;l?(l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()):et("handler '"+this.template.n.join(" ")+"' returned false, but there is no event available to cancel")}else!u.length&&m(h)&&x(h[0])&&(h=ws(this.ractive,h.shift(),i,h));return a.event=o,h}return ws(this.ractive,this.action,i,e)},tl.handleChange=function(){},tl.render=function(){var t=this;this.events.forEach((function(e){return e.render(t)}))},tl.toString=function(){return""},tl.unbind=function(t){_t(this.element.events,this),this.events.forEach((function(e){return e.unbind(t)}))},tl.unrender=function(){this.events.forEach((function(t){return t.unrender()}))};var el=Xh.prototype;function nl(t,e,n,i){if(n){var r=n[0];if(r&&3===r.nodeType){var s=r.nodeValue.indexOf(i);n.shift(),0===s?r.nodeValue.length!==i.length&&n.unshift(r.splitText(i.length)):r.nodeValue=i}else r=t.node=A.createTextNode(i),n[0]?e.insertBefore(r,n[0]):e.appendChild(r);t.node=r}else t.node||(t.node=A.createTextNode(i)),e.appendChild(t.node)}el.firstNode=el.rebound=el.update=U;var il=function(t){function e(e,n){t.call(this,null,null,null,"@undefined"),this.root=e.ractive.viewmodel,this.template=n,this.rootLink=!0,this.template=n,this.fragment=e,this.rebound()}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.getKeypath=function(){return this.model?this.model.getKeypath():"@undefined"},n.rebound=function(){var t,e=this,n=this.fragment,i=this.template,r=this.base=ul(n,i);this.proxy&&rl(this);var s=this.proxy={rebind:function(n,o){o===r?(n=re(i,n,o))!==r&&(e.base=r=n):~(t=a.indexOf(o))&&(n=re(i.m[t].n,n,o))!==a[t]&&a.splice(t,1,n||se),n!==o&&(o.unregister(s),n&&n.addShuffleTask((function(){return n.register(s)})))},handleChange:function(){o()}};r.register(s);var a=this.members=i.m.map((function(t){return x(t)?{get:function(){return t}}:t.t===Te?((e=Zr(n,t.n)).register(s),e):((e=new Zu(n,t)).register(s),e);var e})),o=function(){var t=r&&r.joinAll(a.reduce((function(t,e){var n=e.get();return m(n)?t.concat(n):(t.push(dt(String(n))),t)}),[]));t!==e.model&&(e.model=t,e.relinking(t),Bt(),sl(e),e.fragment.shuffled())};o()},n.teardown=function(){rl(this),t.prototype.teardown.call(this)},n.unreference=function(){t.prototype.unreference.call(this),this.deps.length||this.refs||this.teardown()},n.unregister=function(e){t.prototype.unregister.call(this,e),this.deps.length||this.refs||this.teardown()},e}(ae);function rl(t){t.base&&t.base.unregister(t.proxy),t.models&&t.models.forEach((function(e){e.unregister&&e.unregister(t)}))}function sl(t){var e,n,i=t.deps.length;for(e=0;e<i;e++)(n=t.deps[e]).pathChanged&&n.pathChanged(),n.fragment&&n.fragment.pathModel&&n.fragment.pathModel.applyValue(t.getKeypath());for(i=t.children.length,e=0;e<i;e++)sl(t.children[e])}var al=Zu.prototype,ol=il.prototype;function ul(t,e){return e.r?Zr(t,e.r):e.x?new Zu(t,e.x):e.rx?new il(t,e.rx):void 0}ol.unreference=al.unreference,ol.unregister=al.unregister,ol.unregisterLink=al.unregisterLink;var hl=function(t){function e(e){t.call(this,e),e.owner&&(this.parent=e.owner),this.isStatic=!!e.template.s,this.model=null,this.dirty=!1}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(t){var e=this.template.y?this.template.y.containerFragment:this.containerFragment||this.up,n=t||ul(e,this.template);if(n){var i=n.get();if(this.isStatic)return this.model={get:function(){return i}},void n.unreference();n.register(this),this.model=n}},n.handleChange=function(){this.bubble()},n.rebind=function(t,e,n){if(!this.isStatic)return(t=re(this.template,t,e,this.up))!==this.model&&(this.model&&this.model.unregister(this),t&&t.addShuffleRegister(this,"mark"),this.model=t,n||this.handleChange(),!0)},n.rebound=function(t){if(this.model){if(this.model.rebound)this.model.rebound(t);else{var e=ul(this.template.y?this.template.y.containerFragment:this.containerFragment||this.up,this.template);e!==this.model&&(this.model.unregister(this),this.bind(e))}t&&this.bubble()}this.fragment&&this.fragment.rebound(t)},n.unbind=function(){this.isStatic||(this.model&&this.model.unregister(this),this.model=void 0)},e}($o);function ll(t){hl.call(this,t)}var cl=ll.prototype=Object.create(qo.prototype);h(cl,hl.prototype,{constructor:ll});var dl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bubble=function(){this.owner&&this.owner.bubble(),t.prototype.bubble.call(this)},n.detach=function(){return ba(this.node)},n.firstNode=function(){return this.node},n.getString=function(){return this.model?_a(this.model.get()):""},n.render=function(t,e){if(!yu()){var n=this.value=this.getString();this.rendered=!0,nl(this,t,e,n)}},n.toString=function(t){var e=this.getString();return t?mn(e):e},n.unrender=function(t){t&&this.detach(),this.rendered=!1},n.update=function(){if(this.dirty&&(this.dirty=!1,this.rendered)){var t=this.getString();t!==this.value&&(this.node.data=this.value=t)}},n.valueOf=function(){return this.model?this.model.get():void 0},e}(hl),fl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.render=function(e,n){t.prototype.render.call(this,e,n),this.node.defaultValue=this.node.value},n.compare=function(t,e){var n=this.getAttribute("value-comparator");if(n){if(k(n))return n(t,e);if(t&&e)return t[n]==e[n]}return t==e},e}(Dh),pl={true:!0,false:!1,null:null,undefined:void 0},ml=new RegExp("^(?:"+f(pl).join("|")+")"),vl=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,gl=/\$\{([^\}]+)\}/g,yl=/^\$\{([^\}]+)\}/,bl=/^\s*$/,_l=fe.extend({init:function(t,e){this.values=e.values,this.sp()},postProcess:function(t){return 1===t.length&&bl.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){if(!t.values)return null;var e=t.matchPattern(yl);return e&&a(t.values,e)?{v:t.values[e]}:void 0},function(t){var e=t.matchPattern(ml);if(e)return{v:pl[e]}},function(t){var e=t.matchPattern(vl);if(e)return{v:+e}},function(t){var e=En(t),n=t.values;return e&&n?{v:e.v.replace(gl,(function(t,e){return e in n?n[e]:e}))}:e},function(t){if(!t.matchString("{"))return null;var e,n={};if(t.sp(),t.matchString("}"))return{v:n};for(;e=wl(t);){if(n[e.key]=e.value,t.sp(),t.matchString("}"))return{v:n};if(!t.matchString(","))return null}return null},function(t){if(!t.matchString("["))return null;var e,n=[];if(t.sp(),t.matchString("]"))return{v:n};for(;e=t.read();){if(n.push(e.v),t.sp(),t.matchString("]"))return{v:n};if(!t.matchString(","))return null;t.sp()}return null}]});function wl(t){t.sp();var e=jn(t);if(!e)return null;var n={key:e};if(t.sp(),!t.matchString(":"))return null;t.sp();var i=t.read();return i?(n.value=i.v,n):null}function kl(t,e){return new _l(t,{values:e}).result}var xl=function(t){function e(e){t.call(this,e),this.name=e.template.n,this.owner=e.owner||e.up.owner||e.element||js(e.up),this.element=e.element||(this.owner.attributeByName?this.owner:js(e.up)),this.up=this.element.up,this.ractive=this.up.ractive,this.element.attributeByName[this.name]=this,this.value=e.template.f}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(){var t=this.template.f,e=this.element.instance.viewmodel;if(0===t)e.joinKey(this.name).set(!0);else if(x(t)){var n=kl(t);e.joinKey(this.name).set(n?n.value:t)}else m(t)&&function(t){var e=t.template.f,n=t.element.instance.viewmodel,i=n.value;if(1===e.length&&e[0].t===pe){var r=ul(t.up,e[0]),s=r.get(!1);e[0].s?!w(s)||e[0].x?n.joinKey(pt(t.name)).set(s):tt("Cannot copy non-computed object value from static mapping '"+t.name+"'"):(t.model=r,t.link=n.createLink(t.name,r,e[0].r,{mapping:!0}),M(s)&&!r.isReadonly&&t.name in i&&r.set(i[t.name])),r!==t.model&&r.unregister()}else t.boundFragment=new Fc({owner:t,template:e}).bind(),t.model=n.joinKey(pt(t.name)),t.model.set(t.boundFragment.valueOf()),t.boundFragment.bubble=function(){Fc.prototype.bubble.call(t.boundFragment),Pr.scheduleTask((function(){t.boundFragment.update(),t.model.set(t.boundFragment.valueOf())}))}}(this)},n.rebound=function(t){this.boundFragment&&this.boundFragment.rebound(t),this.link&&(this.model=ul(this.up,this.template.f[0]),this.element.instance.viewmodel.joinAll(pt(this.name)).link(this.model,this.name,{mapping:!0}))},n.render=function(){},n.unbind=function(t){this.model&&this.model.unregister(this),this.boundFragment&&this.boundFragment.unbind(t),this.element.bound&&this.link.target===this.model&&this.link.owner.unlink()},n.unrender=function(){},n.update=function(){this.dirty&&(this.dirty=!1,this.boundFragment&&this.boundFragment.update())},e}($o),Sl=function(t){function e(e){var n=e.template;n.a||(n.a={}),M(n.a.value)&&!("disabled"in n.a)&&(n.a.value=n.f||""),t.call(this,e),this.select=js(this.parent||this.up,!1,"select")}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(){if(this.select){var e=this.attributeByName.selected;if(e&&void 0!==this.select.getAttribute("value")){var n=this.attributes.indexOf(e);this.attributes.splice(n,1),delete this.attributeByName.selected}t.prototype.bind.call(this),this.select.options.push(this)}else t.prototype.bind.call(this)},n.bubble=function(){var e=this.getAttribute("value");this.node&&this.node.value!==e&&(this.node._ractive.value=e),t.prototype.bubble.call(this)},n.getAttribute=function(t){var e=this.attributeByName[t];return e?e.getValue():"value"===t&&this.fragment?this.fragment.valueOf():void 0},n.isSelected=function(){var t=this.getAttribute("value");if(M(t)||!this.select)return!1;var e=this.select.getAttribute("value");if(this.select.compare(e,t))return!0;if(this.select.getAttribute("multiple")&&m(e))for(var n=e.length;n--;)if(this.select.compare(e[n],t))return!0},n.render=function(e,n){t.prototype.render.call(this,e,n),this.attributeByName.value||(this.node._ractive.value=this.getAttribute("value"))},n.unbind=function(e){t.prototype.unbind.call(this,e),this.select&&_t(this.select.options,this)},e}(Dh);function Ml(t,e,n){var i=function(t,e,n){var i=Cl(e,n.owner);if(i)return i;var r,s=st("partials",t,e);if(s){if(k(i=s.partials[e])){if((r=i).styleSet)return r;(r=i.bind(s)).isOwner=a(s.partials,e),i=r.call(t,Sr)}if(i||""===i){if(!Sr.isParsed(i)){var o=Sr.parseFor(i,s);o.p&&tt("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var u=r?s:function(t,e){return a(t.partials,e)?t:El(t.constructor,e)}(s,e);u.partials[e]=i=o.t}return r&&(i._fn=r),i.v?(le(i),s.partials[e]=i.t):i}tt(nt,e,"partial","partial",{ractive:t})}}(t,e,n||{});if(i)return i;if(i=Sr.fromId(e,{noThrow:!0})){var r=Sr.parseFor(i,t);return r.p&&function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0;i<e.length;i++){var r=e[i];for(var s in r)!(s in t)&&a(r,s)&&(t[s]=r[s])}}(t.partials,r.p),t.partials[e]=r.t}}function El(t,e){if(t)return a(t.partials,e)?t:El(t.Parent,e)}function Cl(t,e){if(e){if(e.template&&e.template.p&&!m(e.template.p)&&a(e.template.p,t))return e.template.p[t];if(e.up&&e.up.owner)return Cl(t,e.up.owner)}}function Al(t){ll.call(this,t);var e=t.template;e.t===ke?this.yielder=1:e.t===ge&&(this.type=ye,this.macro=t.macro)}var Ol=Al.prototype=l(ll.prototype);function Dl(t){t.template.c&&(t.partial=[{t:me,n:He,f:t.partial}],h(t.partial[0],t.template.c),t.yielder?t.partial[0].y=t:t.partial[0].z=t.template.z)}function Tl(t,e,n){var i=e;return m(i)?t.partial=i:i&&w(i)?m(i.t)?t.partial=i.t:x(i.template)&&(t.partial=jl(i.template,i.template,t.ractive).t):k(i)&&i.styleSet?(t.fn=i,t.fragment&&(t.fragment.cssIds=i._cssIds)):null!=i&&((i=Ml(t.ractive,""+i,t.containerFragment||t.up))?(t.name=e,i.styleSet?(t.fn=i,t.fragment&&(t.fragment.cssIds=i._cssIds)):t.partial=i):n?t.partial=jl(""+e,""+e,t.ractive).t:t.name=e),t.partial}function Nl(t){if(Tl(this,t,!0),!this.initing){if(this.dirtyTemplate=!0,this.fnTemplate=this.partial,!this.updating){var e=Pr.start();return this.bubble(),Pr.end(),e}this.bubble(),Pr.promise()}}function Pl(t,e){var n=this.fragment.aliases||(this.fragment.aliases={});e?n[e]=this._data.joinAll(pt(t)):n[t]=this._data}h(Ol,{constructor:Al,bind:function(){var t=this.template;if(this.yielder){if(this.container=this.up.ractive,this.component=this.container.component,this.containerFragment=this.up,!this.component)return this.fragment=new Fc({owner:this,template:[]}),void this.fragment.bind();this.up=this.component.up,t.r||t.x||t.rx||(this.refName="content")}this.macro?this.fn=this.macro:(this.refName||(this.refName=t.r),this.refName&&Tl(this,this.refName),this.partial||this.fn||(ll.prototype.bind.call(this),this.model&&Tl(this,this.model.get()))),this.partial||this.fn||et("Could not find template for partial '"+this.name+"'"),function(t,e){t.partial=t.last=e,Dl(t);var n={owner:t,template:t.partial};t.yielder&&(n.ractive=t.container.parent),t.fn&&(n.cssIds=t.fn._cssIds),t.fragment=new Fc(n)}(this,this.partial||[]),this.fn&&Rl(this),this.fragment.bind()},bubble:function(){this.dirty||(this.dirty=!0,this.yielder?this.containerFragment.bubble():this.up.bubble())},findNextNode:function(){return(this.containerFragment||this.up).findNextNode(this)},handleChange:function(){this.dirtyTemplate=!0,this.externalChange=!0,this.bubble()},rebound:function(t){var e=this;this._attrs&&f(this._attrs).forEach((function(n){return e._attrs[n].rebound(t)})),ll.prototype.rebound.call(this,t)},refreshAttrs:function(){var t=this;f(this._attrs).forEach((function(e){t.handle.attributes[e]=!t._attrs[e].items.length||t._attrs[e].valueOf()}))},resetTemplate:function(){var t=this;if(this.fn&&this.proxy){if(this.last=0,!this.externalChange)return this.partial=this.fnTemplate,!0;k(this.proxy.teardown)&&this.proxy.teardown(),this.fn=this.proxy=null}if(this.partial=null,this.refName&&(this.partial=Ml(this.ractive,this.refName,this.up)),!this.partial&&this.model&&Tl(this,this.model.get()),!this.fn){if(this.last&&this.partial===this.last)return!1;this.partial&&(this.last=this.partial,Dl(this))}return this.unbindAttrs(),this.fn?(Rl(this),k(this.proxy.render)&&Pr.scheduleTask((function(){return t.proxy.render()}))):this.partial||et("Could not find template for partial '"+this.name+"'"),!0},render:function(t,e){this.fn&&this.fn._cssDef&&!this.fn._cssDef.applied&&$a(),this.fragment.render(t,e),this.proxy&&k(this.proxy.render)&&this.proxy.render()},unbind:function(t){this.fragment.unbind(t),this.unbindAttrs(t),ll.prototype.unbind.call(this,t)},unbindAttrs:function(t){var e=this;this._attrs&&f(this._attrs).forEach((function(n){e._attrs[n].unbind(t)}))},unrender:function(t){this.proxy&&k(this.proxy.teardown)&&this.proxy.teardown(),this.fragment.unrender(t)},update:function(){var t=this,e=this.proxy;this.updating=1,this.dirtyAttrs&&(this.dirtyAttrs=!1,f(this._attrs).forEach((function(e){return t._attrs[e].update()})),this.refreshAttrs(),k(e.update)&&e.update(this.handle.attributes)),this.dirtyTemplate&&(this.dirtyTemplate=!1,this.resetTemplate()&&this.fragment.resetTemplate(this.partial||[])),this.dirty&&(this.dirty=!1,e&&k(e.invalidate)&&e.invalidate(),this.fragment.update()),this.externalChange=!1,this.updating=0}});var Bl="extra-attributes";function Rl(t){var e=t.fn,n=t.fragment,i=t.template=h({},t.template),r=t.handle=n.getContext({proxy:t,aliasLocal:Pl,name:t.template.e||t.name,attributes:{},setTemplate:Nl.bind(t),template:i,macro:e});if(i.p||(i.p={}),i.p=r.partials=h({},i.p),a(i.p,"content")||(i.p.content=i.f||[]),m(e.attributes)){t._attrs={};var s=function(){this.dirty=!0,t.dirtyAttrs=!0,t.bubble()};if(m(i.m)){var o=i.m;i.p[Bl]=i.m=o.filter((function(t){return!~e.attributes.indexOf(t.n)})),o.filter((function(t){return~e.attributes.indexOf(t.n)})).forEach((function(e){var n=new Fc({template:e.f,owner:t});n.bubble=s,n.findFirstNode=U,t._attrs[e.n]=n}))}else i.p[Bl]=[]}else i.p[Bl]=i.m;t._attrs&&(f(t._attrs).forEach((function(e){t._attrs[e].bind()})),t.refreshAttrs()),t.initing=1,t.proxy=e.call(t.ractive,r,r.attributes)||{},t.partial||(t.partial=[]),t.fnTemplate=t.partial,t.initing=0,Dl(t),n.resetTemplate(t.partial)}function jl(t,e,n){var i;try{i=Sr.parse(e,Sr.getParseOptions(n))}catch(e){tt("Could not parse partial from expression '"+t+"'\n"+e.message)}return i||{t:[]}}var Yl=function(t,e,n){this.value=this.key=t,this.context=e,this.isReadonly=this.isKey=!0,this.deps=[],this.links=[],this.children=[],this.instance=n},Vl=Yl.prototype;Vl.applyValue=function(t){t!==this.value&&(this.value=this.key=t,this.deps.forEach(Wt),this.links.forEach(Wt),this.children.forEach((function(t){t.applyValue(t.context.getKeypath(t.instance))})))},Vl.destroyed=function(){this.upstream&&this.upstream.unregisterChild(this)},Vl.get=function(t){return t&&Ft(this),mt(this.value)},Vl.getKeypath=function(){return mt(this.value)},Vl.has=function(){return!1},Vl.rebind=function(t,e){for(var n=this.deps.length;n--;)this.deps[n].rebind(t,e,!1);for(n=this.links.length;n--;)this.links[n].relinking(t,!1)},Vl.register=function(t){this.deps.push(t)},Vl.registerChild=function(t){vt(this.children,t),t.upstream=this},Vl.registerLink=function(t){vt(this.links,t)},Vl.unregister=function(t){_t(this.deps,t)},Vl.unregisterChild=function(t){_t(this.children,t)},Vl.unregisterLink=function(t){_t(this.links,t)},Yl.prototype.reference=U,Yl.prototype.unreference=U;var Il=/^"(\\"|[^"])+"$/,Ll=function(t){this.parent=t.owner.up,this.up=this,this.owner=t.owner,this.ractive=this.parent.ractive,this.delegate=!1!==this.ractive.delegate&&(this.parent.delegate||function(t){var e,n,i=t;t:for(;i;){for(n=0;!n&&i;){if(i.owner.type===ge&&(n=i.owner),i.owner.ractive&&!1===i.owner.ractive.delegate)break t;i=i.parent||i.componentParent}if(!1===n.delegate)break t;for(e=n.delegate||n;i&&!i.iterations;){if(i.owner.ractive&&!1===i.owner.ractive.delegate)break t;i=i.parent||i.componentParent}}return e}(this.parent)),this.delegate&&!1===this.delegate.delegate&&(this.delegate=!1),this.delegate&&(this.delegate.delegate=this.delegate),this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.context=null,this.rendered=!1,this.iterations=[],this.template=t.template,this.indexRef=t.indexRef,this.keyRef=t.keyRef,this.pendingNewIndices=null,this.previousIterations=null,this.isArray=!1},Fl=Ll.prototype;function Hl(t,e,n,i){var r=t.context?Ul(t,0,n):void 0;e.key=n,e.index=i,e.context=r,t.source&&(e.lastValue=r&&r.get()),e.idxModel&&e.idxModel.applyValue(i),e.keyModel&&e.keyModel.applyValue(n),e.pathModel&&(e.pathModel.context=r,e.pathModel.applyValue(r.getKeypath())),e.rootModel&&(e.rootModel.context=r,e.rootModel.applyValue(r.getKeypath(e.ractive.root)));var s=e.aliases;t.aliases&&t.aliases.forEach((function(t){"."===t.x.r?s[t.n]=r:"@index"===t.x.r?s[t.n]=e.getIndex():"@key"===t.x.r?s[t.n]=e.getKey():"@keypath"===t.x.r?s[t.n]=e.getKeypath():"@rootpath"===t.x.r&&(s[t.n]=e.getKeypath(!0))}))}function zl(t,e){var n=t.context.get()||[];return!0===e?n.slice():n.map((function(t){return e.reduce((function(t,e){return t&&t[e]}),t)}))}function Ul(t,e,n){if(t.source){var i,r=t.source.model.get();if(r.indexOf&&~(i=r.indexOf(t.context.joinKey(n).get())))return t.source.model.joinKey(i)}return t.context.joinKey(n)}Fl.bind=function(t){var e=this;this.context=t,this.bound=!0;var n=t.get(),i=this.aliases=this.owner.template.z&&this.owner.template.z.slice(),r=i&&i.find((function(t){return"shuffle"===t.n}));r&&r.x&&r.x.x&&("true"===r.x.x.s?this.shuffler=!0:Il.test(r.x.x.s)&&(this.shuffler=pt(r.x.x.s.slice(1,-1)))),this.shuffler&&(this.values=zl(this,this.shuffler)),this.source&&this.source.model.unbind(this.source);var s=t.isComputed&&i&&i.find((function(t){return"source"===t.n}));if(s&&s.x&&s.x.r){var a=ul(this,s.x);this.source={handleChange:function(){},rebind:function(t){this.model.unregister(this),this.model=t,t.register(this)}},this.source.model=a,a.register(this.source)}if(this.isArray=m(n)){this.iterations=[];for(var o=this.length=n.length,u=0;u<o;u+=1)e.iterations[u]=e.createIteration(u,u)}else if(y(n)){if(this.isArray=!1,this.indexRef){var h=this.indexRef.split(",");this.keyRef=h[0],this.indexRef=h[1]}var l=f(n);this.length=l.length,this.iterations=l.map((function(t,n){return e.createIteration(t,n)}))}return this},Fl.bubble=function(t){this.bubbled||(this.bubbled=[]),this.bubbled.push(t),this.rebounding||this.owner.bubble()},Fl.createIteration=function(t,e){var n=new Fc({owner:this,template:this.template});return n.isIteration=!0,n.delegate=this.delegate,this.aliases&&(n.aliases={}),Hl(this,n,t,e),n.bind(n.context)},Fl.destroyed=function(){for(var t=this.iterations.length,e=0;e<t;e++)this.iterations[e].destroyed();this.pathModel&&this.pathModel.destroyed(),this.rootModel&&this.rootModel.destroyed()},Fl.detach=function(){var t=ga();return this.iterations.forEach((function(e){return t.appendChild(e.detach())})),t},Fl.find=function(t,e){return xt(this.iterations,(function(n){return n.find(t,e)}))},Fl.findAll=function(t,e){return this.iterations.forEach((function(n){return n.findAll(t,e)}))},Fl.findAllComponents=function(t,e){return this.iterations.forEach((function(n){return n.findAllComponents(t,e)}))},Fl.findComponent=function(t,e){return xt(this.iterations,(function(n){return n.findComponent(t,e)}))},Fl.findContext=function(){return this.context},Fl.findNextNode=function(t){if(t.index<this.iterations.length-1)for(var e=t.index+1;e<this.iterations.length;e++){var n=this.iterations[e].firstNode(!0);if(n)return n}return this.owner.findNextNode()},Fl.firstNode=function(t){return this.iterations[0]?this.iterations[0].firstNode(t):null},Fl.getLast=function(){return this.lastModel||(this.lastModel=new Yl(this.length-1))},Fl.rebind=function(t){var e=this;this.context=t,this.source||t&&this.iterations.forEach((function(t){Hl(e,t,t.key,t.index)}))},Fl.rebound=function(t){var e=this;this.context=this.owner.model,this.iterations.forEach((function(n,i){n.context=Ul(e,0,i),n.rebound(t)}))},Fl.render=function(t,e){var n=this.iterations;if(n)for(var i=n.length,r=0;r<i;r++)n[r].render(t,e);this.rendered=!0},Fl.shuffle=function(t,e){var n=this;this.pendingNewIndices||(this.previousIterations=this.iterations.slice()),this.pendingNewIndices||(this.pendingNewIndices=[]),this.pendingNewIndices.push(t);var i=[];t.forEach((function(t,r){if(-1!==t){var s=n.iterations[r];i[t]=s,t!==r&&s&&(s.dirty=!0,e&&(s.shouldRebind=1))}})),this.iterations=i,e||this.bubble()},Fl.shuffled=function(){this.iterations.forEach(Jt)},Fl.toString=function(t){return this.iterations?this.iterations.map(t?ie:ne).join(""):""},Fl.unbind=function(t){this.bound=!1,this.source&&this.source.model.unregister(this.source);for(var e=this.pendingNewIndices?this.previousIterations:this.iterations,n=e.length,i=0;i<n;i++)e[i].unbind(t);return this},Fl.unrender=function(t){for(var e=this.iterations.length,n=0;n<e;n++)this.iterations[n].unrender(t);if(this.pendingNewIndices&&this.previousIterations){e=this.previousIterations.length;for(var i=0;i<e;i++)this.previousIterations[i].unrender(t)}this.rendered=!1},Fl.update=function(){var t=this;if(this.pendingNewIndices)return this.bubbled.length=0,void this.updatePostShuffle();if(!this.updating){if(this.updating=!0,this.shuffler){var e=zl(this,this.shuffler),n=St(this.values,e);n.same?this.iterations.forEach(ee):(this.shuffle(n,!0),this.updatePostShuffle())}else{for(var i=this.iterations.length,r=0;r<i;r++){var s=t.iterations[r];s&&s.idxModel&&s.idxModel.applyValue(r)}var a,o,u,h=this.context.get(),l=this.isArray,c=!0;if(this.isArray=m(h)){if(this.source){this.rebounding=1;var d=this.source.model.get();this.iterations.forEach((function(e,n){n<h.length&&e.lastValue!==h[n]&&~(u=d.indexOf(h[n]))&&(Hl(t,e,n,n),e.rebound(!0))})),this.rebounding=0}l&&(c=!1,this.iterations.length>h.length&&(a=this.iterations.splice(h.length)))}else if(y(h)&&!l)for(c=!1,a=[],o={},u=this.iterations.length;u--;){var p=t.iterations[u];p.key in h?o[p.key]=!0:(t.iterations.splice(u,1),a.push(p))}var v,g,b=m(h)?h.length:y(h)?f(h).length:0;if(this.length=b,this.updateLast(),c&&(a=this.iterations,this.iterations=[]),a){i=a.length;for(var _=0;_<i;_++)a[_].unbind().unrender(!0)}if(!c&&this.isArray&&this.bubbled&&this.bubbled.length){var w=this.bubbled;this.bubbled=[],i=w.length;for(var k=0;k<i;k++)t.iterations[w[k]]&&t.iterations[w[k]].update()}else{i=this.iterations.length;for(var x=0;x<i;x++)t.iterations[x].update()}if(b>this.iterations.length){if(v=this.rendered?ga():null,u=this.iterations.length,m(h))for(;u<h.length;)g=t.createIteration(u,u),t.iterations.push(g),t.rendered&&g.render(v),u+=1;else if(y(h)){if(this.indexRef&&!this.keyRef){var S=this.indexRef.split(",");this.keyRef=S[0],this.indexRef=S[1]}f(h).forEach((function(e){o&&e in o||(g=t.createIteration(e,u),t.iterations.push(g),t.rendered&&g.render(v),u+=1)}))}if(this.rendered){var M=this.parent.findParentNode(),E=this.parent.findNextNode(this.owner);M.insertBefore(v,E)}}}this.updating=!1}},Fl.updateLast=function(){this.lastModel&&this.lastModel.applyValue(this.length-1)},Fl.updatePostShuffle=function(){var t=this,e=this.pendingNewIndices[0],n=this.rendered?this.parent.findParentNode():null,i=n&&this.owner.findNextNode(),r=n?ga():null;this.pendingNewIndices.slice(1).forEach((function(t){e.forEach((function(n,i){e[i]=t[n]}))}));var s,a,o,u,h,l,c=this.length=this.context.get().length,d=this.previousIterations,f=this.iterations,p=this.context.get(),m={},v=new Array(e.length);for(e.forEach((function(t,e){return v[t]=e})),this.updateLast(),s=o=0;s<c;)M(v[s])?(u=f[s]=t.createIteration(s,s),n&&(h=(h=d[o])&&n&&h.firstNode()||i,u.render(r),n.insertBefore(r,h)),s++):(-1===(a=e[o])?(d[o]&&d[o].unbind().unrender(!0),d[o++]=0):a>s?(m[a]=d[o],d[o++]=null):(f[s]=u=f[s]||m[s]||t.createIteration(s,s),(m[s]||o!==s)&&(l=t.source&&u.lastValue!==p[s],Hl(t,u,s,s)),!n||!m[s]&&d[o]||(h=(h=d[o+1])&&n&&h.firstNode()||i,m[s]?n.insertBefore(u.detach(),h):(u.render(r),n.insertBefore(r,h))),d[o++]=0,s++),u&&w(u)&&((u.shouldRebind||l)&&(u.rebound(l),u.shouldRebind=0),u.update(),u.shuffled()));for(var g=d.length,y=0;y<g;y++)d[y]&&d[y].unbind().unrender(!0);this.shuffler&&(this.values=zl(this,this.shuffler)),this.pendingNewIndices=null,this.previousIterations=null},Ll.prototype.getContext=es,Ll.prototype.getKeypath=zc;var Wl=function(t){function e(e){t.call(this,e),this.isAlias=19===e.template.t,this.sectionType=e.template.n||this.isAlias&&He||null,this.templateSectionType=this.sectionType,this.subordinate=1===e.template.l,this.fragment=null}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bind=function(){t.prototype.bind.call(this),this.subordinate&&(this.sibling=this.up.items[this.up.items.indexOf(this)-1],this.sibling.nextSibling=this),this.model||this.isAlias?(this.dirty=!0,this.update()):!this.sectionType||this.sectionType!==Le||this.sibling&&this.sibling.isTruthy()||(this.fragment=new Fc({owner:this,template:this.template.f}).bind())},n.bubble=function(){!this.dirty&&this.yield?(this.dirty=!0,this.containerFragment.bubble()):t.prototype.bubble.call(this)},n.detach=function(){var e=this.fragment||this.detached;return e?e.detach():t.prototype.detach.call(this)},n.findNextNode=function(){return(this.containerFragment||this.up).findNextNode(this)},n.isTruthy=function(){if(this.subordinate&&this.sibling.isTruthy())return!0;var t=this.model?this.model.isRoot?this.model.value:this.model.get():void 0;return!(!t||54!==this.templateSectionType&&function(t){return!t||m(t)&&0===t.length||y(t)&&0===f(t).length}(t))},n.rebind=function(e,n,i){t.prototype.rebind.call(this,e,n,i)&&this.fragment&&this.sectionType!==Ie&&this.sectionType!==Le&&this.fragment.rebind(e)},n.rebound=function(e){this.model&&(this.model.rebound?this.model.rebound(e):(t.prototype.unbind.call(this),t.prototype.bind.call(this),this.sectionType!==He&&54!==this.sectionType&&this.sectionType!==Fe||this.fragment&&this.fragment.rebind(this.model),e&&this.bubble())),this.fragment&&this.fragment.rebound(e)},n.render=function(t,e){this.rendered=!0,this.fragment&&this.fragment.render(t,e)},n.shuffle=function(t){this.fragment&&this.sectionType===Fe&&this.fragment.shuffle(t)},n.unbind=function(e){t.prototype.unbind.call(this,e),this.fragment&&this.fragment.unbind(e)},n.unrender=function(t){this.rendered&&this.fragment&&this.fragment.unrender(t),this.rendered=!1},n.update=function(){var t=this;if(this.dirty&&(this.fragment&&this.sectionType!==Ie&&this.sectionType!==Le&&(this.fragment.context=this.model),this.model||this.sectionType===Le||this.isAlias)){this.dirty=!1;var e,n=this.model?this.model.isRoot?this.model.value:this.model.get():void 0,i=!this.subordinate||!this.sibling.isTruthy(),r=this.sectionType;if(this.yield&&this.yield!==n?(this.up=this.containerFragment,this.container=null,this.yield=null,this.rendered&&this.fragment.unbind().unrender(!0),this.fragment=null):this.rendered&&!this.yield&&n instanceof Zs&&(this.rendered&&this.fragment&&this.fragment.unbind().unrender(!0),this.fragment=null),null!==this.sectionType&&null!==this.templateSectionType||(this.sectionType=function(t,e){return e||m(t)?Fe:b(t)?54:M(t)?null:Ie}(n,this.template.i)),r&&r!==this.sectionType&&this.fragment&&(this.rendered&&this.fragment.unbind().unrender(!0),this.fragment=null),this.sectionType===Fe||this.sectionType===He||i&&(this.sectionType===Le?!this.isTruthy():this.isTruthy())||this.isAlias)if(this.fragment||(this.fragment=this.detached),this.fragment)this.detached&&(Kl(this,this.fragment),this.detached=!1,this.rendered=!0),this.fragment.bound||this.fragment.bind(this.model),this.fragment.update();else if(this.sectionType===Fe)e=new Ll({owner:this,template:this.template.f,indexRef:this.template.i}).bind(this.model);else{var s=this.sectionType!==Ie&&this.sectionType!==Le?this.model:null;n instanceof Zs&&(this.yield=n,this.containerFragment=this.up,this.up=n.fragment,this.container=n.ractive,s=void 0),e=new Fc({owner:this,template:this.template.f}).bind(s)}else this.fragment&&this.rendered?!0!==ss?this.fragment.unbind().unrender(!0):(this.unrender(!1),this.detached=this.fragment,Pr.promise().then((function(){t.detached&&t.detach()}))):this.fragment&&this.fragment.unbind(),this.fragment=null;e&&(this.rendered&&Kl(this,e),this.fragment=e),this.nextSibling&&(this.nextSibling.dirty=!0,this.nextSibling.update())}},e}(ll);function Kl(t,e){var n=(t.containerFragment||t.up).findNextNode(t);if(n){var i=ga();e.render(i),n.parentNode.insertBefore(i,n)}else e.render(t.up.findParentNode())}var Gl,$l=function(t){function e(e){t.call(this,e),this.options=[]}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.foundNode=function(t){if(this.binding){var e=_h(t);e.length>0&&(this.selectedOptions=e)}},n.render=function(e,n){t.prototype.render.call(this,e,n),this.sync();for(var i=this.node,r=i.options.length;r--;)i.options[r].defaultSelected=i.options[r].selected;this.rendered=!0},n.sync=function(){var t=this,e=this.node;if(e){var n=kt(e.options);if(this.selectedOptions)return n.forEach((function(e){t.selectedOptions.indexOf(e)>=0?e.selected=!0:e.selected=!1})),this.binding.setFromNode(e),void delete this.selectedOptions;var i,r=this.getAttribute("value"),s=this.getAttribute("multiple"),a=s&&m(r);void 0!==r?(n.forEach((function(e){var n=e._ractive?e._ractive.value:e.value,o=s?a&&t.valueContains(r,n):t.compare(r,n);o&&(i=!0),e.selected=o})),i||s||this.binding&&this.binding.forceUpdate()):this.binding&&this.binding.forceUpdate&&this.binding.forceUpdate()}},n.valueContains=function(t,e){for(var n=t.length;n--;)if(this.compare(e,t[n]))return!0},n.compare=function(t,e){var n=this.getAttribute("value-comparator");if(n){if(k(n))return n(e,t);if(e&&t)return e[n]==t[n]}return e==t},n.update=function(){var e=this.dirty;t.prototype.update.call(this),e&&this.sync()},e}(Dh),Zl=function(t){function e(e){var n=e.template;e.deferContent=!0,t.call(this,e),this.attributeByName.value||(n.f&&Ah({template:n})?(this.attributes||(this.attributes=[])).push(Vc({owner:this,template:{t:_e,f:n.f,n:"value"},up:this.up})):this.fragment=new Fc({owner:this,cssIds:null,template:n.f}))}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.bubble=function(){var t=this;this.dirty||(this.dirty=!0,this.rendered&&!this.binding&&this.fragment&&Pr.scheduleTask((function(){t.dirty=!1,t.node.value=t.fragment.toString()})),this.up.bubble())},e}(fl),ql=function(t){function e(e){t.call(this,e),this.type=1}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.detach=function(){return ba(this.node)},n.firstNode=function(){return this.node},n.render=function(t,e){yu()||(this.rendered=!0,nl(this,t,e,this.template))},n.toString=function(t){return t?mn(this.template):this.template},n.unrender=function(t){this.rendered&&t&&this.detach(),this.rendered=!1},n.valueOf=function(){return this.template},e}($o),Jl=ql.prototype;Jl.bind=Jl.unbind=Jl.update=U;var Ql,Xl="hidden";if(A){var tc;if(Xl in A)tc="";else for(var ec=P.length;ec--;){var nc=P[ec];if((Xl=nc+"Hidden")in A){tc=nc;break}}void 0!==tc?(A.addEventListener(tc+"visibilitychange",ic),ic()):("onfocusout"in A?(A.addEventListener("focusout",rc),A.addEventListener("focusin",sc)):(C.addEventListener("pagehide",rc),C.addEventListener("blur",rc),C.addEventListener("pageshow",sc),C.addEventListener("focus",sc)),Gl=!0)}function ic(){Gl=!A[Xl]}function rc(){Gl=!1}function sc(){Gl=!0}if(O){var ac={},oc=ia("div").style;Ql=function(t){if(!ac[t]){var e=Ji(t);if(void 0!==oc[t])ac[t]=e;else for(var n=P.length;n--;){var i="-"+P[n]+"-"+e;if(void 0!==oc[i]){ac[t]=i;break}}}return ac[t]}}else Ql=null;var uc,hc=Ql,lc=new RegExp("^(?:"+P.join("|")+")([A-Z])");if(O){var cc,dc,fc,pc,mc,vc,gc=ia("div").style,yc=function(t){return t},bc={},_c={};void 0!==gc.transition?(cc="transition",dc="transitionend",fc=!0):void 0!==gc.webkitTransition?(cc="webkitTransition",dc="webkitTransitionEnd",fc=!0):fc=!1,cc&&(pc=cc+"Duration",mc=cc+"Property",vc=cc+"TimingFunction"),uc=function(t,e,n,i,r){setTimeout((function(){var s,a,o;function u(){clearTimeout(o)}function h(){s&&a&&(t.unregisterCompleteHandler(u),t.ractive.fire(t.name+":end",t.node,t.isIntro),r())}var l=(t.node.namespaceURI||"")+t.node.tagName,c=t.node.style,d={property:c[mc],timing:c[vc],duration:c[pc]};function f(e){if(e.target===t.node){var n=i.indexOf(e.propertyName);-1!==n&&i.splice(n,1),i.length||(clearTimeout(o),p())}}function p(){c[mc]=d.property,c[vc]=d.duration,c[pc]=d.timing,t.node.removeEventListener(dc,f,!1),a=!0,h()}t.node.addEventListener(dc,f,!1),o=setTimeout((function(){i=[],p()}),n.duration+(n.delay||0)+50),t.registerCompleteHandler(u),c[mc]=i.join(",");var m,v=(m=n.easing||"linear")?(lc.test(m)&&(m="-"+m),m.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))):"";c[vc]=v;var g=c[vc]===v;c[pc]=n.duration/1e3+"s",setTimeout((function(){for(var r,o,u,d,p,m,v=i.length,y=null,b=[];v--;){if(u=i[v],r=l+u,g&&fc&&!_c[r]){var _=c[u];c[u]=e[u],r in bc||(y=t.getStyle(u),bc[r]=t.getStyle(u)!=e[u],_c[r]=!bc[r],_c[r]&&(c[u]=_))}g&&fc&&!_c[r]||(null===y&&(y=t.getStyle(u)),-1===(o=i.indexOf(u))?tt("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):i.splice(o,1),d=/[^\d]*$/.exec(y)[0],(p=at(parseFloat(y),parseFloat(e[u])))?b.push({name:u,interpolator:p,suffix:d}):c[u]=e[u],y=null)}b.length?(x(n.easing)?(m=t.ractive.easing[n.easing])||(et(it(n.easing,"easing")),m=yc):m=k(n.easing)?n.easing:yc,new Ir({duration:n.duration,easing:m,step:function(t){for(var e=b.length;e--;){var n=b[e];c[n.name]=n.interpolator(t)+n.suffix}},complete:function(){s=!0,h()}})):s=!0,i.length?c[mc]=i.join(","):(c[mc]="none",t.node.removeEventListener(dc,f,!1),a=!0,h())}),0)}),n.delay||0)}}else uc=null;var wc=uc,kc=C&&C.getComputedStyle,xc=Promise.resolve(),Sc={t0:"intro-outro",t1:"intro",t2:"outro"},Mc=function(t){this.owner=t.owner||t.up.owner||js(t.up),this.element=this.owner.attributeByName?this.owner:js(t.up),this.ractive=this.owner.ractive,this.template=t.template,this.up=t.up,this.options=t,this.onComplete=[]},Ec=Mc.prototype;Ec.animateStyle=function(t,e,n){var i,r=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");return Gl?(x(t)?(i={})[t]=e:(i=t,n=e),new Promise((function(t){if(!n.duration)return r.setStyle(i),void t();for(var e=f(i),s=[],a=kc(r.node),o=e.length;o--;){var u=e[o],h=hc(u),l=a[hc(u)],c=r.node.style[h];h in r.originals||(r.originals[h]=r.node.style[h]),r.node.style[h]=i[u],r.targets[h]=r.node.style[h],r.node.style[h]=c,l!=i[u]&&(s.push(h),i[h]=i[u],r.node.style[h]=l)}s.length?wc(r,i,n,s,t):t()}))):(this.setStyle(t,e),xc)},Ec.bind=function(){var t=this.options,e=t.template&&t.template.v;e&&("t0"!==e&&"t1"!==e||(this.element.intro=this),"t0"!==e&&"t2"!==e||(this.element.outro=this),this.eventName=Sc[e]);var n=this.owner.ractive;this.name=t.name||t.template.n,t.params&&(this.params=t.params),k(this.name)?(this._fn=this.name,this.name=this._fn.name):this._fn=rt("transitions",n,this.name),this._fn||et(it(this.name,"transition"),{ractive:n}),Xu(this,t.template)},Ec.getParams=function(){if(this.params)return this.params;if(this.fn){var t=th(0,this.template,this.up).map((function(t){if(t)return t.get()}));return this.fn.apply(this.ractive,t)}},Ec.getStyle=function(t){var e=kc(this.node);if(x(t))return e[hc(t)];if(!m(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(var n={},i=t.length;i--;){var r=t[i],s=e[hc(r)];"0px"===s&&(s=0),n[r]=s}return n},Ec.processParams=function(t,e){return S(t)?t={duration:t}:x(t)?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),h({},e,t)},Ec.registerCompleteHandler=function(t){vt(this.onComplete,t)},Ec.setStyle=function(t,e){if(x(t)){var n=hc(t);a(this.originals,n)||(this.originals[n]=this.node.style[n]),this.node.style[n]=e,this.targets[n]=this.node.style[n]}else{var i;for(i in t)a(t,i)&&this.setStyle(i,t[i])}return this},Ec.shouldFire=function(t){if(!this.ractive.transitionsEnabled)return!1;if("intro"===t&&this.ractive.rendering&&Ac("noIntro",this.ractive,!0))return!1;if("outro"===t&&this.ractive.unrendering&&Ac("noOutro",this.ractive,!1))return!1;var e=this.getParams();if(!this.element.parent)return!0;if(e&&e[0]&&y(e[0])&&"nested"in e[0]){if(!1!==e[0].nested)return!0}else if(!1!==Ac("nestedTransitions",this.ractive))return!0;for(var n=this.element.parent;n;){if(n[t]&&n[t].starting)return!1;n=n.parent}return!0},Ec.start=function(){var t,e=this,n=this.node=this.element.node,i=this.originals={},r=this.targets={},s=this.getParams();if(this.complete=function(s){if(e.starting=!1,!t){if(e.onComplete.forEach((function(t){return t()})),!s&&e.isIntro)for(var a in r)n.style[a]===r[a]&&(n.style[a]=i[a]);e._manager.remove(e),t=!0}},this._fn){var a=this._fn.apply(this.ractive,[this].concat(s));a&&a.then(this.complete)}else this.complete()},Ec.toString=function(){return""},Ec.unbind=function(){if(!this.element.attributes||!this.element.attributes.unbinding){var t=this.options&&this.options.template&&this.options.template.v;"t0"!==t&&"t1"!==t||(this.element.intro=null),"t0"!==t&&"t2"!==t||(this.element.outro=null)}},Ec.unregisterCompleteHandler=function(t){_t(this.onComplete,t)};var Cc=Mc.prototype;function Ac(t,e,n){for(var i=e;i;){if(a(i,t)&&(M(n)||n?i.rendering:i.unrendering))return i[t];i=i.component&&i.component.ractive}return e[t]}Cc.destroyed=Cc.firstNode=Cc.rebound=Cc.render=Cc.unrender=Cc.update=U;var Oc,Dc,Tc={};try{ia("table").innerHTML="foo"}catch(t){Oc=!0,Dc={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}function Nc(t){return Tc[t]||(Tc[t]=ia(t))}var Pc=function(t){function e(e){t.call(this,e)}t&&(e.__proto__=t);var n=e.prototype=Object.create(t&&t.prototype);return n.constructor=e,n.detach=function(){var t=ga();return this.nodes&&this.nodes.forEach((function(e){return t.appendChild(e)})),t},n.find=function(t){var e,n=this.nodes.length;for(e=0;e<n;e+=1){var i=this.nodes[e];if(1===i.nodeType){if(ra(i,t))return i;var r=i.querySelector(t);if(r)return r}}return null},n.findAll=function(t,e){var n,i=e.result,r=this.nodes.length;for(n=0;n<r;n+=1){var s=this.nodes[n];if(1===s.nodeType){ra(s,t)&&i.push(s);var a=s.querySelectorAll(t);a&&i.push.apply(i,a)}}},n.findComponent=function(){return null},n.firstNode=function(){return this.rendered&&this.nodes[0]},n.render=function(t,e,n){if(!this.nodes){var i=this.model?this.model.get():"";this.nodes=function(t,e){var n,i,r,s,a,o=[];if(null==t||""===t)return o;for(Oc&&(i=Dc[e.tagName])?((n=Nc("DIV")).innerHTML=i[0]+t+i[1],"SELECT"===(n=n.querySelector(".x")).tagName&&(r=n.options[n.selectedIndex])):e.namespaceURI===fa?((n=Nc("DIV")).innerHTML='<svg class="x">'+t+"</svg>",n=n.querySelector(".x")):"TEXTAREA"===e.tagName?void 0!==(n=ia("div")).textContent?n.textContent=t:n.innerHTML=t:((n=Nc(e.tagName)).innerHTML=t,"SELECT"===n.tagName&&(r=n.options[n.selectedIndex]));s=n.firstChild;)o.push(s),n.removeChild(s);if("SELECT"===e.tagName)for(a=o.length;a--;)o[a]!==r&&(o[a].selected=!1);return o}(i,t)}var r=this.nodes;if(e){for(var s,a=-1;e.length&&(s=this.nodes[a+1]);)for(var o=void 0;o=e.shift();){var u=o.nodeType;if(u===s.nodeType&&(1===u&&o.outerHTML===s.outerHTML||(3===u||8===u)&&o.nodeValue===s.nodeValue)){this.nodes.splice(++a,1,o);break}t.removeChild(o)}a>=0&&(r=this.nodes.slice(a)),e.length&&(n=e[0])}if(r.length){var h=ga();r.forEach((function(t){return h.appendChild(t)})),n?t.insertBefore(h,n):t.appendChild(h)}this.rendered=!0},n.toString=function(){var t=this.model&&this.model.get();return t=null!=t?""+t:"",wu?ln(t):t},n.unrender=function(){this.nodes&&this.nodes.forEach((function(t){Pr.detachWhenReady({node:t,detach:function(){ba(t)}})})),this.rendered=!1,this.nodes=null},n.update=function(){this.rendered&&this.dirty?(this.dirty=!1,this.unrender(),this.render(this.up.findParentNode(),null,this.up.findNextNode(this))):this.dirty=!1},e}(hl);function Bc(t,e){var n,i=st("components",t,e);if(i&&(n=i.components[e])&&!n.isInstance)if(n.default&&n.default.isInstance)n=n.default;else if(!n.then&&k(n)){var r=n.bind(i);if(r.isOwner=a(i.components,e),!(n=r()))return void tt(nt,e,"component","component",{ractive:t});x(n)&&(n=Bc(t,n)),n._fn=r,i.components[e]=n}return n}function Rc(t,e,n){var i=t.f.find((function(t){return t.t===e}));return i?i.n?[{t:19,n:54,f:i.f||[],z:[{n:i.n,x:{r:"__await."+n}}]}]:i.f||[]:[]}var jc={};jc[19]=Wl,jc[be]=Iu,jc[55]=function(t){var e=t.template,n=Rc(e,ze,"value"),i=Rc(e,63,"error"),r=Rc(e,me),s=Rc(e,60),a=h({},t,{template:{t:ge,m:[{t:_e,n:"for",f:[{t:pe,r:e.r,rx:e.rx,x:e.x}]}]},macro:function(t,e){function a(e){e.for&&k(e.for.then)?(t.setTemplate(r),e.for.then((function(e){t.set("@local.value",e),t.setTemplate(n)}),(function(e){t.set("@local.error",e),t.setTemplate(i)}))):M(e.for)?t.setTemplate(s):(t.set("@local.value",e.for),t.setTemplate(n))}return t.aliasLocal("__await"),a(e),{update:a}}});return a.macro.attributes=["for"],new Al(a)},jc[18]=rh,jc[pe]=dl,jc[ye]=Al,jc[me]=Wl,jc[3]=Pc,jc[ke]=Al,jc[_e]=ku,jc[Ge]=xu,jc[We]=nh,jc[Ue]=Xh,jc[Ke]=Mc,jc[9]=Mu;var Yc={doctype:rh,form:Hh,input:fl,option:Sl,select:$l,textarea:Zl};function Vc(t){if(x(t.template))return new ql(t);var e,n,i,r=t.template.t;if(r===ge){if(n=t.template.e,(e=st("partials",t.up.ractive,n))&&(e=e.partials[n]).styleSet)return t.macro=e,new Al(t);if(e=Bc(t.up.ractive,n)){if(k(e.then))return function(t,e){var n=e.template.p||{},i=e.template.e;return new Al(h({},e,{template:{t:ge,e:i},macro:function(r){r.setTemplate(n["async-loading"]||[]),t.then((function(t){e.up.ractive.components[i]=t,n["async-loaded"]?(r.partials.component=[e.template],r.setTemplate(n["async-loaded"])):r.setTemplate([e.template])}),(function(t){n["async-failed"]?(r.aliasLocal("error","error"),r.set("@local.error",t),r.setTemplate(n["async-failed"])):r.setTemplate([])}))}}))}(e,t);if(k(e))return new Iu(t,e)}return new(e=Yc[n.toLowerCase()]||Dh)(t)}if(r===_e){var s=t.owner;(!s||s.type!==be&&s.type!==we&&s.type!==ge)&&(s=js(t.up)),t.element=s,i=s.type===we||s.type===be?xl:ku}else i=jc[r];if(!i)throw new Error("Unrecognised item type "+r);return new i(t)}function Ic(t,e,n,i){return void 0===i&&(i=0),t.map((function(t){if(1===t.type)return t.template;if(t.fragment)return t.fragment.iterations?t.fragment.iterations.map((function(t){return Ic(t.items,e,n,i)})).join(""):Ic(t.fragment.items,e,n,i);var r=n+"-"+i++,s=t.model||t.newModel;return e[r]=s?s.wrapper?s.wrapperValue:s.get():void 0,"${"+r+"}"})).join("")}function Lc(t,e,n){void 0===n&&(n={});for(var i=0;i<t.length;i++)if(!n[t[i].n]){var r=ul(e,t[i].x);n[t[i].n]=r,r.reference()}return n}var Fc=function(t){this.owner=t.owner,this.isRoot=!t.owner.up,this.parent=this.isRoot?null:this.owner.up,this.ractive=t.ractive||(this.isRoot?t.owner:this.parent.ractive),this.componentParent=this.isRoot&&this.ractive.component?this.ractive.component.up:this.owner.containerFragment||null,!this.isRoot||this.ractive.delegate?this.delegate=this.owner.containerFragment?this.owner.containerFragment&&this.owner.containerFragment.delegate:this.componentParent&&this.componentParent.delegate||this.parent&&this.parent.delegate:this.delegate=!1,this.context=null,this.rendered=!1,this.cssIds="cssIds"in t?t.cssIds&&t.cssIds.length&&t.cssIds:this.parent?this.parent.cssIds:null,this.dirty=!1,this.dirtyValue=!0,this.template=t.template||[],this.createItems()},Hc=Fc.prototype;function zc(t){var e,n=rs(this);if(t){if(this.rootModel)return this.rootModel;this.rootModel=new Yl(this.context.getKeypath(this.ractive.root),this.context,this.ractive.root),e=this.rootModel}else{if(this.pathModel)return this.pathModel;this.pathModel=new Yl(this.context.getKeypath(),this.context),e=this.pathModel}return n&&n.context&&n.getKeypath(t).registerChild(e),e}function Uc(t,e,n){var i=t.viewmodel.computed;if(i)for(var r in i)r in t.viewmodel.value&&i[r]&&!i[r].isReadonly&&i[r].set(t.viewmodel.value[r]);Io.init(t.constructor,t,e),m(e.use)&&t.use.apply(t,e.use.filter((function(t){return!t.construct}))),Os.config.fire(t),Os.init.begin(t);var s=t.fragment=Wc(t,n);if(s&&s.bind(t.viewmodel),Os.init.end(t),Pu(t,e,"observe"),s){var a=t.el=t.target=ya(t.el||t.target);if(a&&!t.component){var o=t.render(a,t.append);od.DEBUG_PROMISES&&o.catch((function(e){throw et("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),tt("An error happened during rendering",{ractive:t}),function(){od.DEBUG&&W.apply(null,arguments)}(e),e}))}}}function Wc(t,e){if(void 0===e&&(e={}),t.template){var n=[].concat(t.constructor._cssIds||[],e.cssIds||[]);return new Fc({owner:t,template:t.template,cssIds:n})}}function Kc(t,e,n,i){t.rendering=!0;var r=Pr.start();if(Pr.scheduleTask((function(){return Os.render.fire(t)}),!0),t.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(t.destroyed&&(t.destroyed=!1,t.fragment=Wc(t).bind(t.viewmodel)),n=ya(n)||t.anchor,t.el=t.target=e,t.anchor=n,t.cssId&&$a(),e)if((e.__ractive_instances__||(e.__ractive_instances__=[])).push(t),n){var s=A.createDocumentFragment();t.fragment.render(s),e.insertBefore(s,n)}else t.fragment.render(e,i);return Pr.end(),t.rendering=!1,r.then((function(){t.torndown||Os.complete.fire(t)}))}Hc.bind=function(t){this.context=t,this.owner.template.z&&(this.aliases=Lc(this.owner.template.z,this.owner.containerFragment||this.parent));for(var e=this.items.length,n=0;n<e;n++)this.items[n].bind();return this.bound=!0,this.dirty&&this.update(),this},Hc.bubble=function(){this.dirtyValue=!0,this.dirty||(this.dirty=!0,this.isRoot?this.ractive.component?this.ractive.component.bubble():this.bound&&Pr.addFragment(this):this.owner.bubble(this.index))},Hc.createItems=function(){var t=this,e=this.template.length;this.items=[];for(var n=0;n<e;n++)t.items[n]=Vc({up:t,template:t.template[n],index:n})},Hc.destroyed=function(){for(var t=this.items.length,e=0;e<t;e++)this.items[e].destroyed();this.pathModel&&this.pathModel.destroyed(),this.rootModel&&this.rootModel.destroyed()},Hc.detach=function(){for(var t=ga(),e=this.items,n=e.length,i=0;i<n;i++)t.appendChild(e[i].detach());return t},Hc.find=function(t,e){return xt(this.items,(function(n){return n.find(t,e)}))},Hc.findAll=function(t,e){this.items&&this.items.forEach((function(n){return n.findAll&&n.findAll(t,e)}))},Hc.findComponent=function(t,e){return xt(this.items,(function(n){return n.findComponent(t,e)}))},Hc.findAllComponents=function(t,e){this.items&&this.items.forEach((function(n){return n.findAllComponents&&n.findAllComponents(t,e)}))},Hc.findContext=function(){var t=rs(this);return t&&t.context?t.context:this.ractive.viewmodel},Hc.findNextNode=function(t){if(t)for(var e,n=t.index+1;n<this.items.length;n++)if((e=this.items[n])&&e.firstNode){var i=e.firstNode(!0);if(i)return i}return this.isRoot?this.ractive.component?this.ractive.component.up.findNextNode(this.ractive.component):null:this.parent?this.owner.findNextNode(this):void 0},Hc.findParentNode=function(){var t=this;do{if(t.owner.type===ge)return t.owner.node;if(t.isRoot&&!t.ractive.component)return t.ractive.el;t=t.owner.type===ke?t.owner.containerFragment:t.componentParent||t.parent}while(t);throw new Error("Could not find parent node")},Hc.firstNode=function(t){var e=xt(this.items,(function(t){return t.firstNode(!0)}));return e||(t?null:this.parent.findNextNode(this.owner))},Hc.getKey=function(){return this.keyModel||(this.keyModel=new Yl(this.key))},Hc.getIndex=function(){return this.idxModel||(this.idxModel=new Yl(this.index))},Hc.rebind=function(t){this.context=t,this.rootModel&&(this.rootModel.context=this.context),this.pathModel&&(this.pathModel.context=this.context)},Hc.rebound=function(t){if(this.owner.template.z){var e=this.aliases;for(var n in e)e[n].rebound?e[n].rebound(t):(e[n].unreference(),e[n]=0);Lc(this.owner.template.z,this.owner.containerFragment||this.parent,e)}this.items.forEach((function(e){return e.rebound(t)})),t&&(this.rootModel&&this.rootModel.applyValue(this.context.getKeypath(this.ractive.root)),this.pathModel&&this.pathModel.applyValue(this.context.getKeypath()))},Hc.render=function(t,e){if(this.rendered)throw new Error("Fragment is already rendered!");this.rendered=!0;for(var n=this.items,i=n.length,r=0;r<i;r++)n[r].render(t,e)},Hc.resetTemplate=function(t){var e=this.bound,n=this.rendered;if(e&&(n&&this.unrender(!0),this.unbind()),this.template=t,this.createItems(),e&&(this.bind(this.context),n)){var i=this.findParentNode(),r=this.findNextNode();if(r){var s=ga();this.render(s),i.insertBefore(s,r)}else this.render(i)}},Hc.shuffled=function(){this.items.forEach(Jt),this.rootModel&&this.rootModel.applyValue(this.context.getKeypath(this.ractive.root)),this.pathModel&&this.pathModel.applyValue(this.context.getKeypath())},Hc.toString=function(t){return this.items.map(t?ie:ne).join("")},Hc.unbind=function(t){var e=this;if(this.owner.template.z&&!this.owner.yielder){for(var n in e.aliases)e.aliases[n].unreference();this.aliases={}}this.context=null;for(var i=this.items.length,r=0;r<i;r++)e.items[r].unbind(t);return this.bound=!1,this},Hc.unrender=function(t){for(var e=this.items.length,n=0;n<e;n++)this.items[n].unrender(t);this.rendered=!1},Hc.update=function(){if(this.dirty)if(this.updating)this.isRoot&&Pr.addFragmentToRoot(this);else{this.dirty=!1,this.updating=!0;for(var t=this.items.length,e=0;e<t;e++)this.items[e].update();this.updating=!1}},Hc.valueOf=function(){if(1===this.items.length)return this.items[0].valueOf();if(this.dirtyValue){var t={},e=kl(Ic(this.items,t,this.ractive._guid),t);this.value=e?e.value:this.toString(),this.dirtyValue=!1}return this.value},Fc.prototype.getContext=es,Fc.prototype.getKeypath=zc;var Gc=["template","partials","components","decorators","events"];function $c(t,e,n,i){t.forEach((function(t){if(t.type===ye&&(t.refName===e||t.name===e))return t.inAttribute=n,void i.push(t);if(t.fragment)$c(t.fragment.iterations||t.fragment.items,e,n,i);else if(m(t.items))$c(t.items,e,n,i);else if(t.type===we&&t.instance){if(t.instance.partials[e])return;$c(t.instance.fragment.items,e,n,i)}t.type===ge&&m(t.attributes)&&$c(t.attributes,e,!0,i)}))}function Zc(){var t=[this.cssId].concat(this.findAllComponents().map((function(t){return t.cssId}))),e=f(t.reduce((function(t,e){return t[e]=!0,t}),{}));return Za(e)}function qc(){return this.fragment.toString(!0)}var Jc={add:function(t,e,n){return ps(this,t,S(e)?e:1,w(e)?e:n)},animate:function(t,e,n){if(w(t)){var i=f(t);throw new Error("ractive.animate(...) no longer supports objects. Instead of ractive.animate({\n  "+i.map((function(e){return"'"+e+"': "+t[e]})).join("\n  ")+"\n}, {...}), do\n\n"+i.map((function(e){return"ractive.animate('"+e+"', "+t[e]+", {...});"})).join("\n")+"\n")}return gs(this,this.viewmodel.joinAll(pt(t)),e,n)},attachChild:function(t,e){void 0===e&&(e={});var n,i=this._children;if(t.parent&&t.parent!==this)throw new Error("Instance "+t._guid+" is already attached to a different instance "+t.parent._guid+". Please detach it from the other instance using detachChild first.");if(t.parent)throw new Error("Instance "+t._guid+" is already attached to this instance.");var r,s={instance:t,ractive:this,name:e.name||t.constructor.name||"Ractive",target:e.target||!1,bubble:Ps,findNextNode:Bs};s.nameOption=e.name,s.target?((r=i.byName[s.target])||(r=[],this.set("@this.children.byName."+s.target,r)),n=e.prepend?0:void 0!==e.insertAt?e.insertAt:r.length):(s.up=this.fragment,s.external=!0),t.parent=this,t.root=this.root,t.component=s,i.push(s);var a=Pr.start(),o=t.viewmodel.getRactiveModel();return o.joinKey("parent",{lastLink:!1}).link(this.viewmodel.getRactiveModel()),o.joinKey("root",{lastLink:!1}).link(this.root.viewmodel.getRactiveModel()),Os.attachchild.fire(t),s.target?(function(t){t.instance.fragment.rendered&&(t.shouldDestroy=!0,t.instance.unrender()),t.instance.el=null}(s),this.splice("@this.children.byName."+s.target,n,0,s),Ns(this,s.target)):t.isolated||t.viewmodel.attached(this.fragment),Pr.end(),a.ractive=t,a.then((function(){return t}))},compute:function(t,e){var n=Pr.start(),i=Rs.call(this,t,e);if(i){var r=pt(t);1!==r.length||i.isReadonly||i.set(this.viewmodel.value[r[0]]);var s=r.reduce((function(t,e){return t&&t.childByKey[e]}),this.viewmodel);s&&(s.rebind(i,s,!1),s.parent&&delete s.parent.childByKey[s.key],Bt())}return Pr.end(),n},detach:function(){return this.isDetached||(this.el&&_t(this.el.__ractive_instances__,this),this.el=this.fragment.detach(),this.isDetached=!0,Os.detach.fire(this)),this.el},detachChild:function(t){for(var e,n,i=this._children,r=i.length;r--;)if(i[r].instance===t){n=r,e=i[r];break}if(!e||t.parent!==this)throw new Error("Instance "+t._guid+" is not attached to this instance.");var s=Pr.start();e.anchor&&e.anchor.removeChild(e),t.isolated||t.viewmodel.detached(),i.splice(n,1),e.target&&(this.splice("@this.children.byName."+e.target,i.byName[e.target].indexOf(e),1),Ns(this,e.target));var a=t.viewmodel.getRactiveModel();return a.joinKey("parent",{lastLink:!1}).unlink(),a.joinKey("root",{lastLink:!1}).link(a),t.root=t,t.parent=null,t.component=null,Os.detachchild.fire(t),Pr.end(),s.ractive=t,s.then((function(){return t}))},find:function(t,e){if(void 0===e&&(e={}),!this.rendered)throw new Error("Cannot call ractive.find('"+t+"') unless instance is rendered to the DOM");var n=this.fragment.find(t,e);if(n)return n;if(e.remote)for(var i=0;i<this._children.length;i++)if(this._children[i].instance.fragment.rendered&&(n=this._children[i].instance.find(t,e)))return n},findAll:function(t,e){if(void 0===e&&(e={}),!this.rendered)throw new Error("Cannot call ractive.findAll('"+t+"', ...) unless instance is rendered to the DOM");return m(e.result)||(e.result=[]),this.fragment.findAll(t,e),e.remote&&this._children.forEach((function(n){!n.target&&n.instance.fragment&&n.instance.fragment.rendered&&n.instance.findAll(t,e)})),e.result},findAllComponents:function(t,e){return!e&&w(t)&&(e=t,t=""),m((e=e||{}).result)||(e.result=[]),this.fragment.findAllComponents(t,e),e.remote&&this._children.forEach((function(n){!n.target&&n.instance.fragment&&n.instance.fragment.rendered&&(t&&n.name!==t||e.result.push(n.instance),n.instance.findAllComponents(t,e))})),e.result},findComponent:function(t,e){var n=this;void 0===e&&(e={}),w(t)&&(e=t,t="");var i=this.fragment.findComponent(t,e);if(i)return i;if(e.remote){if(!t&&this._children.length)return this._children[0].instance;for(var r=0;r<this._children.length;r++)if(!n._children[r].target){if(n._children[r].name===t)return n._children[r].instance;if(i=n._children[r].instance.findComponent(t,e))return i}}},findContainer:function(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null},findParent:function(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null},fire:function(t){for(var e,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];if(n[0]instanceof Zs){var r=n.shift();e=l(r),h(e,r)}else e=!w(n[0])||null!==n[0]&&n[0].constructor!==Object?Zs.forRactive(this):Zs.forRactive(this,n.shift());return ws(this,t,e,n)},get:function(t,e){if(!x(t))return this.viewmodel.get(!0,t);var n=pt(t),i=n[0];return this.viewmodel.has(i)||this.component&&!this.isolated&&Zr(this.fragment||new ns(this),i),this.viewmodel.joinAll(n).get(!0,e)},getLocalContext:function(){if(Gs.f)return Gs.f.getContext()},getContext:function(t,e){return t?(x(t)&&(t=this.find(t,e)),na(t)):ts(this)},insert:function(t,e){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=ya(t),e=ya(e)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),e),this.el=t,(t.__ractive_instances__||(t.__ractive_instances__=[])).push(this),this.isDetached=!1,ka(this)},link:function(t,e,n){var i,r=n&&(n.ractive||n.instance)||this,s=pt(t);!r.viewmodel.has(s[0])&&r.component&&(i=(i=Zr(r.component.up,s[0])).joinAll(s.slice(1)));var a=i||r.viewmodel.joinAll(s),o=this.viewmodel.joinAll(pt(e),{lastLink:!1});if(xa(a,o)||xa(o,a))throw new Error("A keypath cannot be linked to itself.");var u=Pr.start();return o.link(a,n&&n.keypath||t),Pr.end(),u},observe:function(t,e,n){var i,r,s=this,a=[];y(t)?(i=t,r=e||{}):k(t)?(i={"":t},r=e||{}):((i={})[t]=e,r=n||{});var o=!1;return f(i).forEach((function(t){var e=i[t],n=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(!o)return e.apply(this,t)},u=t.split(" ");u.length>1&&(u=u.filter((function(t){return t}))),u.forEach((function(t){r.keypath=t;var e=function(t,e,n,i){var r,s=pt(e),a=s.indexOf("*");if(~a||(a=s.indexOf("**")),i.fragment=i.fragment||t.fragment,i.fragment?~s[0].indexOf(".*")?(r=i.fragment.findContext(),a=0,s[0]=s[0].slice(1)):r=0===a?i.fragment.findContext():Zr(i.fragment,s[0]):r=t.viewmodel.joinKey(s[0]),r||(r=t.viewmodel.joinKey(s[0])),~a){var o=s.indexOf("**");return~o&&(o+1!==s.length||~s.indexOf("*"))?void et("Recursive observers may only specify a single '**' at the end of the path."):(r=r.joinAll(s.slice(1,a)),new Oa(t,r,s.slice(a),n,i))}return r=r.joinAll(s.slice(1)),i.array?new Pa(t,r,n,i):new Sa(t,r,n,i)}(s,t,n,r);e&&a.push(e)}))})),this._observers.push.apply(this._observers,a),{cancel:function(){return a.forEach((function(t){return t.cancel()}))},isSilenced:function(){return o},silence:function(){return o=!0},resume:function(){return o=!1}}},observeOnce:function(t,e,n){return y(t)||k(t)?(n=h(e||{},Ra),this.observe(t,n)):(n=h(n||{},Ra),this.observe(t,e,n))},off:function(t,e){var n=this;return t?t.split(" ").map(ja).filter(Ya).forEach((function(t){var i=n._subs[t];if(i&&e){var r=i.find((function(t){return t.callback===e}));r&&(_t(i,r),r.off=!0,t.indexOf(".")&&n._nsSubs--)}else i&&(t.indexOf(".")&&(n._nsSubs-=i.length),i.length=0)})):this._subs={},this},on:function(t,e){var n=this,i=w(t)?t:{};x(t)&&(i[t]=e);var r=!1,s=[],o=function(t){var e=i[t],o={callback:e,handler:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(!r)return e.apply(this,t)}};a(i,t)&&t.split(" ").map(ja).filter(Ya).forEach((function(t){(n._subs[t]||(n._subs[t]=[])).push(o),t.indexOf(".")&&n._nsSubs++,s.push([t,o])}))};for(var u in i)o(u);return{cancel:function(){return s.forEach((function(t){return n.off(t[0],t[1].callback)}))},isSilenced:function(){return r},silence:function(){return r=!0},resume:function(){return r=!1}}},once:function(t,e){var n=this.on(t,(function(){e.apply(this,arguments),n.cancel()}));return n},pop:Va,push:Ia,readLink:function(t,e){void 0===e&&(e={});var n=pt(t);if(this.viewmodel.has(n[0])){var i=this.viewmodel.joinAll(n);if(!i.isLink)return;for(;(i=i.target)&&!1!==e.canonical&&i.isLink;);if(i)return{ractive:i.root.ractive,keypath:i.getKeypath()}}},render:function(t,e){if(this.torndown)return tt("ractive.render() was called on a Ractive instance that was already torn down"),Promise.resolve();if(t=ya(t)||this.el,!this.append&&t){var n=t.__ractive_instances__;n&&n.forEach(Qt),this.enhance||(t.innerHTML="")}var i=this.enhance?kt(t.childNodes):null,r=Kc(this,t,e,i);if(i)for(;i.length;)t.removeChild(i.pop());return r},reset:function(t){if(!w(t=t||{}))throw new Error("The reset method takes either no arguments, or an object containing new data");t=xo.init(this.constructor,this,{data:t});var e=Pr.start(),n=this.viewmodel.wrapper;n&&n.reset?!1===n.reset(t)&&this.viewmodel.set(t):this.viewmodel.set(t);for(var i,r=Io.reset(this),s=r.length;s--;)if(Gc.indexOf(r[s])>-1){i=!0;break}return i&&(Os.unrender.fire(this),this.fragment.resetTemplate(this.template),Os.render.fire(this),Os.complete.fire(this)),Pr.end(),Os.reset.fire(this,t),e},resetPartial:function(t,e){var n=[];$c(this.fragment.items,t,!1,n);var i=Pr.start();return this.partials[t]=e,n.forEach(Wt),Pr.end(),i},resetTemplate:function(t){Ao.init(null,this,{template:t});var e=this.transitionsEnabled;this.transitionsEnabled=!1;var n=this.component;n&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1);var i=Pr.start();this.fragment.unbind().unrender(!0),this.fragment=new Fc({template:this.template,root:this,owner:this});var r=ga();return this.fragment.bind(this.viewmodel).render(r),n&&!n.external?this.fragment.findParentNode().insertBefore(r,n.findNextNode()):this.el.insertBefore(r,this.anchor),Pr.end(),this.transitionsEnabled=e,i},reverse:Vs("reverse").path,set:function(t,e,n){var i=w(t)?e:n;return as(hs(this,t,e,i&&i.isolated),i)},shift:Vs("shift").path,sort:Vs("sort").path,splice:Vs("splice").path,subtract:function(t,e,n){return ps(this,t,S(e)?-e:-1,w(e)?e:n)},teardown:function(){var t=this;return this.torndown?(tt("ractive.teardown() was called on a Ractive instance that was already torn down"),Promise.resolve()):(this.shouldDestroy=!0,Cu(this,(function(){return t.fragment.rendered?t.unrender():Promise.resolve()})))},toggle:function(t,e){if(!x(t))throw new TypeError("Bad arguments");return as(us(this,t,null,e&&e.isolated).map((function(t){return[t,!t.get()]})),e)},toCSS:Zc,toCss:Zc,toHTML:qc,toHtml:qc,toText:function(){return this.fragment.toString(!1)},transition:function(t,e,n){e instanceof HTMLElement||y(e)&&(n=e),(e=e||this.event.node)&&e._ractive||J("No node was supplied for transition "+t),n=n||{};var i=e._ractive.proxy,r=new Mc({owner:i,up:i.up,name:t,params:n});r.bind();var s=Pr.start();return Pr.registerTransition(r),Pr.end(),s.then((function(){return r.unbind()})),s},unlink:function(t){var e=Pr.start();return this.viewmodel.joinAll(pt(t),{lastLink:!1}).unlink(),Pr.end(),e},unrender:function(){if(!this.fragment.rendered)return tt("ractive.unrender() was called on a Ractive instance that was not rendered"),Promise.resolve();this.unrendering=!0;var t=Pr.start();Os.unrendering.fire(this);var e=!this.component||(this.component.anchor||{}).shouldDestroy||this.component.shouldDestroy||this.shouldDestroy;return this.fragment.unrender(e),e&&(this.destroyed=!0),_t(this.el.__ractive_instances__,this),Os.unrender.fire(this),Pr.end(),this.unrendering=!1,t},unshift:Vs("unshift").path,update:function(t,e){var n,i;return x(t)?(i=pt(t),n=e):n=t,Is(this,i?this.viewmodel.joinAll(i):this.viewmodel,n)},updateModel:function(t,e){var n=Pr.start();return t?this.viewmodel.joinAll(pt(t)).updateFromBindings(!1!==e):this.viewmodel.updateFromBindings(!0),Pr.end(),n},use:function(){for(var t=this,e=[],n=arguments.length;n--;)e[n]=arguments[n];return e.forEach((function(e){e({proto:t,Ractive:t.constructor.Ractive,instance:t})})),this}};function Qc(t){return t&&t instanceof this}function Xc(t,e){return this._cssModel.joinAll(pt(t)).get(!0,e)}var td=[];function ed(t){return td.map((function(e){return"\n/* ---- extra style "+e.id+" */\n"+(k(e.css)?e.css(t):e.css)})).join("")}function nd(){for(var t=this,e=[],n=arguments.length;n--;)e[n]=arguments[n];return e.forEach((function(e){k(e)&&e({proto:t.prototype,Ractive:t.Ractive,instance:t})})),this}var id=/super\s*\(|\.call\s*\(\s*this/;function rd(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.length?t.reduce(ad,this):ad(this)}function sd(t,e){return void 0===e&&(e={}),ad(this,e,t)}function ad(t,e,n){var i;void 0===e&&(e={});var r,s=k(n)&&n;if(e.prototype instanceof od)throw new Error("Ractive no longer supports multiple inheritance.");if(s){if(!(s.prototype instanceof t))throw new Error("Only classes that inherit the appropriate prototype may be used with extend");if(!id.test(s.toString()))throw new Error("Only classes that call super in their constructor may be used with extend");i=s.prototype}else s=function(t){if(!(this instanceof s))return new s(t);t&&!0===t.component||(Yu(this,t||{}),Uc(this,t||{},{}))},(i=l(t.prototype)).constructor=s,s.prototype=i;return d(s,{defaults:{value:i},extend:{value:rd,writable:!0,configurable:!0},extendWith:{value:sd,writable:!0,configurable:!0},extensions:{value:[]},use:{value:nd},isInstance:{value:Qc},Parent:{value:t},Ractive:{value:od},styleGet:{value:Xc.bind(s),configurable:!0},styleSet:{value:mo.bind(s),configurable:!0}}),Io.extend(t,i,e,s),s._on=(t._on||[]).concat(o(e.on)),s._observe=(t._observe||[]).concat(o(e.observe)),t.extensions.push(s),e.attributes&&(r=m(e.attributes)?{optional:e.attributes,required:[]}:e.attributes,m(r.required)||(r.required=[]),m(r.optional)||(r.optional=[]),s.attributes=r),xo.extend(t,i,e,s),c(s,"helpers",{writable:!0,value:i.helpers}),m(e.use)&&s.use.apply(s,e.use),s}function od(t){if(!(this instanceof od))return new od(t);t&&t.component||(Yu(this,t||{}),Uc(this,t||{},{}))}if(d(od,{sharedGet:{value:function(t,e){return Gr.joinAll(pt(t)).get(!0,e)}},sharedSet:{value:function(t,e,n){var i=w(t)?e:n;return as(hs({viewmodel:Gr},t,e,!0),i)}},styleGet:{configurable:!0,value:Xc.bind(od)},styleSet:{configurable:!0,value:mo.bind(od)},addCSS:{configurable:!1,value:function(t,e){if(td.find((function(e){return e.id===t})))throw new Error("Extra styles with the id '"+t+"' have already been added.");td.push({id:t,css:e}),this.css||Object.defineProperty(this,"css",{configurable:!1,writable:!1,value:ed}),this._cssDef||(Object.defineProperty(this,"_cssDef",{configurable:!0,writable:!1,value:{transform:!1,id:"Ractive.addStyle"}}),Ga(this._cssDef)),go(this),$a(!0)}.bind(od)},hasCSS:{configurable:!1,value:function(t){return!!td.find((function(e){return e.id===t}))}.bind(od)}}),C&&!C.Ractive){var ud="",hd=document.currentScript||document.querySelector("script[data-ractive-options]");hd&&(ud=hd.getAttribute("data-ractive-options")||""),~ud.indexOf("ForceGlobal")&&(C.Ractive=od)}else C&&Q("Ractive already appears to be loaded while loading 1.4.4.");h(od.prototype,Jc,H),od.prototype.constructor=od,od.defaults=od.prototype,lr.defaults=od.defaults,lr.Ractive=od,d(od,{DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:rd},extendWith:{value:sd},escapeKey:{value:dt},evalObjectString:{value:kl},findPlugin:{value:function(t,e,n){return rt(e,n,t)}},getContext:{value:na},getCSS:{value:Za},isInstance:{value:Qc},joinKeys:{value:Ca},macro:{value:function(t,e){if(!k(t))throw new Error("The macro must be a function");return h(t,e),d(t,{extensions:{value:[]},_cssIds:{value:[]},cssData:{value:h(l(this.cssData),t.cssData||{})},styleGet:{value:Xc.bind(t)},styleSet:{value:mo.bind(t)}}),c(t,"_cssModel",{value:new yo(t)}),t.css&&ko(t,t,t),this.extensions.push(t),t}},normaliseKeypath:{value:ft},parse:{value:yr},splitKeypath:{value:function(t){return pt(t).map(mt)}},unescapeKey:{value:mt},use:{value:nd},enhance:{writable:!0,value:!1},svg:{value:N},tick:{get:function(){return Er&&Er.promise}},VERSION:{value:"1.4.4"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:z},events:{writable:!0,value:{}},extensions:{value:[]},helpers:{writable:!0,value:H.helpers},interpolators:{writable:!0,value:ot},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}},cssData:{configurable:!0,value:{}},perComponentStyleElements:{get:Ka,set:Ka},sharedData:{value:Wr},Ractive:{value:od},Context:{value:Xr.Context.prototype}}),c(od,"_cssModel",{configurable:!0,value:new yo(od)}),c(od.prototype,"rendered",{get:function(){return this.fragment&&this.fragment.rendered}});const ld=od;var cd=n(93),dd=n.n(cd);class fd{intervaloMs=10;constructor(t){this.callback=t}start(){this.moment=dd()(),this.crono=setInterval((()=>this.workflow()),this.intervaloMs)}pause(){this.pauseStorage=dd()(),window.clearInterval(this.crono)}resume(){const t=dd()().diff(this.pauseStorage,"ms");this.moment?.add(t,"ms"),this.crono=setInterval((()=>{this.workflow()}),this.intervaloMs)}end(){window.clearInterval(this.crono)}addZ(t,e=2){return String(t).padStart(e,"0")}cronoTimer(){const t=dd()().diff(this.moment,"ms"),e=t%1e3,n=Math.floor(t/1e3),i=n%60,r=Math.floor(n/60),s=r%60,a=Math.floor(r/60),o=`${this.addZ(a)}:${this.addZ(s)}:${this.addZ(i)}:${this.addZ(e,3)}`;this.values={_time:t,ms:e,timeSecs:n,secs:i,timeMinutes:r,mins:s,hours:a,finalTime:o}}workflow(){this.cronoTimer(),this.callback(this.values)}}class pd{clockElement=document.querySelector("#timekeeper");clockTimerElement=document.getElementById("timer");constructor(){}start(){this.clockElement&&(this.clockElement.classList.remove("end"),this.clockElement.classList.add("start"))}end(){this.clockElement&&(this.clockElement.classList.remove("start"),this.clockElement.classList.add("end"))}addZ(t,e=2){return String(t).padStart(e,"0")}update(t){this.clockTimerElement&&(this.clockTimerElement.innerHTML=`${this.addZ(t.mins)}:${this.addZ(t.secs)}:${this.addZ(t.ms,3).substring(0,2)}`)}}class md{#t=new fd(this.updateTime.bind(this));#e=[];#n;clock=new pd;config={};triviaElement=document.querySelector("#trivia");hiddenInputs=new ld({target:"#hidden__inputs",template:"#hidden__inputs--template",data:{TIME_MS:"0",TIMER_CLOCK:"00:00:00"}});triviaQuestion=new ld({target:"#trivia__question",template:"#trivia__question--template"});triviaAnswers=new ld({target:"#trivia__options",template:"#trivia__options--template",on:{handleInputChange:function(){document.querySelectorAll('[type="submit"]').forEach((t=>{t.classList.remove("disabled"),t.disabled=!1}))}}});#i;constructor(t,e){this.#i=e,this.config=t.config,this.#n=t.trivia,this.initSubmitHandler(),this.disableSubmit()}init(){this.#t.start(),this.clock.start(),this.renderTrivia()}updateTime(t){this.clock.update(t),this.hiddenInputs.set("TIME_MS",t._time),this.hiddenInputs.set("TIMER_CLOCK",t.finalTime)}get loader(){return document.querySelector("dialog#loader")||!1}initSubmitHandler(){this.triviaElement?.addEventListener("submit",(t=>{if(t.preventDefault(),!(t.currentTarget instanceof HTMLFormElement))return;const e=new FormData(t.currentTarget),n=Array.from(e.entries()).map((([t,e])=>({name:t,value:e})));this.setData(n),this.#r()}))}setData(t){const e={};for(const r of t){var n=r.name,i=r.value;e[n]=i.toString()}const r={trivia_id:Number.parseInt(e.trivia_id),ans:e.ans,tiempo:Number.parseInt(e.tiempo),timer:e.timer};this.#e.push(r),this.#n?.shift()}#r(){if(this.clearTrivia(),this.disableSubmit(),void 0!==this.#n&&this.#n.length)return this.renderTrivia();this.#s()}disableSubmit(){document.querySelectorAll('[type="submit"]').forEach((t=>{t.classList.add("disabled"),t.disabled=!0}))}clearTrivia(){this.triviaAnswers.set("DISPLAY","none"),this.triviaAnswers.set("OPTIONS",[]),this.disableSubmit()}renderTrivia(){if(void 0===this.#n)return this.#s();const t=this.#n[0];t.options.forEach(((t,e)=>{t.ID=`opc_${(new Date).getTime().toString(36)}-${e}`})),this.triviaQuestion.set("TRIVIA_ID",t.TRIVIA_ID),this.triviaQuestion.set("TRIVIA_PREGUNTA",t.TRIVIA_PREGUNTA),this.triviaAnswers.set("DISPLAY","block"),this.triviaAnswers.set("OPTIONS",t.options)}#s(){this.loader&&this.loader.showModal(),this.#t.end(),this.clock.end();const t=this.#e;void 0!==this.#i&&this.#i(t)}}const vd=document.querySelector("#trivia"),gd=vd?.dataset.token;if(!vd||!gd)throw new Error("HTTP error triviaElement");const yd=vd.getAttribute("action")??"/save_trivia",bd=vd.getAttribute("method")??"POST";var _d=!1;window.addEventListener("beforeunload",(t=>{if(!_d)return t.preventDefault(),"¿Seguro que quieres irte?"})),s.getTrivia(gd).then((t=>new Promise((e=>{new md(t,(t=>e(t))).init()})))).then((t=>s.saveTrivia(t,gd,yd,bd))).then((t=>(_d=!0,"ok"==t.status?window.location.href=t.redirect:(window.alert("Hubo un problema. Por favor, pongase en contacto con el administrador."),window.location.href="/")))).catch((t=>{console.error(t),alert("Algo salio mal. Porfavor, pongase en contacto con el administrador.")}))})()})();